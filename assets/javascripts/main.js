(()=>{var em=Object.create;var Kl=Object.defineProperty;var tm=Object.getOwnPropertyDescriptor;var rm=Object.getOwnPropertyNames;var nm=Object.getPrototypeOf,im=Object.prototype.hasOwnProperty;var te=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var sm=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rm(e))!im.call(t,i)&&i!==r&&Kl(t,i,{get:()=>e[i],enumerable:!(n=tm(e,i))||n.enumerable});return t};var sn=(t,e,r)=>(r=t!=null?em(nm(t)):{},sm(e||!t||!t.__esModule?Kl(r,"default",{value:t,enumerable:!0}):r,t));var ih=te((rh,nh)=>{(function(t){if(typeof rh=="object")nh.exports=t();else if(typeof define=="function"&&define.amd)define(t);else{var e;try{e=window}catch{e=self}e.SparkMD5=t()}})(function(t){"use strict";var e=function(S,O){return S+O&4294967295},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(S,O,m,d,x,v){return O=e(e(O,S),e(d,v)),e(O<<x|O>>>32-x,m)}function i(S,O){var m=S[0],d=S[1],x=S[2],v=S[3];m+=(d&x|~d&v)+O[0]-680876936|0,m=(m<<7|m>>>25)+d|0,v+=(m&d|~m&x)+O[1]-389564586|0,v=(v<<12|v>>>20)+m|0,x+=(v&m|~v&d)+O[2]+606105819|0,x=(x<<17|x>>>15)+v|0,d+=(x&v|~x&m)+O[3]-1044525330|0,d=(d<<22|d>>>10)+x|0,m+=(d&x|~d&v)+O[4]-176418897|0,m=(m<<7|m>>>25)+d|0,v+=(m&d|~m&x)+O[5]+1200080426|0,v=(v<<12|v>>>20)+m|0,x+=(v&m|~v&d)+O[6]-1473231341|0,x=(x<<17|x>>>15)+v|0,d+=(x&v|~x&m)+O[7]-45705983|0,d=(d<<22|d>>>10)+x|0,m+=(d&x|~d&v)+O[8]+1770035416|0,m=(m<<7|m>>>25)+d|0,v+=(m&d|~m&x)+O[9]-1958414417|0,v=(v<<12|v>>>20)+m|0,x+=(v&m|~v&d)+O[10]-42063|0,x=(x<<17|x>>>15)+v|0,d+=(x&v|~x&m)+O[11]-1990404162|0,d=(d<<22|d>>>10)+x|0,m+=(d&x|~d&v)+O[12]+1804603682|0,m=(m<<7|m>>>25)+d|0,v+=(m&d|~m&x)+O[13]-40341101|0,v=(v<<12|v>>>20)+m|0,x+=(v&m|~v&d)+O[14]-1502002290|0,x=(x<<17|x>>>15)+v|0,d+=(x&v|~x&m)+O[15]+1236535329|0,d=(d<<22|d>>>10)+x|0,m+=(d&v|x&~v)+O[1]-165796510|0,m=(m<<5|m>>>27)+d|0,v+=(m&x|d&~x)+O[6]-1069501632|0,v=(v<<9|v>>>23)+m|0,x+=(v&d|m&~d)+O[11]+643717713|0,x=(x<<14|x>>>18)+v|0,d+=(x&m|v&~m)+O[0]-373897302|0,d=(d<<20|d>>>12)+x|0,m+=(d&v|x&~v)+O[5]-701558691|0,m=(m<<5|m>>>27)+d|0,v+=(m&x|d&~x)+O[10]+38016083|0,v=(v<<9|v>>>23)+m|0,x+=(v&d|m&~d)+O[15]-660478335|0,x=(x<<14|x>>>18)+v|0,d+=(x&m|v&~m)+O[4]-405537848|0,d=(d<<20|d>>>12)+x|0,m+=(d&v|x&~v)+O[9]+568446438|0,m=(m<<5|m>>>27)+d|0,v+=(m&x|d&~x)+O[14]-1019803690|0,v=(v<<9|v>>>23)+m|0,x+=(v&d|m&~d)+O[3]-187363961|0,x=(x<<14|x>>>18)+v|0,d+=(x&m|v&~m)+O[8]+1163531501|0,d=(d<<20|d>>>12)+x|0,m+=(d&v|x&~v)+O[13]-1444681467|0,m=(m<<5|m>>>27)+d|0,v+=(m&x|d&~x)+O[2]-51403784|0,v=(v<<9|v>>>23)+m|0,x+=(v&d|m&~d)+O[7]+1735328473|0,x=(x<<14|x>>>18)+v|0,d+=(x&m|v&~m)+O[12]-1926607734|0,d=(d<<20|d>>>12)+x|0,m+=(d^x^v)+O[5]-378558|0,m=(m<<4|m>>>28)+d|0,v+=(m^d^x)+O[8]-2022574463|0,v=(v<<11|v>>>21)+m|0,x+=(v^m^d)+O[11]+1839030562|0,x=(x<<16|x>>>16)+v|0,d+=(x^v^m)+O[14]-35309556|0,d=(d<<23|d>>>9)+x|0,m+=(d^x^v)+O[1]-1530992060|0,m=(m<<4|m>>>28)+d|0,v+=(m^d^x)+O[4]+1272893353|0,v=(v<<11|v>>>21)+m|0,x+=(v^m^d)+O[7]-155497632|0,x=(x<<16|x>>>16)+v|0,d+=(x^v^m)+O[10]-1094730640|0,d=(d<<23|d>>>9)+x|0,m+=(d^x^v)+O[13]+681279174|0,m=(m<<4|m>>>28)+d|0,v+=(m^d^x)+O[0]-358537222|0,v=(v<<11|v>>>21)+m|0,x+=(v^m^d)+O[3]-722521979|0,x=(x<<16|x>>>16)+v|0,d+=(x^v^m)+O[6]+76029189|0,d=(d<<23|d>>>9)+x|0,m+=(d^x^v)+O[9]-640364487|0,m=(m<<4|m>>>28)+d|0,v+=(m^d^x)+O[12]-421815835|0,v=(v<<11|v>>>21)+m|0,x+=(v^m^d)+O[15]+530742520|0,x=(x<<16|x>>>16)+v|0,d+=(x^v^m)+O[2]-995338651|0,d=(d<<23|d>>>9)+x|0,m+=(x^(d|~v))+O[0]-198630844|0,m=(m<<6|m>>>26)+d|0,v+=(d^(m|~x))+O[7]+1126891415|0,v=(v<<10|v>>>22)+m|0,x+=(m^(v|~d))+O[14]-1416354905|0,x=(x<<15|x>>>17)+v|0,d+=(v^(x|~m))+O[5]-57434055|0,d=(d<<21|d>>>11)+x|0,m+=(x^(d|~v))+O[12]+1700485571|0,m=(m<<6|m>>>26)+d|0,v+=(d^(m|~x))+O[3]-1894986606|0,v=(v<<10|v>>>22)+m|0,x+=(m^(v|~d))+O[10]-1051523|0,x=(x<<15|x>>>17)+v|0,d+=(v^(x|~m))+O[1]-2054922799|0,d=(d<<21|d>>>11)+x|0,m+=(x^(d|~v))+O[8]+1873313359|0,m=(m<<6|m>>>26)+d|0,v+=(d^(m|~x))+O[15]-30611744|0,v=(v<<10|v>>>22)+m|0,x+=(m^(v|~d))+O[6]-1560198380|0,x=(x<<15|x>>>17)+v|0,d+=(v^(x|~m))+O[13]+1309151649|0,d=(d<<21|d>>>11)+x|0,m+=(x^(d|~v))+O[4]-145523070|0,m=(m<<6|m>>>26)+d|0,v+=(d^(m|~x))+O[11]-1120210379|0,v=(v<<10|v>>>22)+m|0,x+=(m^(v|~d))+O[2]+718787259|0,x=(x<<15|x>>>17)+v|0,d+=(v^(x|~m))+O[9]-343485551|0,d=(d<<21|d>>>11)+x|0,S[0]=m+S[0]|0,S[1]=d+S[1]|0,S[2]=x+S[2]|0,S[3]=v+S[3]|0}function s(S){var O=[],m;for(m=0;m<64;m+=4)O[m>>2]=S.charCodeAt(m)+(S.charCodeAt(m+1)<<8)+(S.charCodeAt(m+2)<<16)+(S.charCodeAt(m+3)<<24);return O}function o(S){var O=[],m;for(m=0;m<64;m+=4)O[m>>2]=S[m]+(S[m+1]<<8)+(S[m+2]<<16)+(S[m+3]<<24);return O}function l(S){var O=S.length,m=[1732584193,-271733879,-1732584194,271733878],d,x,v,G,re,K;for(d=64;d<=O;d+=64)i(m,s(S.substring(d-64,d)));for(S=S.substring(d-64),x=S.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0;d<x;d+=1)v[d>>2]|=S.charCodeAt(d)<<(d%4<<3);if(v[d>>2]|=128<<(d%4<<3),d>55)for(i(m,v),d=0;d<16;d+=1)v[d]=0;return G=O*8,G=G.toString(16).match(/(.*?)(.{0,8})$/),re=parseInt(G[2],16),K=parseInt(G[1],16)||0,v[14]=re,v[15]=K,i(m,v),m}function u(S){var O=S.length,m=[1732584193,-271733879,-1732584194,271733878],d,x,v,G,re,K;for(d=64;d<=O;d+=64)i(m,o(S.subarray(d-64,d)));for(S=d-64<O?S.subarray(d-64):new Uint8Array(0),x=S.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0;d<x;d+=1)v[d>>2]|=S[d]<<(d%4<<3);if(v[d>>2]|=128<<(d%4<<3),d>55)for(i(m,v),d=0;d<16;d+=1)v[d]=0;return G=O*8,G=G.toString(16).match(/(.*?)(.{0,8})$/),re=parseInt(G[2],16),K=parseInt(G[1],16)||0,v[14]=re,v[15]=K,i(m,v),m}function g(S){var O="",m;for(m=0;m<4;m+=1)O+=r[S>>m*8+4&15]+r[S>>m*8&15];return O}function y(S){var O;for(O=0;O<S.length;O+=1)S[O]=g(S[O]);return S.join("")}y(l("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=function(S,O){var m=(S&65535)+(O&65535),d=(S>>16)+(O>>16)+(m>>16);return d<<16|m&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function S(O,m){return O=O|0||0,O<0?Math.max(O+m,0):Math.min(O,m)}ArrayBuffer.prototype.slice=function(O,m){var d=this.byteLength,x=S(O,d),v=d,G,re,K,Z;return m!==t&&(v=S(m,d)),x>v?new ArrayBuffer(0):(G=v-x,re=new ArrayBuffer(G),K=new Uint8Array(re),Z=new Uint8Array(this,x,G),K.set(Z),re)}}();function k(S){return/[\u0080-\uFFFF]/.test(S)&&(S=unescape(encodeURIComponent(S))),S}function _(S,O){var m=S.length,d=new ArrayBuffer(m),x=new Uint8Array(d),v;for(v=0;v<m;v+=1)x[v]=S.charCodeAt(v);return O?x:d}function B(S){return String.fromCharCode.apply(null,new Uint8Array(S))}function W(S,O,m){var d=new Uint8Array(S.byteLength+O.byteLength);return d.set(new Uint8Array(S)),d.set(new Uint8Array(O),S.byteLength),m?d:d.buffer}function H(S){var O=[],m=S.length,d;for(d=0;d<m-1;d+=2)O.push(parseInt(S.substr(d,2),16));return String.fromCharCode.apply(String,O)}function R(){this.reset()}return R.prototype.append=function(S){return this.appendBinary(k(S)),this},R.prototype.appendBinary=function(S){this._buff+=S,this._length+=S.length;var O=this._buff.length,m;for(m=64;m<=O;m+=64)i(this._hash,s(this._buff.substring(m-64,m)));return this._buff=this._buff.substring(m-64),this},R.prototype.end=function(S){var O=this._buff,m=O.length,d,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v;for(d=0;d<m;d+=1)x[d>>2]|=O.charCodeAt(d)<<(d%4<<3);return this._finish(x,m),v=y(this._hash),S&&(v=H(v)),this.reset(),v},R.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},R.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},R.prototype.setState=function(S){return this._buff=S.buff,this._length=S.length,this._hash=S.hash,this},R.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},R.prototype._finish=function(S,O){var m=O,d,x,v;if(S[m>>2]|=128<<(m%4<<3),m>55)for(i(this._hash,S),m=0;m<16;m+=1)S[m]=0;d=this._length*8,d=d.toString(16).match(/(.*?)(.{0,8})$/),x=parseInt(d[2],16),v=parseInt(d[1],16)||0,S[14]=x,S[15]=v,i(this._hash,S)},R.hash=function(S,O){return R.hashBinary(k(S),O)},R.hashBinary=function(S,O){var m=l(S),d=y(m);return O?H(d):d},R.ArrayBuffer=function(){this.reset()},R.ArrayBuffer.prototype.append=function(S){var O=W(this._buff.buffer,S,!0),m=O.length,d;for(this._length+=S.byteLength,d=64;d<=m;d+=64)i(this._hash,o(O.subarray(d-64,d)));return this._buff=d-64<m?new Uint8Array(O.buffer.slice(d-64)):new Uint8Array(0),this},R.ArrayBuffer.prototype.end=function(S){var O=this._buff,m=O.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x,v;for(x=0;x<m;x+=1)d[x>>2]|=O[x]<<(x%4<<3);return this._finish(d,m),v=y(this._hash),S&&(v=H(v)),this.reset(),v},R.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},R.ArrayBuffer.prototype.getState=function(){var S=R.prototype.getState.call(this);return S.buff=B(S.buff),S},R.ArrayBuffer.prototype.setState=function(S){return S.buff=_(S.buff,!0),R.prototype.setState.call(this,S)},R.ArrayBuffer.prototype.destroy=R.prototype.destroy,R.ArrayBuffer.prototype._finish=R.prototype._finish,R.ArrayBuffer.hash=function(S,O){var m=u(new Uint8Array(S)),d=y(m);return O?H(d):d},R})});var Cr=te((cC,gh)=>{"use strict";gh.exports=TypeError});var vh=te(()=>{});var Qn=te((hC,Nh)=>{var vl=typeof Map=="function"&&Map.prototype,ll=Object.getOwnPropertyDescriptor&&vl?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,vs=vl&&ll&&typeof ll.get=="function"?ll.get:null,yh=vl&&Map.prototype.forEach,yl=typeof Set=="function"&&Set.prototype,cl=Object.getOwnPropertyDescriptor&&yl?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ys=yl&&cl&&typeof cl.get=="function"?cl.get:null,bh=yl&&Set.prototype.forEach,W0=typeof WeakMap=="function"&&WeakMap.prototype,Kn=W0?WeakMap.prototype.has:null,U0=typeof WeakSet=="function"&&WeakSet.prototype,Gn=U0?WeakSet.prototype.has:null,z0=typeof WeakRef=="function"&&WeakRef.prototype,wh=z0?WeakRef.prototype.deref:null,K0=Boolean.prototype.valueOf,G0=Object.prototype.toString,X0=Function.prototype.toString,Q0=String.prototype.match,bl=String.prototype.slice,sr=String.prototype.replace,J0=String.prototype.toUpperCase,Eh=String.prototype.toLowerCase,Lh=RegExp.prototype.test,xh=Array.prototype.concat,Ft=Array.prototype.join,Y0=Array.prototype.slice,Oh=Math.floor,hl=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ul=Object.getOwnPropertySymbols,fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Xn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Qr||!0)?Symbol.toStringTag:null,Ph=Object.prototype.propertyIsEnumerable,Sh=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Ah(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Lh.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Oh(-t):Oh(t);if(n!==t){var i=String(n),s=bl.call(e,i.length+1);return sr.call(i,r,"$&_")+"."+sr.call(sr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return sr.call(e,r,"$&_")}var pl=vh(),_h=pl.custom,Ch=Ih(_h)?_h:null,Fh={__proto__:null,double:'"',single:"'"},Z0={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Nh.exports=function t(e,r,n,i){var s=r||{};if(Kt(s,"quoteStyle")&&!Kt(Fh,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Kt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Kt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Kt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Kt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Dh(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return l?Ah(e,u):u}if(typeof e=="bigint"){var g=String(e)+"n";return l?Ah(e,g):g}var y=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=y&&y>0&&typeof e=="object")return ml(e)?"[Array]":"[Object]";var k=vw(s,n);if(typeof i>"u")i=[];else if(Rh(i,e)>=0)return"[Circular]";function _(I,E,C){if(E&&(i=Y0.call(i),i.push(E)),C){var P={depth:s.depth};return Kt(s,"quoteStyle")&&(P.quoteStyle=s.quoteStyle),t(I,P,n+1,i)}return t(I,s,n+1,i)}if(typeof e=="function"&&!Th(e)){var B=lw(e),W=gs(e,_);return"[Function"+(B?": "+B:" (anonymous)")+"]"+(W.length>0?" { "+Ft.call(W,", ")+" }":"")}if(Ih(e)){var H=Qr?sr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):fl.call(e);return typeof e=="object"&&!Qr?zn(H):H}if(pw(e)){for(var R="<"+Eh.call(String(e.nodeName)),S=e.attributes||[],O=0;O<S.length;O++)R+=" "+S[O].name+"="+Mh(ew(S[O].value),"double",s);return R+=">",e.childNodes&&e.childNodes.length&&(R+="..."),R+="</"+Eh.call(String(e.nodeName))+">",R}if(ml(e)){if(e.length===0)return"[]";var m=gs(e,_);return k&&!gw(m)?"["+gl(m,k)+"]":"[ "+Ft.call(m,", ")+" ]"}if(rw(e)){var d=gs(e,_);return!("cause"in Error.prototype)&&"cause"in e&&!Ph.call(e,"cause")?"{ ["+String(e)+"] "+Ft.call(xh.call("[cause]: "+_(e.cause),d),", ")+" }":d.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ft.call(d,", ")+" }"}if(typeof e=="object"&&o){if(Ch&&typeof e[Ch]=="function"&&pl)return pl(e,{depth:y-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(cw(e)){var x=[];return yh&&yh.call(e,function(I,E){x.push(_(E,e,!0)+" => "+_(I,e))}),kh("Map",vs.call(e),x,k)}if(hw(e)){var v=[];return bh&&bh.call(e,function(I){v.push(_(I,e))}),kh("Set",ys.call(e),v,k)}if(uw(e))return dl("WeakMap");if(fw(e))return dl("WeakSet");if(dw(e))return dl("WeakRef");if(iw(e))return zn(_(Number(e)));if(ow(e))return zn(_(hl.call(e)));if(sw(e))return zn(K0.call(e));if(nw(e))return zn(_(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!tw(e)&&!Th(e)){var G=gs(e,_),re=Sh?Sh(e)===Object.prototype:e instanceof Object||e.constructor===Object,K=e instanceof Object?"":"null prototype",Z=!re&&Xn&&Object(e)===e&&Xn in e?bl.call(or(e),8,-1):K?"Object":"",ce=re||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",ie=ce+(Z||K?"["+Ft.call(xh.call([],Z||[],K||[]),": ")+"] ":"");return G.length===0?ie+"{}":k?ie+"{"+gl(G,k)+"}":ie+"{ "+Ft.call(G,", ")+" }"}return String(e)};function Mh(t,e,r){var n=r.quoteStyle||e,i=Fh[n];return i+t+i}function ew(t){return sr.call(String(t),/"/g,"&quot;")}function Tr(t){return!Xn||!(typeof t=="object"&&(Xn in t||typeof t[Xn]<"u"))}function ml(t){return or(t)==="[object Array]"&&Tr(t)}function tw(t){return or(t)==="[object Date]"&&Tr(t)}function Th(t){return or(t)==="[object RegExp]"&&Tr(t)}function rw(t){return or(t)==="[object Error]"&&Tr(t)}function nw(t){return or(t)==="[object String]"&&Tr(t)}function iw(t){return or(t)==="[object Number]"&&Tr(t)}function sw(t){return or(t)==="[object Boolean]"&&Tr(t)}function Ih(t){if(Qr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!fl)return!1;try{return fl.call(t),!0}catch{}return!1}function ow(t){if(!t||typeof t!="object"||!hl)return!1;try{return hl.call(t),!0}catch{}return!1}var aw=Object.prototype.hasOwnProperty||function(t){return t in this};function Kt(t,e){return aw.call(t,e)}function or(t){return G0.call(t)}function lw(t){if(t.name)return t.name;var e=Q0.call(X0.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Rh(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function cw(t){if(!vs||!t||typeof t!="object")return!1;try{vs.call(t);try{ys.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function uw(t){if(!Kn||!t||typeof t!="object")return!1;try{Kn.call(t,Kn);try{Gn.call(t,Gn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function dw(t){if(!wh||!t||typeof t!="object")return!1;try{return wh.call(t),!0}catch{}return!1}function hw(t){if(!ys||!t||typeof t!="object")return!1;try{ys.call(t);try{vs.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function fw(t){if(!Gn||!t||typeof t!="object")return!1;try{Gn.call(t,Gn);try{Kn.call(t,Kn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function pw(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Dh(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Dh(bl.call(t,0,e.maxStringLength),e)+n}var i=Z0[e.quoteStyle||"single"];i.lastIndex=0;var s=sr.call(sr.call(t,i,"\\$1"),/[\x00-\x1f]/g,mw);return Mh(s,"single",e)}function mw(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+J0.call(e.toString(16))}function zn(t){return"Object("+t+")"}function dl(t){return t+" { ? }"}function kh(t,e,r,n){var i=n?gl(r,n):Ft.call(r,", ");return t+" ("+e+") {"+i+"}"}function gw(t){for(var e=0;e<t.length;e++)if(Rh(t[e],`
`)>=0)return!1;return!0}function vw(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Ft.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Ft.call(Array(e+1),r)}}function gl(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Ft.call(t,","+r)+`
`+e.prev}function gs(t,e){var r=ml(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Kt(t,i)?e(t[i],t):""}var s=typeof ul=="function"?ul(t):[],o;if(Qr){o={};for(var l=0;l<s.length;l++)o["$"+s[l]]=s[l]}for(var u in t)Kt(t,u)&&(r&&String(Number(u))===u&&u<t.length||Qr&&o["$"+u]instanceof Symbol||(Lh.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof ul=="function")for(var g=0;g<s.length;g++)Ph.call(t,s[g])&&n.push("["+e(s[g])+"]: "+e(t[s[g]],t));return n}});var $h=te((fC,Bh)=>{"use strict";var yw=Qn(),bw=Cr(),bs=function(t,e,r){for(var n=t,i;(i=n.next)!=null;n=i)if(i.key===e)return n.next=i.next,r||(i.next=t.next,t.next=i),i},ww=function(t,e){if(t){var r=bs(t,e);return r&&r.value}},Ew=function(t,e,r){var n=bs(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},xw=function(t,e){return t?!!bs(t,e):!1},Ow=function(t,e){if(t)return bs(t,e,!0)};Bh.exports=function(){var e,r={assert:function(n){if(!r.has(n))throw new bw("Side channel does not contain "+yw(n))},delete:function(n){var i=e&&e.next,s=Ow(e,n);return s&&i&&i===s&&(e=void 0),!!s},get:function(n){return ww(e,n)},has:function(n){return xw(e,n)},set:function(n,i){e||(e={next:void 0}),Ew(e,n,i)}};return r}});var wl=te((pC,jh)=>{"use strict";jh.exports=Object});var Vh=te((mC,qh)=>{"use strict";qh.exports=Error});var Wh=te((gC,Hh)=>{"use strict";Hh.exports=EvalError});var zh=te((vC,Uh)=>{"use strict";Uh.exports=RangeError});var Gh=te((yC,Kh)=>{"use strict";Kh.exports=ReferenceError});var Qh=te((bC,Xh)=>{"use strict";Xh.exports=SyntaxError});var Yh=te((wC,Jh)=>{"use strict";Jh.exports=URIError});var ef=te((EC,Zh)=>{"use strict";Zh.exports=Math.abs});var rf=te((xC,tf)=>{"use strict";tf.exports=Math.floor});var sf=te((OC,nf)=>{"use strict";nf.exports=Math.max});var af=te((SC,of)=>{"use strict";of.exports=Math.min});var cf=te((AC,lf)=>{"use strict";lf.exports=Math.pow});var df=te((_C,uf)=>{"use strict";uf.exports=Math.round});var ff=te((CC,hf)=>{"use strict";hf.exports=Number.isNaN||function(e){return e!==e}});var mf=te((TC,pf)=>{"use strict";var Sw=ff();pf.exports=function(e){return Sw(e)||e===0?e:e<0?-1:1}});var vf=te((kC,gf)=>{"use strict";gf.exports=Object.getOwnPropertyDescriptor});var El=te((LC,yf)=>{"use strict";var ws=vf();if(ws)try{ws([],"length")}catch{ws=null}yf.exports=ws});var wf=te((PC,bf)=>{"use strict";var Es=Object.defineProperty||!1;if(Es)try{Es({},"a",{value:1})}catch{Es=!1}bf.exports=Es});var xf=te((FC,Ef)=>{"use strict";Ef.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==i||l.enumerable!==!0)return!1}return!0}});var Af=te((MC,Sf)=>{"use strict";var Of=typeof Symbol<"u"&&Symbol,Aw=xf();Sf.exports=function(){return typeof Of!="function"||typeof Symbol!="function"||typeof Of("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Aw()}});var xl=te((IC,_f)=>{"use strict";_f.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var Ol=te((RC,Cf)=>{"use strict";var _w=wl();Cf.exports=_w.getPrototypeOf||null});var Lf=te((DC,kf)=>{"use strict";var Cw="Function.prototype.bind called on incompatible ",Tw=Object.prototype.toString,kw=Math.max,Lw="[object Function]",Tf=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},Pw=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},Fw=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};kf.exports=function(e){var r=this;if(typeof r!="function"||Tw.apply(r)!==Lw)throw new TypeError(Cw+r);for(var n=Pw(arguments,1),i,s=function(){if(this instanceof i){var y=r.apply(this,Tf(n,arguments));return Object(y)===y?y:this}return r.apply(e,Tf(n,arguments))},o=kw(0,r.length-n.length),l=[],u=0;u<o;u++)l[u]="$"+u;if(i=Function("binder","return function ("+Fw(l,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var g=function(){};g.prototype=r.prototype,i.prototype=new g,g.prototype=null}return i}});var Jn=te((NC,Pf)=>{"use strict";var Mw=Lf();Pf.exports=Function.prototype.bind||Mw});var xs=te((BC,Ff)=>{"use strict";Ff.exports=Function.prototype.call});var Sl=te(($C,Mf)=>{"use strict";Mf.exports=Function.prototype.apply});var Rf=te((jC,If)=>{"use strict";If.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var Nf=te((qC,Df)=>{"use strict";var Iw=Jn(),Rw=Sl(),Dw=xs(),Nw=Rf();Df.exports=Nw||Iw.call(Dw,Rw)});var Al=te((VC,Bf)=>{"use strict";var Bw=Jn(),$w=Cr(),jw=xs(),qw=Nf();Bf.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new $w("a function is required");return qw(Bw,jw,e)}});var Wf=te((HC,Hf)=>{"use strict";var Vw=Al(),$f=El(),qf;try{qf=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var _l=!!qf&&$f&&$f(Object.prototype,"__proto__"),Vf=Object,jf=Vf.getPrototypeOf;Hf.exports=_l&&typeof _l.get=="function"?Vw([_l.get]):typeof jf=="function"?function(e){return jf(e==null?e:Vf(e))}:!1});var Xf=te((WC,Gf)=>{"use strict";var Uf=xl(),zf=Ol(),Kf=Wf();Gf.exports=Uf?function(e){return Uf(e)}:zf?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return zf(e)}:Kf?function(e){return Kf(e)}:null});var Jf=te((UC,Qf)=>{"use strict";var Hw=Function.prototype.call,Ww=Object.prototype.hasOwnProperty,Uw=Jn();Qf.exports=Uw.call(Hw,Ww)});var As=te((zC,np)=>{"use strict";var de,zw=wl(),Kw=Vh(),Gw=Wh(),Xw=zh(),Qw=Gh(),en=Qh(),Zr=Cr(),Jw=Yh(),Yw=ef(),Zw=rf(),e1=sf(),t1=af(),r1=cf(),n1=df(),i1=mf(),tp=Function,Cl=function(t){try{return tp('"use strict"; return ('+t+").constructor;")()}catch{}},Yn=El(),s1=wf(),Tl=function(){throw new Zr},o1=Yn?function(){try{return arguments.callee,Tl}catch{try{return Yn(arguments,"callee").get}catch{return Tl}}}():Tl,Jr=Af()(),Ve=Xf(),a1=Ol(),l1=xl(),rp=Sl(),Zn=xs(),Yr={},c1=typeof Uint8Array>"u"||!Ve?de:Ve(Uint8Array),kr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?de:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?de:ArrayBuffer,"%ArrayIteratorPrototype%":Jr&&Ve?Ve([][Symbol.iterator]()):de,"%AsyncFromSyncIteratorPrototype%":de,"%AsyncFunction%":Yr,"%AsyncGenerator%":Yr,"%AsyncGeneratorFunction%":Yr,"%AsyncIteratorPrototype%":Yr,"%Atomics%":typeof Atomics>"u"?de:Atomics,"%BigInt%":typeof BigInt>"u"?de:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?de:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?de:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?de:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Kw,"%eval%":eval,"%EvalError%":Gw,"%Float16Array%":typeof Float16Array>"u"?de:Float16Array,"%Float32Array%":typeof Float32Array>"u"?de:Float32Array,"%Float64Array%":typeof Float64Array>"u"?de:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?de:FinalizationRegistry,"%Function%":tp,"%GeneratorFunction%":Yr,"%Int8Array%":typeof Int8Array>"u"?de:Int8Array,"%Int16Array%":typeof Int16Array>"u"?de:Int16Array,"%Int32Array%":typeof Int32Array>"u"?de:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Jr&&Ve?Ve(Ve([][Symbol.iterator]())):de,"%JSON%":typeof JSON=="object"?JSON:de,"%Map%":typeof Map>"u"?de:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Jr||!Ve?de:Ve(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":zw,"%Object.getOwnPropertyDescriptor%":Yn,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?de:Promise,"%Proxy%":typeof Proxy>"u"?de:Proxy,"%RangeError%":Xw,"%ReferenceError%":Qw,"%Reflect%":typeof Reflect>"u"?de:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?de:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Jr||!Ve?de:Ve(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?de:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Jr&&Ve?Ve(""[Symbol.iterator]()):de,"%Symbol%":Jr?Symbol:de,"%SyntaxError%":en,"%ThrowTypeError%":o1,"%TypedArray%":c1,"%TypeError%":Zr,"%Uint8Array%":typeof Uint8Array>"u"?de:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?de:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?de:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?de:Uint32Array,"%URIError%":Jw,"%WeakMap%":typeof WeakMap>"u"?de:WeakMap,"%WeakRef%":typeof WeakRef>"u"?de:WeakRef,"%WeakSet%":typeof WeakSet>"u"?de:WeakSet,"%Function.prototype.call%":Zn,"%Function.prototype.apply%":rp,"%Object.defineProperty%":s1,"%Object.getPrototypeOf%":a1,"%Math.abs%":Yw,"%Math.floor%":Zw,"%Math.max%":e1,"%Math.min%":t1,"%Math.pow%":r1,"%Math.round%":n1,"%Math.sign%":i1,"%Reflect.getPrototypeOf%":l1};if(Ve)try{null.error}catch(t){Yf=Ve(Ve(t)),kr["%Error.prototype%"]=Yf}var Yf,u1=function t(e){var r;if(e==="%AsyncFunction%")r=Cl("async function () {}");else if(e==="%GeneratorFunction%")r=Cl("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Cl("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ve&&(r=Ve(i.prototype))}return kr[e]=r,r},Zf={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ei=Jn(),Os=Jf(),d1=ei.call(Zn,Array.prototype.concat),h1=ei.call(rp,Array.prototype.splice),ep=ei.call(Zn,String.prototype.replace),Ss=ei.call(Zn,String.prototype.slice),f1=ei.call(Zn,RegExp.prototype.exec),p1=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,m1=/\\(\\)?/g,g1=function(e){var r=Ss(e,0,1),n=Ss(e,-1);if(r==="%"&&n!=="%")throw new en("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new en("invalid intrinsic syntax, expected opening `%`");var i=[];return ep(e,p1,function(s,o,l,u){i[i.length]=l?ep(u,m1,"$1"):o||s}),i},v1=function(e,r){var n=e,i;if(Os(Zf,n)&&(i=Zf[n],n="%"+i[0]+"%"),Os(kr,n)){var s=kr[n];if(s===Yr&&(s=u1(n)),typeof s>"u"&&!r)throw new Zr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new en("intrinsic "+e+" does not exist!")};np.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Zr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Zr('"allowMissing" argument must be a boolean');if(f1(/^%?[^%]*%?$/,e)===null)throw new en("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=g1(e),i=n.length>0?n[0]:"",s=v1("%"+i+"%",r),o=s.name,l=s.value,u=!1,g=s.alias;g&&(i=g[0],h1(n,d1([0,1],g)));for(var y=1,k=!0;y<n.length;y+=1){var _=n[y],B=Ss(_,0,1),W=Ss(_,-1);if((B==='"'||B==="'"||B==="`"||W==='"'||W==="'"||W==="`")&&B!==W)throw new en("property names with quotes must have matching quotes");if((_==="constructor"||!k)&&(u=!0),i+="."+_,o="%"+i+"%",Os(kr,o))l=kr[o];else if(l!=null){if(!(_ in l)){if(!r)throw new Zr("base intrinsic for "+e+" exists, but the property is not available.");return}if(Yn&&y+1>=n.length){var H=Yn(l,_);k=!!H,k&&"get"in H&&!("originalValue"in H.get)?l=H.get:l=l[_]}else k=Os(l,_),l=l[_];k&&!u&&(kr[o]=l)}}return l}});var kl=te((KC,op)=>{"use strict";var ip=As(),sp=Al(),y1=sp([ip("%String.prototype.indexOf%")]);op.exports=function(e,r){var n=ip(e,!!r);return typeof n=="function"&&y1(e,".prototype.")>-1?sp([n]):n}});var Ll=te((GC,lp)=>{"use strict";var b1=As(),ti=kl(),w1=Qn(),E1=Cr(),ap=b1("%Map%",!0),x1=ti("Map.prototype.get",!0),O1=ti("Map.prototype.set",!0),S1=ti("Map.prototype.has",!0),A1=ti("Map.prototype.delete",!0),_1=ti("Map.prototype.size",!0);lp.exports=!!ap&&function(){var e,r={assert:function(n){if(!r.has(n))throw new E1("Side channel does not contain "+w1(n))},delete:function(n){if(e){var i=A1(e,n);return _1(e)===0&&(e=void 0),i}return!1},get:function(n){if(e)return x1(e,n)},has:function(n){return e?S1(e,n):!1},set:function(n,i){e||(e=new ap),O1(e,n,i)}};return r}});var up=te((XC,cp)=>{"use strict";var C1=As(),Cs=kl(),T1=Qn(),_s=Ll(),k1=Cr(),tn=C1("%WeakMap%",!0),L1=Cs("WeakMap.prototype.get",!0),P1=Cs("WeakMap.prototype.set",!0),F1=Cs("WeakMap.prototype.has",!0),M1=Cs("WeakMap.prototype.delete",!0);cp.exports=tn?function(){var e,r,n={assert:function(i){if(!n.has(i))throw new k1("Side channel does not contain "+T1(i))},delete:function(i){if(tn&&i&&(typeof i=="object"||typeof i=="function")){if(e)return M1(e,i)}else if(_s&&r)return r.delete(i);return!1},get:function(i){return tn&&i&&(typeof i=="object"||typeof i=="function")&&e?L1(e,i):r&&r.get(i)},has:function(i){return tn&&i&&(typeof i=="object"||typeof i=="function")&&e?F1(e,i):!!r&&r.has(i)},set:function(i,s){tn&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new tn),P1(e,i,s)):_s&&(r||(r=_s()),r.set(i,s))}};return n}:_s});var hp=te((QC,dp)=>{"use strict";var I1=Cr(),R1=Qn(),D1=$h(),N1=Ll(),B1=up(),$1=B1||N1||D1;dp.exports=function(){var e,r={assert:function(n){if(!r.has(n))throw new I1("Side channel does not contain "+R1(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,i){e||(e=$1()),e.set(n,i)}};return r}});var Ts=te((JC,fp)=>{"use strict";var j1=String.prototype.replace,q1=/%20/g,Pl={RFC1738:"RFC1738",RFC3986:"RFC3986"};fp.exports={default:Pl.RFC3986,formatters:{RFC1738:function(t){return j1.call(t,q1,"+")},RFC3986:function(t){return String(t)}},RFC1738:Pl.RFC1738,RFC3986:Pl.RFC3986}});var Il=te((YC,mp)=>{"use strict";var V1=Ts(),Fl=Object.prototype.hasOwnProperty,Lr=Array.isArray,Mt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),H1=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Lr(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},pp=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},W1=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(Lr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Fl.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Lr(e)&&!Lr(r)&&(i=pp(e,n)),Lr(e)&&Lr(r)?(r.forEach(function(s,o){if(Fl.call(e,o)){var l=e[o];l&&typeof l=="object"&&s&&typeof s=="object"?e[o]=t(l,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var l=r[o];return Fl.call(s,o)?s[o]=t(s[o],l,n):s[o]=l,s},i)},U1=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},z1=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Ml=1024,K1=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(B){return"%26%23"+parseInt(B.slice(2),16)+"%3B"});for(var l="",u=0;u<o.length;u+=Ml){for(var g=o.length>=Ml?o.slice(u,u+Ml):o,y=[],k=0;k<g.length;++k){var _=g.charCodeAt(k);if(_===45||_===46||_===95||_===126||_>=48&&_<=57||_>=65&&_<=90||_>=97&&_<=122||s===V1.RFC1738&&(_===40||_===41)){y[y.length]=g.charAt(k);continue}if(_<128){y[y.length]=Mt[_];continue}if(_<2048){y[y.length]=Mt[192|_>>6]+Mt[128|_&63];continue}if(_<55296||_>=57344){y[y.length]=Mt[224|_>>12]+Mt[128|_>>6&63]+Mt[128|_&63];continue}k+=1,_=65536+((_&1023)<<10|g.charCodeAt(k)&1023),y[y.length]=Mt[240|_>>18]+Mt[128|_>>12&63]+Mt[128|_>>6&63]+Mt[128|_&63]}l+=y.join("")}return l},G1=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],l=Object.keys(o),u=0;u<l.length;++u){var g=l[u],y=o[g];typeof y=="object"&&y!==null&&n.indexOf(y)===-1&&(r.push({obj:o,prop:g}),n.push(y))}return H1(r),e},X1=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Q1=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},J1=function(e,r){return[].concat(e,r)},Y1=function(e,r){if(Lr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};mp.exports={arrayToObject:pp,assign:U1,combine:J1,compact:G1,decode:z1,encode:K1,isBuffer:Q1,isRegExp:X1,maybeMap:Y1,merge:W1}});var Ep=te((ZC,wp)=>{"use strict";var vp=hp(),ks=Il(),ri=Ts(),Z1=Object.prototype.hasOwnProperty,yp={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},It=Array.isArray,eE=Array.prototype.push,bp=function(t,e){eE.apply(t,It(e)?e:[e])},tE=Date.prototype.toISOString,gp=ri.default,Ne={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ks.encode,encodeValuesOnly:!1,filter:void 0,format:gp,formatter:ri.formatters[gp],indices:!1,serializeDate:function(e){return tE.call(e)},skipNulls:!1,strictNullHandling:!1},rE=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Rl={},nE=function t(e,r,n,i,s,o,l,u,g,y,k,_,B,W,H,R,S,O){for(var m=e,d=O,x=0,v=!1;(d=d.get(Rl))!==void 0&&!v;){var G=d.get(e);if(x+=1,typeof G<"u"){if(G===x)throw new RangeError("Cyclic object value");v=!0}typeof d.get(Rl)>"u"&&(x=0)}if(typeof y=="function"?m=y(r,m):m instanceof Date?m=B(m):n==="comma"&&It(m)&&(m=ks.maybeMap(m,function(q){return q instanceof Date?B(q):q})),m===null){if(o)return g&&!R?g(r,Ne.encoder,S,"key",W):r;m=""}if(rE(m)||ks.isBuffer(m)){if(g){var re=R?r:g(r,Ne.encoder,S,"key",W);return[H(re)+"="+H(g(m,Ne.encoder,S,"value",W))]}return[H(r)+"="+H(String(m))]}var K=[];if(typeof m>"u")return K;var Z;if(n==="comma"&&It(m))R&&g&&(m=ks.maybeMap(m,g)),Z=[{value:m.length>0?m.join(",")||null:void 0}];else if(It(y))Z=y;else{var ce=Object.keys(m);Z=k?ce.sort(k):ce}var ie=u?String(r).replace(/\./g,"%2E"):String(r),I=i&&It(m)&&m.length===1?ie+"[]":ie;if(s&&It(m)&&m.length===0)return I+"[]";for(var E=0;E<Z.length;++E){var C=Z[E],P=typeof C=="object"&&C&&typeof C.value<"u"?C.value:m[C];if(!(l&&P===null)){var M=_&&u?String(C).replace(/\./g,"%2E"):String(C),L=It(m)?typeof n=="function"?n(I,M):I:I+(_?"."+M:"["+M+"]");O.set(e,x);var D=vp();D.set(Rl,O),bp(K,t(P,L,n,i,s,o,l,u,n==="comma"&&R&&It(m)?null:g,y,k,_,B,W,H,R,S,D))}}return K},iE=function(e){if(!e)return Ne;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ne.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ri.default;if(typeof e.format<"u"){if(!Z1.call(ri.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ri.formatters[n],s=Ne.filter;(typeof e.filter=="function"||It(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in yp?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Ne.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Ne.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ne.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ne.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ne.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ne.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ne.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ne.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ne.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ne.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ne.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ne.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ne.strictNullHandling}};wp.exports=function(t,e){var r=t,n=iE(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):It(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var l=yp[n.arrayFormat],u=l==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var g=vp(),y=0;y<i.length;++y){var k=i[y],_=r[k];n.skipNulls&&_===null||bp(o,nE(_,k,l,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,g))}var B=o.join(n.delimiter),W=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?W+="utf8=%26%2310003%3B&":W+="utf8=%E2%9C%93&"),B.length>0?W+B:""}});var Ap=te((eT,Sp)=>{"use strict";var Pr=Il(),Dl=Object.prototype.hasOwnProperty,xp=Array.isArray,ke={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Pr.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},sE=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Op=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},oE="utf8=%26%2310003%3B",aE="utf8=%E2%9C%93",lE=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,r.throwOnLimitExceeded?s+1:s);if(r.throwOnLimitExceeded&&o.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var l=-1,u,g=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===aE?g="utf-8":o[u]===oE&&(g="iso-8859-1"),l=u,u=o.length);for(u=0;u<o.length;++u)if(u!==l){var y=o[u],k=y.indexOf("]="),_=k===-1?y.indexOf("="):k+1,B,W;_===-1?(B=r.decoder(y,ke.decoder,g,"key"),W=r.strictNullHandling?null:""):(B=r.decoder(y.slice(0,_),ke.decoder,g,"key"),W=Pr.maybeMap(Op(y.slice(_+1),r,xp(n[B])?n[B].length:0),function(R){return r.decoder(R,ke.decoder,g,"value")})),W&&r.interpretNumericEntities&&g==="iso-8859-1"&&(W=sE(String(W))),y.indexOf("[]=")>-1&&(W=xp(W)?[W]:W);var H=Dl.call(n,B);H&&r.duplicates==="combine"?n[B]=Pr.combine(n[B],W):(!H||r.duplicates==="last")&&(n[B]=W)}return n},cE=function(t,e,r,n){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var s=t.slice(0,-1).join("");i=Array.isArray(e)&&e[s]?e[s].length:0}for(var o=n?e:Op(e,r,i),l=t.length-1;l>=0;--l){var u,g=t[l];if(g==="[]"&&r.parseArrays)u=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:Pr.combine([],o);else{u=r.plainObjects?{__proto__:null}:{};var y=g.charAt(0)==="["&&g.charAt(g.length-1)==="]"?g.slice(1,-1):g,k=r.decodeDotInKeys?y.replace(/%2E/g,"."):y,_=parseInt(k,10);!r.parseArrays&&k===""?u={0:o}:!isNaN(_)&&g!==k&&String(_)===k&&_>=0&&r.parseArrays&&_<=r.arrayLimit?(u=[],u[_]=o):k!=="__proto__"&&(u[k]=o)}o=u}return o},uE=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),g=u?s.slice(0,u.index):s,y=[];if(g){if(!n.plainObjects&&Dl.call(Object.prototype,g)&&!n.allowPrototypes)return;y.push(g)}for(var k=0;n.depth>0&&(u=l.exec(s))!==null&&k<n.depth;){if(k+=1,!n.plainObjects&&Dl.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;y.push(u[1])}if(u){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");y.push("["+s.slice(u.index)+"]")}return cE(y,r,n,i)}},dE=function(e){if(!e)return ke;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?ke.charset:e.charset,n=typeof e.duplicates>"u"?ke.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:ke.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ke.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ke.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ke.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ke.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ke.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ke.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:ke.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:ke.decoder,delimiter:typeof e.delimiter=="string"||Pr.isRegExp(e.delimiter)?e.delimiter:ke.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ke.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ke.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ke.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ke.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:ke.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ke.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}};Sp.exports=function(t,e){var r=dE(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?lE(t,r):t,i=r.plainObjects?{__proto__:null}:{},s=Object.keys(n),o=0;o<s.length;++o){var l=s[o],u=uE(l,n[l],r,typeof t=="string");i=Pr.merge(i,u,r)}return r.allowSparse===!0?i:Pr.compact(i)}});var Cp=te((tT,_p)=>{"use strict";var hE=Ep(),fE=Ap(),pE=Ts();_p.exports={formats:pE,parse:fE,stringify:hE}});var kp=te((Bl,$l)=>{(function(t,e){typeof Bl=="object"&&typeof $l<"u"?$l.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).TomSelect=e()})(Bl,function(){"use strict";function t(f,a){f.split(/\s+/).forEach(c=>{a(c)})}class e{constructor(){this._events=void 0,this._events={}}on(a,c){t(a,h=>{let p=this._events[h]||[];p.push(c),this._events[h]=p})}off(a,c){var h=arguments.length;h!==0?t(a,p=>{if(h===1)return void delete this._events[p];let b=this._events[p];b!==void 0&&(b.splice(b.indexOf(c),1),this._events[p]=b)}):this._events={}}trigger(a,...c){var h=this;t(a,p=>{let b=h._events[p];b!==void 0&&b.forEach(A=>{A.apply(h,c)})})}}let r=f=>(f=f.filter(Boolean)).length<2?f[0]||"":l(f)==1?"["+f.join("")+"]":"(?:"+f.join("|")+")",n=f=>{if(!s(f))return f.join("");let a="",c=0,h=()=>{c>1&&(a+="{"+c+"}")};return f.forEach((p,b)=>{p!==f[b-1]?(h(),a+=p,c=1):c++}),h(),a},i=f=>{let a=g(f);return r(a)},s=f=>new Set(f).size!==f.length,o=f=>(f+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),l=f=>f.reduce((a,c)=>Math.max(a,u(c)),0),u=f=>g(f).length,g=f=>Array.from(f),y=f=>{if(f.length===1)return[[f]];let a=[],c=f.substring(1);return y(c).forEach(function(h){let p=h.slice(0);p[0]=f.charAt(0)+p[0],a.push(p),p=h.slice(0),p.unshift(f.charAt(0)),a.push(p)}),a},k=[[0,65535]],_,B,W={\u00E6:"ae","\u2C65":"a",\u00F8:"o","\u2044":"/","\u2215":"/"},H=new RegExp(Object.keys(W).join("|")+"|[\u0300-\u036F\xB7\u02BE]","gu"),R=(f,a="NFKD")=>f.normalize(a),S=f=>(a=>a.match(/[\u0f71-\u0f81]/)?g(a).reduce((c,h)=>c+R(h),""):R(a))(f).toLowerCase().replace(H,a=>W[a]||""),O=f=>{let a={},c=(h,p)=>{let b=a[h]||new Set,A=new RegExp("^"+i(b)+"$","iu");p.match(A)||(b.add(o(p)),a[h]=b)};for(let h of function*(p){for(let[b,A]of p)for(let w=b;w<=A;w++){let F=String.fromCharCode(w),T=S(F);if(T==F.toLowerCase()||T.length>3||T.length==0)continue;let V=R(F);R(V,"NFC")===F&&T===V||(yield{folded:T,composed:F,code_point:w})}}(f))c(h.folded,h.folded),c(h.folded,h.composed);return a},m=f=>{let a=O(f),c={},h=[];for(let b in a){let A=a[b];A&&(c[b]=i(A)),b.length>1&&h.push(o(b))}h.sort((b,A)=>A.length-b.length);let p=r(h);return B=new RegExp("^"+p,"u"),c},d=(f,a=1)=>(a=Math.max(a,f.length-1),r(y(f).map(c=>((h,p=1)=>{let b=0;return h=h.map(A=>(_[A]&&(b+=A.length),_[A]||A)),b>=p?n(h):""})(c,a)))),x=(f,a=!0)=>{let c=f.length>1?1:0;return r(f.map(h=>{let p=[],b=a?h.length():h.length()-1;for(let A=0;A<b;A++)p.push(d(h.substrs[A]||"",c));return n(p)}))},v=(f,a)=>{for(let c of a){if(c.start!=f.start||c.end!=f.end||c.substrs.join("")!==f.substrs.join(""))continue;let h=f.parts,p=b=>{for(let A of h){if(A.start===b.start&&A.substr===b.substr)return!1;if(b.length!=1&&A.length!=1&&(b.start<A.start&&b.end>A.start||A.start<b.start&&A.end>b.start))return!0}return!1};if(!(c.parts.filter(p).length>0))return!0}return!1};class G{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(a){a&&(this.parts.push(a),this.substrs.push(a.substr),this.start=Math.min(a.start,this.start),this.end=Math.max(a.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(a,c){let h=new G,p=JSON.parse(JSON.stringify(this.parts)),b=p.pop();for(let F of p)h.add(F);let A=c.substr.substring(0,a-b.start),w=A.length;return h.add({start:b.start,end:b.start+w,length:w,substr:A}),h}}let re=f=>{var a;_===void 0&&(_=m(a||k)),f=S(f);let c="",h=[new G];for(let p=0;p<f.length;p++){let b=f.substring(p).match(B),A=f.substring(p,p+1),w=b?b[0]:null,F=[],T=new Set;for(let V of h){let j=V.last();if(!j||j.length==1||j.end<=p)if(w){let Q=w.length;V.add({start:p,end:p+Q,length:Q,substr:w}),T.add("1")}else V.add({start:p,end:p+1,length:1,substr:A}),T.add("2");else if(w){let Q=V.clone(p,j),ue=w.length;Q.add({start:p,end:p+ue,length:ue,substr:w}),F.push(Q)}else T.add("3")}if(F.length>0){F=F.sort((V,j)=>V.length()-j.length());for(let V of F)v(V,h)||h.push(V)}else if(p>0&&T.size==1&&!T.has("3")){c+=x(h,!1);let V=new G,j=h[0];j&&V.add(j.last()),h=[V]}}return c+=x(h,!0),c},K=(f,a)=>{if(f)return f[a]},Z=(f,a)=>{if(f){for(var c,h=a.split(".");(c=h.shift())&&(f=f[c]););return f}},ce=(f,a,c)=>{var h,p;return f?(f+="",a.regex==null||(p=f.search(a.regex))===-1?0:(h=a.string.length/f.length,p===0&&(h+=.5),h*c)):0},ie=(f,a)=>{var c=f[a];if(typeof c=="function")return c;c&&!Array.isArray(c)&&(f[a]=[c])},I=(f,a)=>{if(Array.isArray(f))f.forEach(a);else for(var c in f)f.hasOwnProperty(c)&&a(f[c],c)},E=(f,a)=>typeof f=="number"&&typeof a=="number"?f>a?1:f<a?-1:0:(f=S(f+"").toLowerCase())>(a=S(a+"").toLowerCase())?1:a>f?-1:0;class C{constructor(a,c){this.items=void 0,this.settings=void 0,this.items=a,this.settings=c||{diacritics:!0}}tokenize(a,c,h){if(!a||!a.length)return[];let p=[],b=a.split(/\s+/);var A;return h&&(A=new RegExp("^("+Object.keys(h).map(o).join("|")+"):(.*)$")),b.forEach(w=>{let F,T=null,V=null;A&&(F=w.match(A))&&(T=F[1],w=F[2]),w.length>0&&(V=this.settings.diacritics?re(w)||null:o(w),V&&c&&(V="\\b"+V)),p.push({string:w,regex:V?new RegExp(V,"iu"):null,field:T})}),p}getScoreFunction(a,c){var h=this.prepareSearch(a,c);return this._getScoreFunction(h)}_getScoreFunction(a){let c=a.tokens,h=c.length;if(!h)return function(){return 0};let p=a.options.fields,b=a.weights,A=p.length,w=a.getAttrFn;if(!A)return function(){return 1};let F=A===1?function(T,V){let j=p[0].field;return ce(w(V,j),T,b[j]||1)}:function(T,V){var j=0;if(T.field){let Q=w(V,T.field);!T.regex&&Q?j+=1/A:j+=ce(Q,T,1)}else I(b,(Q,ue)=>{j+=ce(w(V,ue),T,Q)});return j/A};return h===1?function(T){return F(c[0],T)}:a.options.conjunction==="and"?function(T){var V,j=0;for(let Q of c){if((V=F(Q,T))<=0)return 0;j+=V}return j/h}:function(T){var V=0;return I(c,j=>{V+=F(j,T)}),V/h}}getSortFunction(a,c){var h=this.prepareSearch(a,c);return this._getSortFunction(h)}_getSortFunction(a){var c,h=[];let p=this,b=a.options,A=!a.query&&b.sort_empty?b.sort_empty:b.sort;if(typeof A=="function")return A.bind(this);let w=function(F,T){return F==="$score"?T.score:a.getAttrFn(p.items[T.id],F)};if(A)for(let F of A)(a.query||F.field!=="$score")&&h.push(F);if(a.query){c=!0;for(let F of h)if(F.field==="$score"){c=!1;break}c&&h.unshift({field:"$score",direction:"desc"})}else h=h.filter(F=>F.field!=="$score");return h.length?function(F,T){var V,j;for(let Q of h)if(j=Q.field,V=(Q.direction==="desc"?-1:1)*E(w(j,F),w(j,T)))return V;return 0}:null}prepareSearch(a,c){let h={};var p=Object.assign({},c);if(ie(p,"sort"),ie(p,"sort_empty"),p.fields){ie(p,"fields");let b=[];p.fields.forEach(A=>{typeof A=="string"&&(A={field:A,weight:1}),b.push(A),h[A.field]="weight"in A?A.weight:1}),p.fields=b}return{options:p,query:a.toLowerCase().trim(),tokens:this.tokenize(a,p.respect_word_boundaries,h),total:0,items:[],weights:h,getAttrFn:p.nesting?Z:K}}search(a,c){var h,p,b=this;p=this.prepareSearch(a,c),c=p.options,a=p.query;let A=c.score||b._getScoreFunction(p);a.length?I(b.items,(F,T)=>{h=A(F),(c.filter===!1||h>0)&&p.items.push({score:h,id:T})}):I(b.items,(F,T)=>{p.items.push({score:1,id:T})});let w=b._getSortFunction(p);return w&&p.items.sort(w),p.total=p.items.length,typeof c.limit=="number"&&(p.items=p.items.slice(0,c.limit)),p}}let P=(f,a)=>{if(Array.isArray(f))f.forEach(a);else for(var c in f)f.hasOwnProperty(c)&&a(f[c],c)},M=f=>{if(f.jquery)return f[0];if(f instanceof HTMLElement)return f;if(L(f)){var a=document.createElement("template");return a.innerHTML=f.trim(),a.content.firstChild}return document.querySelector(f)},L=f=>typeof f=="string"&&f.indexOf("<")>-1,D=(f,a)=>{var c=document.createEvent("HTMLEvents");c.initEvent(a,!0,!1),f.dispatchEvent(c)},q=(f,a)=>{Object.assign(f.style,a)},N=(f,...a)=>{var c=X(a);(f=ee(f)).map(h=>{c.map(p=>{h.classList.add(p)})})},U=(f,...a)=>{var c=X(a);(f=ee(f)).map(h=>{c.map(p=>{h.classList.remove(p)})})},X=f=>{var a=[];return P(f,c=>{typeof c=="string"&&(c=c.trim().split(/[\11\12\14\15\40]/)),Array.isArray(c)&&(a=a.concat(c))}),a.filter(Boolean)},ee=f=>(Array.isArray(f)||(f=[f]),f),se=(f,a,c)=>{if(!c||c.contains(f))for(;f&&f.matches;){if(f.matches(a))return f;f=f.parentNode}},ae=(f,a=0)=>a>0?f[f.length-1]:f[0],le=(f,a)=>{if(!f)return-1;a=a||f.nodeName;for(var c=0;f=f.previousElementSibling;)f.matches(a)&&c++;return c},ne=(f,a)=>{P(a,(c,h)=>{c==null?f.removeAttribute(h):f.setAttribute(h,""+c)})},We=(f,a)=>{f.parentNode&&f.parentNode.replaceChild(a,f)},nt=(f,a)=>{if(a===null)return;if(typeof a=="string"){if(!a.length)return;a=new RegExp(a,"i")}let c=h=>h.nodeType===3?(p=>{var b=p.data.match(a);if(b&&p.data.length>0){var A=document.createElement("span");A.className="highlight";var w=p.splitText(b.index);w.splitText(b[0].length);var F=w.cloneNode(!0);return A.appendChild(F),We(w,A),1}return 0})(h):((p=>{p.nodeType!==1||!p.childNodes||/(script|style)/i.test(p.tagName)||p.className==="highlight"&&p.tagName==="SPAN"||Array.from(p.childNodes).forEach(b=>{c(b)})})(h),0);c(f)},Je=typeof navigator<"u"&&/Mac/.test(navigator.userAgent)?"metaKey":"ctrlKey";var Se={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(f){return f.length>0},render:{}};let ge=f=>f==null?null:ft(f),ft=f=>typeof f=="boolean"?f?"1":"0":f+"",pt=f=>(f+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Rt=(f,a)=>{var c;return function(h,p){var b=this;c&&(b.loading=Math.max(b.loading-1,0),clearTimeout(c)),c=setTimeout(function(){c=null,b.loadedSearches[h]=!0,f.call(b,h,p)},a)}},At=(f,a,c)=>{var h,p=f.trigger,b={};for(h of(f.trigger=function(){var A=arguments[0];if(a.indexOf(A)===-1)return p.apply(f,arguments);b[A]=arguments},c.apply(f,[]),f.trigger=p,a))h in b&&p.apply(f,b[h])},fe=(f,a=!1)=>{f&&(f.preventDefault(),a&&f.stopPropagation())},ve=(f,a,c,h)=>{f.addEventListener(a,c,h)},Fe=(f,a)=>!!a&&!!a[f]&&(a.altKey?1:0)+(a.ctrlKey?1:0)+(a.shiftKey?1:0)+(a.metaKey?1:0)==1,Ye=(f,a)=>f.getAttribute("id")||(f.setAttribute("id",a),a),mt=f=>f.replace(/[\\"']/g,"\\$&"),$e=(f,a)=>{a&&f.append(a)};function it(f,a){var c=Object.assign({},Se,a),h=c.dataAttr,p=c.labelField,b=c.valueField,A=c.disabledField,w=c.optgroupField,F=c.optgroupLabelField,T=c.optgroupValueField,V=f.tagName.toLowerCase(),j=f.getAttribute("placeholder")||f.getAttribute("data-placeholder");if(!j&&!c.allowEmptyOption){let oe=f.querySelector('option[value=""]');oe&&(j=oe.textContent)}var Q,ue,z,Ze,Xe,et,Y={placeholder:j,options:[],optgroups:[],items:[],maxItems:null};return V==="select"?(ue=Y.options,z={},Ze=1,Xe=oe=>{var Ee=Object.assign({},oe.dataset),pe=h&&Ee[h];return typeof pe=="string"&&pe.length&&(Ee=Object.assign(Ee,JSON.parse(pe))),Ee},et=(oe,Ee)=>{var pe=ge(oe.value);if(pe!=null&&(pe||c.allowEmptyOption)){if(z.hasOwnProperty(pe)){if(Ee){var be=z[pe][w];be?Array.isArray(be)?be.push(Ee):z[pe][w]=[be,Ee]:z[pe][w]=Ee}}else{var he=Xe(oe);he[p]=he[p]||oe.textContent,he[b]=he[b]||pe,he[A]=he[A]||oe.disabled,he[w]=he[w]||Ee,he.$option=oe,z[pe]=he,ue.push(he)}oe.selected&&Y.items.push(pe)}},Y.maxItems=f.hasAttribute("multiple")?null:1,P(f.children,oe=>{var Ee,pe,be;(Q=oe.tagName.toLowerCase())==="optgroup"?((be=Xe(Ee=oe))[F]=be[F]||Ee.getAttribute("label")||"",be[T]=be[T]||Ze++,be[A]=be[A]||Ee.disabled,Y.optgroups.push(be),pe=be[T],P(Ee.children,he=>{et(he,pe)})):Q==="option"&&et(oe)})):(()=>{let oe=f.getAttribute(h);if(oe)Y.options=JSON.parse(oe),P(Y.options,pe=>{Y.items.push(pe[b])});else{var Ee=f.value.trim()||"";if(!c.allowEmptyOption&&!Ee.length)return;let pe=Ee.split(c.delimiter);P(pe,be=>{let he={};he[p]=be,he[b]=be,Y.options.push(he)}),Y.items=pe}})(),Object.assign({},Se,Y,a)}var st=0;class ye extends function(a){return a.plugins={},class extends a{constructor(...c){super(...c),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(c,h){a.plugins[c]={name:c,fn:h}}initializePlugins(c){var h,p;let b=this,A=[];if(Array.isArray(c))c.forEach(w=>{typeof w=="string"?A.push(w):(b.plugins.settings[w.name]=w.options,A.push(w.name))});else if(c)for(h in c)c.hasOwnProperty(h)&&(b.plugins.settings[h]=c[h],A.push(h));for(;p=A.shift();)b.require(p)}loadPlugin(c){var h=this,p=h.plugins,b=a.plugins[c];if(!a.plugins.hasOwnProperty(c))throw new Error('Unable to find "'+c+'" plugin');p.requested[c]=!0,p.loaded[c]=b.fn.apply(h,[h.plugins.settings[c]||{}]),p.names.push(c)}require(c){var h=this,p=h.plugins;if(!h.plugins.loaded.hasOwnProperty(c)){if(p.requested[c])throw new Error('Plugin has circular dependency ("'+c+'")');h.loadPlugin(c)}return p.loaded[c]}}}(e){constructor(a,c){var h;super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],st++;var p=M(a);if(p.tomselect)throw new Error("Tom Select already initialized on this element");p.tomselect=this,h=(window.getComputedStyle&&window.getComputedStyle(p,null)).getPropertyValue("direction");let b=it(p,c);this.settings=b,this.input=p,this.tabIndex=p.tabIndex||0,this.is_select_tag=p.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(h),this.inputId=Ye(p,"tomselect-"+st),this.isRequired=p.required,this.sifter=new C(this.options,{diacritics:b.diacritics}),b.mode=b.mode||(b.maxItems===1?"single":"multi"),typeof b.hideSelected!="boolean"&&(b.hideSelected=b.mode==="multi"),typeof b.hidePlaceholder!="boolean"&&(b.hidePlaceholder=b.mode!=="multi");var A=b.createFilter;typeof A!="function"&&(typeof A=="string"&&(A=new RegExp(A)),A instanceof RegExp?b.createFilter=z=>A.test(z):b.createFilter=z=>this.settings.duplicates||!this.options[z]),this.initializePlugins(b.plugins),this.setupCallbacks(),this.setupTemplates();let w=M("<div>"),F=M("<div>"),T=this._render("dropdown"),V=M('<div role="listbox" tabindex="-1">'),j=this.input.getAttribute("class")||"",Q=b.mode;var ue;N(w,b.wrapperClass,j,Q),N(F,b.controlClass),$e(w,F),N(T,b.dropdownClass,Q),b.copyClassesToDropdown&&N(T,j),N(V,b.dropdownContentClass),$e(T,V),M(b.dropdownParent||w).appendChild(T),L(b.controlInput)?(ue=M(b.controlInput),I(["autocorrect","autocapitalize","autocomplete"],z=>{p.getAttribute(z)&&ne(ue,{[z]:p.getAttribute(z)})}),ue.tabIndex=-1,F.appendChild(ue),this.focus_node=ue):b.controlInput?(ue=M(b.controlInput),this.focus_node=ue):(ue=M("<input/>"),this.focus_node=F),this.wrapper=w,this.dropdown=T,this.dropdown_content=V,this.control=F,this.control_input=ue,this.setup()}setup(){let a=this,c=a.settings,h=a.control_input,p=a.dropdown,b=a.dropdown_content,A=a.wrapper,w=a.control,F=a.input,T=a.focus_node,V={passive:!0},j=a.inputId+"-ts-dropdown";ne(b,{id:j}),ne(T,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":j});let Q=Ye(T,a.inputId+"-ts-control"),ue="label[for='"+(Y=>Y.replace(/['"\\]/g,"\\$&"))(a.inputId)+"']",z=document.querySelector(ue),Ze=a.focus.bind(a);if(z){ve(z,"click",Ze),ne(z,{for:Q});let Y=Ye(z,a.inputId+"-ts-label");ne(T,{"aria-labelledby":Y}),ne(b,{"aria-labelledby":Y})}if(A.style.width=F.style.width,a.plugins.names.length){let Y="plugin-"+a.plugins.names.join(" plugin-");N([A,p],Y)}(c.maxItems===null||c.maxItems>1)&&a.is_select_tag&&ne(F,{multiple:"multiple"}),c.placeholder&&ne(h,{placeholder:c.placeholder}),!c.splitOn&&c.delimiter&&(c.splitOn=new RegExp("\\s*"+o(c.delimiter)+"+\\s*")),c.load&&c.loadThrottle&&(c.load=Rt(c.load,c.loadThrottle)),a.control_input.type=F.type,ve(p,"mousemove",()=>{a.ignoreHover=!1}),ve(p,"mouseenter",Y=>{var oe=se(Y.target,"[data-selectable]",p);oe&&a.onOptionHover(Y,oe)},{capture:!0}),ve(p,"click",Y=>{let oe=se(Y.target,"[data-selectable]");oe&&(a.onOptionSelect(Y,oe),fe(Y,!0))}),ve(w,"click",Y=>{var oe=se(Y.target,"[data-ts-item]",w);oe&&a.onItemSelect(Y,oe)?fe(Y,!0):h.value==""&&(a.onClick(),fe(Y,!0))}),ve(T,"keydown",Y=>a.onKeyDown(Y)),ve(h,"keypress",Y=>a.onKeyPress(Y)),ve(h,"input",Y=>a.onInput(Y)),ve(T,"resize",()=>a.positionDropdown(),V),ve(T,"blur",Y=>a.onBlur(Y)),ve(T,"focus",Y=>a.onFocus(Y)),ve(h,"paste",Y=>a.onPaste(Y));let Xe=Y=>{let oe=Y.composedPath()[0];if(!A.contains(oe)&&!p.contains(oe))return a.isFocused&&a.blur(),void a.inputState();oe==h&&a.isOpen?Y.stopPropagation():fe(Y,!0)},et=()=>{a.isOpen&&a.positionDropdown()};ve(document,"mousedown",Xe),ve(window,"scroll",et,V),ve(window,"resize",et,V),this._destroy=()=>{document.removeEventListener("mousedown",Xe),window.removeEventListener("scroll",et),window.removeEventListener("resize",et),z&&z.removeEventListener("click",Ze)},this.revertSettings={innerHTML:F.innerHTML,tabIndex:F.tabIndex},F.tabIndex=-1,F.insertAdjacentElement("afterend",a.wrapper),a.sync(!1),c.items=[],delete c.optgroups,delete c.options,ve(F,"invalid",()=>{a.isValid&&(a.isValid=!1,a.isInvalid=!0,a.refreshState())}),a.updateOriginalInput(),a.refreshItems(),a.close(!1),a.inputState(),a.isSetup=!0,F.disabled?a.disable():a.enable(),a.on("change",this.onChange),N(F,"tomselected","ts-hidden-accessible"),a.trigger("initialize"),c.preload===!0&&a.preload()}setupOptions(a=[],c=[]){this.addOptions(a),I(c,h=>{this.registerOptionGroup(h)})}setupTemplates(){var a=this,c=a.settings.labelField,h=a.settings.optgroupLabelField,p={optgroup:b=>{let A=document.createElement("div");return A.className="optgroup",A.appendChild(b.options),A},optgroup_header:(b,A)=>'<div class="optgroup-header">'+A(b[h])+"</div>",option:(b,A)=>"<div>"+A(b[c])+"</div>",item:(b,A)=>"<div>"+A(b[c])+"</div>",option_create:(b,A)=>'<div class="create">Add <strong>'+A(b.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};a.settings.render=Object.assign({},p,a.settings.render)}setupCallbacks(){var a,c,h={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in h)(c=this.settings[h[a]])&&this.on(a,c)}sync(a=!0){let c=this,h=a?it(c.input,{delimiter:c.settings.delimiter}):c.settings;c.setupOptions(h.options,h.optgroups),c.setValue(h.items||[],!0),c.lastQuery=null}onClick(){var a=this;if(a.activeItems.length>0)return a.clearActiveItems(),void a.focus();a.isFocused&&a.isOpen?a.blur():a.focus()}onMouseDown(){}onChange(){D(this.input,"input"),D(this.input,"change")}onPaste(a){var c=this;c.isInputHidden||c.isLocked?fe(a):c.settings.splitOn&&setTimeout(()=>{var h=c.inputValue();if(h.match(c.settings.splitOn)){var p=h.trim().split(c.settings.splitOn);I(p,b=>{ge(b)&&(this.options[b]?c.addItem(b):c.createItem(b))})}},0)}onKeyPress(a){var c=this;if(!c.isLocked){var h=String.fromCharCode(a.keyCode||a.which);return c.settings.create&&c.settings.mode==="multi"&&h===c.settings.delimiter?(c.createItem(),void fe(a)):void 0}fe(a)}onKeyDown(a){var c=this;if(c.ignoreHover=!0,c.isLocked)a.keyCode!==9&&fe(a);else{switch(a.keyCode){case 65:if(Fe(Je,a)&&c.control_input.value=="")return fe(a),void c.selectAll();break;case 27:return c.isOpen&&(fe(a,!0),c.close()),void c.clearActiveItems();case 40:if(!c.isOpen&&c.hasOptions)c.open();else if(c.activeOption){let h=c.getAdjacent(c.activeOption,1);h&&c.setActiveOption(h)}return void fe(a);case 38:if(c.activeOption){let h=c.getAdjacent(c.activeOption,-1);h&&c.setActiveOption(h)}return void fe(a);case 13:return void(c.canSelect(c.activeOption)?(c.onOptionSelect(a,c.activeOption),fe(a)):(c.settings.create&&c.createItem()||document.activeElement==c.control_input&&c.isOpen)&&fe(a));case 37:return void c.advanceSelection(-1,a);case 39:return void c.advanceSelection(1,a);case 9:return void(c.settings.selectOnTab&&(c.canSelect(c.activeOption)&&(c.onOptionSelect(a,c.activeOption),fe(a)),c.settings.create&&c.createItem()&&fe(a)));case 8:case 46:return void c.deleteSelection(a)}c.isInputHidden&&!Fe(Je,a)&&fe(a)}}onInput(a){var c=this;if(!c.isLocked){var h=c.inputValue();c.lastValue!==h&&(c.lastValue=h,c.settings.shouldLoad.call(c,h)&&c.load(h),c.refreshOptions(),c.trigger("type",h))}}onOptionHover(a,c){this.ignoreHover||this.setActiveOption(c,!1)}onFocus(a){var c=this,h=c.isFocused;if(c.isDisabled)return c.blur(),void fe(a);c.ignoreFocus||(c.isFocused=!0,c.settings.preload==="focus"&&c.preload(),h||c.trigger("focus"),c.activeItems.length||(c.showInput(),c.refreshOptions(!!c.settings.openOnFocus)),c.refreshState())}onBlur(a){if(document.hasFocus()!==!1){var c=this;if(c.isFocused){c.isFocused=!1,c.ignoreFocus=!1;var h=()=>{c.close(),c.setActiveItem(),c.setCaret(c.items.length),c.trigger("blur")};c.settings.create&&c.settings.createOnBlur?c.createItem(null,h):h()}}}onOptionSelect(a,c){var h,p=this;c.parentElement&&c.parentElement.matches("[data-disabled]")||(c.classList.contains("create")?p.createItem(null,()=>{p.settings.closeAfterSelect&&p.close()}):(h=c.dataset.value)!==void 0&&(p.lastQuery=null,p.addItem(h),p.settings.closeAfterSelect&&p.close(),!p.settings.hideSelected&&a.type&&/click/.test(a.type)&&p.setActiveOption(c)))}canSelect(a){return!!(this.isOpen&&a&&this.dropdown_content.contains(a))}onItemSelect(a,c){var h=this;return!h.isLocked&&h.settings.mode==="multi"&&(fe(a),h.setActiveItem(c,a),!0)}canLoad(a){return!!this.settings.load&&!this.loadedSearches.hasOwnProperty(a)}load(a){let c=this;if(!c.canLoad(a))return;N(c.wrapper,c.settings.loadingClass),c.loading++;let h=c.loadCallback.bind(c);c.settings.load.call(c,a,h)}loadCallback(a,c){let h=this;h.loading=Math.max(h.loading-1,0),h.lastQuery=null,h.clearActiveOption(),h.setupOptions(a,c),h.refreshOptions(h.isFocused&&!h.isInputHidden),h.loading||U(h.wrapper,h.settings.loadingClass),h.trigger("load",a,c)}preload(){var a=this.wrapper.classList;a.contains("preloaded")||(a.add("preloaded"),this.load(""))}setTextboxValue(a=""){var c=this.control_input;c.value!==a&&(c.value=a,D(c,"update"),this.lastValue=a)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(a,c){At(this,c?[]:["change"],()=>{this.clear(c),this.addItems(a,c)})}setMaxItems(a){a===0&&(a=null),this.settings.maxItems=a,this.refreshState()}setActiveItem(a,c){var h,p,b,A,w,F,T=this;if(T.settings.mode!=="single"){if(!a)return T.clearActiveItems(),void(T.isFocused&&T.showInput());if((h=c&&c.type.toLowerCase())==="click"&&Fe("shiftKey",c)&&T.activeItems.length){for(F=T.getLastActive(),(b=Array.prototype.indexOf.call(T.control.children,F))>(A=Array.prototype.indexOf.call(T.control.children,a))&&(w=b,b=A,A=w),p=b;p<=A;p++)a=T.control.children[p],T.activeItems.indexOf(a)===-1&&T.setActiveItemClass(a);fe(c)}else h==="click"&&Fe(Je,c)||h==="keydown"&&Fe("shiftKey",c)?a.classList.contains("active")?T.removeActiveItem(a):T.setActiveItemClass(a):(T.clearActiveItems(),T.setActiveItemClass(a));T.hideInput(),T.isFocused||T.focus()}}setActiveItemClass(a){let c=this,h=c.control.querySelector(".last-active");h&&U(h,"last-active"),N(a,"active last-active"),c.trigger("item_select",a),c.activeItems.indexOf(a)==-1&&c.activeItems.push(a)}removeActiveItem(a){var c=this.activeItems.indexOf(a);this.activeItems.splice(c,1),U(a,"active")}clearActiveItems(){U(this.activeItems,"active"),this.activeItems=[]}setActiveOption(a,c=!0){a!==this.activeOption&&(this.clearActiveOption(),a&&(this.activeOption=a,ne(this.focus_node,{"aria-activedescendant":a.getAttribute("id")}),ne(a,{"aria-selected":"true"}),N(a,"active"),c&&this.scrollToOption(a)))}scrollToOption(a,c){if(!a)return;let h=this.dropdown_content,p=h.clientHeight,b=h.scrollTop||0,A=a.offsetHeight,w=a.getBoundingClientRect().top-h.getBoundingClientRect().top+b;w+A>p+b?this.scroll(w-p+A,c):w<b&&this.scroll(w,c)}scroll(a,c){let h=this.dropdown_content;c&&(h.style.scrollBehavior=c),h.scrollTop=a,h.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(U(this.activeOption,"active"),ne(this.activeOption,{"aria-selected":null})),this.activeOption=null,ne(this.focus_node,{"aria-activedescendant":null})}selectAll(){let a=this;if(a.settings.mode==="single")return;let c=a.controlChildren();c.length&&(a.hideInput(),a.close(),a.activeItems=c,I(c,h=>{a.setActiveItemClass(h)}))}inputState(){var a=this;a.control.contains(a.control_input)&&(ne(a.control_input,{placeholder:a.settings.placeholder}),a.activeItems.length>0||!a.isFocused&&a.settings.hidePlaceholder&&a.items.length>0?(a.setTextboxValue(),a.isInputHidden=!0):(a.settings.hidePlaceholder&&a.items.length>0&&ne(a.control_input,{placeholder:""}),a.isInputHidden=!1),a.wrapper.classList.toggle("input-hidden",a.isInputHidden))}hideInput(){this.inputState()}showInput(){this.inputState()}inputValue(){return this.control_input.value.trim()}focus(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.control_input.offsetWidth?a.control_input.focus():a.focus_node.focus(),setTimeout(()=>{a.ignoreFocus=!1,a.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())}getSearchOptions(){var a=this.settings,c=a.sortField;return typeof a.sortField=="string"&&(c=[{field:a.sortField}]),{fields:a.searchField,conjunction:a.searchConjunction,sort:c,nesting:a.nesting}}search(a){var c,h,p=this,b=this.getSearchOptions();if(p.settings.score&&typeof(h=p.settings.score.call(p,a))!="function")throw new Error('Tom Select "score" setting must be a function that returns a function');return a!==p.lastQuery?(p.lastQuery=a,c=p.sifter.search(a,Object.assign(b,{score:h})),p.currentResults=c):c=Object.assign({},p.currentResults),p.settings.hideSelected&&(c.items=c.items.filter(A=>{let w=ge(A.id);return!(w&&p.items.indexOf(w)!==-1)})),c}refreshOptions(a=!0){var c,h,p,b,A,w,F,T,V,j;let Q={},ue=[];var z=this,Ze=z.inputValue();let Xe=Ze===z.lastQuery||Ze==""&&z.lastQuery==null;var et,Y=z.search(Ze),oe=null,Ee=z.settings.shouldOpen||!1,pe=z.dropdown_content;for(Xe&&(oe=z.activeOption)&&(V=oe.closest("[data-group]")),b=Y.items.length,typeof z.settings.maxOptions=="number"&&(b=Math.min(b,z.settings.maxOptions)),b>0&&(Ee=!0),c=0;c<b;c++){let he=Y.items[c];if(!he)continue;let Ue=he.id,_t=z.options[Ue];if(_t===void 0)continue;let Dt=ft(Ue),Ct=z.getOption(Dt,!0);for(z.settings.hideSelected||Ct.classList.toggle("selected",z.items.includes(Dt)),A=_t[z.settings.optgroupField]||"",h=0,p=(w=Array.isArray(A)?A:[A])&&w.length;h<p;h++){A=w[h],z.optgroups.hasOwnProperty(A)||(A="");let Fr=Q[A];Fr===void 0&&(Fr=document.createDocumentFragment(),ue.push(A)),h>0&&(Ct=Ct.cloneNode(!0),ne(Ct,{id:_t.$id+"-clone-"+h,"aria-selected":null}),Ct.classList.add("ts-cloned"),U(Ct,"active"),z.activeOption&&z.activeOption.dataset.value==Ue&&V&&V.dataset.group===A.toString()&&(oe=Ct)),Fr.appendChild(Ct),Q[A]=Fr}}z.settings.lockOptgroupOrder&&ue.sort((he,Ue)=>{let _t=z.optgroups[he],Dt=z.optgroups[Ue];return(_t&&_t.$order||0)-(Dt&&Dt.$order||0)}),F=document.createDocumentFragment(),I(ue,he=>{let Ue=Q[he];if(!Ue||!Ue.children.length)return;let _t=z.optgroups[he];if(_t!==void 0){let Dt=document.createDocumentFragment(),Ct=z.render("optgroup_header",_t);$e(Dt,Ct),$e(Dt,Ue);let Fr=z.render("optgroup",{group:_t,options:Dt});$e(F,Fr)}else $e(F,Ue)}),pe.innerHTML="",$e(pe,F),z.settings.highlight&&(et=pe.querySelectorAll("span.highlight"),Array.prototype.forEach.call(et,function(he){var Ue=he.parentNode;Ue.replaceChild(he.firstChild,he),Ue.normalize()}),Y.query.length&&Y.tokens.length&&I(Y.tokens,he=>{nt(pe,he.regex)}));var be=he=>{let Ue=z.render(he,{input:Ze});return Ue&&(Ee=!0,pe.insertBefore(Ue,pe.firstChild)),Ue};if(z.loading?be("loading"):z.settings.shouldLoad.call(z,Ze)?Y.items.length===0&&be("no_results"):be("not_loading"),(T=z.canCreate(Ze))&&(j=be("option_create")),z.hasOptions=Y.items.length>0||T,Ee){if(Y.items.length>0){if(oe||z.settings.mode!=="single"||z.items[0]==null||(oe=z.getOption(z.items[0])),!pe.contains(oe)){let he=0;j&&!z.settings.addPrecedence&&(he=1),oe=z.selectable()[he]}}else j&&(oe=j);a&&!z.isOpen&&(z.open(),z.scrollToOption(oe,"auto")),z.setActiveOption(oe)}else z.clearActiveOption(),a&&z.isOpen&&z.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(a,c=!1){let h=this;if(Array.isArray(a))return h.addOptions(a,c),!1;let p=ge(a[h.settings.valueField]);return p!==null&&!h.options.hasOwnProperty(p)&&(a.$order=a.$order||++h.order,a.$id=h.inputId+"-opt-"+a.$order,h.options[p]=a,h.lastQuery=null,c&&(h.userOptions[p]=c,h.trigger("option_add",p,a)),p)}addOptions(a,c=!1){I(a,h=>{this.addOption(h,c)})}registerOption(a){return this.addOption(a)}registerOptionGroup(a){var c=ge(a[this.settings.optgroupValueField]);return c!==null&&(a.$order=a.$order||++this.order,this.optgroups[c]=a,c)}addOptionGroup(a,c){var h;c[this.settings.optgroupValueField]=a,(h=this.registerOptionGroup(c))&&this.trigger("optgroup_add",h,c)}removeOptionGroup(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],this.clearCache(),this.trigger("optgroup_remove",a))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(a,c){let h=this;var p,b;let A=ge(a),w=ge(c[h.settings.valueField]);if(A===null)return;let F=h.options[A];if(F==null)return;if(typeof w!="string")throw new Error("Value must be set in option data");let T=h.getOption(A),V=h.getItem(A);if(c.$order=c.$order||F.$order,delete h.options[A],h.uncacheValue(w),h.options[w]=c,T){if(h.dropdown_content.contains(T)){let j=h._render("option",c);We(T,j),h.activeOption===T&&h.setActiveOption(j)}T.remove()}V&&((b=h.items.indexOf(A))!==-1&&h.items.splice(b,1,w),p=h._render("item",c),V.classList.contains("active")&&N(p,"active"),We(V,p)),h.lastQuery=null}removeOption(a,c){let h=this;a=ft(a),h.uncacheValue(a),delete h.userOptions[a],delete h.options[a],h.lastQuery=null,h.trigger("option_remove",a),h.removeItem(a,c)}clearOptions(a){let c=(a||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();let h={};I(this.options,(p,b)=>{c(p,b)&&(h[b]=p)}),this.options=this.sifter.items=h,this.lastQuery=null,this.trigger("option_clear")}clearFilter(a,c){return this.items.indexOf(c)>=0}getOption(a,c=!1){let h=ge(a);if(h===null)return null;let p=this.options[h];if(p!=null){if(p.$div)return p.$div;if(c)return this._render("option",p)}return null}getAdjacent(a,c,h="option"){var p;if(!a)return null;p=h=="item"?this.controlChildren():this.dropdown_content.querySelectorAll("[data-selectable]");for(let b=0;b<p.length;b++)if(p[b]==a)return c>0?p[b+1]:p[b-1];return null}getItem(a){if(typeof a=="object")return a;var c=ge(a);return c!==null?this.control.querySelector(`[data-value="${mt(c)}"]`):null}addItems(a,c){var h=this,p=Array.isArray(a)?a:[a];let b=(p=p.filter(A=>h.items.indexOf(A)===-1))[p.length-1];p.forEach(A=>{h.isPending=A!==b,h.addItem(A,c)})}addItem(a,c){At(this,c?[]:["change","dropdown_close"],()=>{var h,p;let b=this,A=b.settings.mode,w=ge(a);if((!w||b.items.indexOf(w)===-1||(A==="single"&&b.close(),A!=="single"&&b.settings.duplicates))&&w!==null&&b.options.hasOwnProperty(w)&&(A==="single"&&b.clear(c),A!=="multi"||!b.isFull())){if(h=b._render("item",b.options[w]),b.control.contains(h)&&(h=h.cloneNode(!0)),p=b.isFull(),b.items.splice(b.caretPos,0,w),b.insertAtCaret(h),b.isSetup){if(!b.isPending&&b.settings.hideSelected){let F=b.getOption(w),T=b.getAdjacent(F,1);T&&b.setActiveOption(T)}b.isPending||b.settings.closeAfterSelect||b.refreshOptions(b.isFocused&&A!=="single"),b.settings.closeAfterSelect!=0&&b.isFull()?b.close():b.isPending||b.positionDropdown(),b.trigger("item_add",w,h),b.isPending||b.updateOriginalInput({silent:c})}(!b.isPending||!p&&b.isFull())&&(b.inputState(),b.refreshState())}})}removeItem(a=null,c){let h=this;if(!(a=h.getItem(a)))return;var p,b;let A=a.dataset.value;p=le(a),a.remove(),a.classList.contains("active")&&(b=h.activeItems.indexOf(a),h.activeItems.splice(b,1),U(a,"active")),h.items.splice(p,1),h.lastQuery=null,!h.settings.persist&&h.userOptions.hasOwnProperty(A)&&h.removeOption(A,c),p<h.caretPos&&h.setCaret(h.caretPos-1),h.updateOriginalInput({silent:c}),h.refreshState(),h.positionDropdown(),h.trigger("item_remove",A,a)}createItem(a=null,c=()=>{}){arguments.length===3&&(c=arguments[2]),typeof c!="function"&&(c=()=>{});var h,p=this,b=p.caretPos;if(a=a||p.inputValue(),!p.canCreate(a))return c(),!1;p.lock();var A=!1,w=F=>{if(p.unlock(),!F||typeof F!="object")return c();var T=ge(F[p.settings.valueField]);if(typeof T!="string")return c();p.setTextboxValue(),p.addOption(F,!0),p.setCaret(b),p.addItem(T),c(F),A=!0};return h=typeof p.settings.create=="function"?p.settings.create.call(this,a,w):{[p.settings.labelField]:a,[p.settings.valueField]:a},A||w(h),!0}refreshItems(){var a=this;a.lastQuery=null,a.isSetup&&a.addItems(a.items),a.updateOriginalInput(),a.refreshState()}refreshState(){let a=this;a.refreshValidityState();let c=a.isFull(),h=a.isLocked;a.wrapper.classList.toggle("rtl",a.rtl);let p=a.wrapper.classList;var b;p.toggle("focus",a.isFocused),p.toggle("disabled",a.isDisabled),p.toggle("required",a.isRequired),p.toggle("invalid",!a.isValid),p.toggle("locked",h),p.toggle("full",c),p.toggle("input-active",a.isFocused&&!a.isInputHidden),p.toggle("dropdown-active",a.isOpen),p.toggle("has-options",(b=a.options,Object.keys(b).length===0)),p.toggle("has-items",a.items.length>0)}refreshValidityState(){var a=this;a.input.validity&&(a.isValid=a.input.validity.valid,a.isInvalid=!a.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(a={}){let c=this;var h,p;let b=c.input.querySelector('option[value=""]');if(c.is_select_tag){let F=function(T,V,j){return T||(T=M('<option value="'+pt(V)+'">'+pt(j)+"</option>")),T!=b&&c.input.append(T),A.push(T),(T!=b||w>0)&&(T.selected=!0),T},A=[],w=c.input.querySelectorAll("option:checked").length;c.input.querySelectorAll("option:checked").forEach(T=>{T.selected=!1}),c.items.length==0&&c.settings.mode=="single"?F(b,"",""):c.items.forEach(T=>{h=c.options[T],p=h[c.settings.labelField]||"",A.includes(h.$option)?F(c.input.querySelector(`option[value="${mt(T)}"]:not(:checked)`),T,p):h.$option=F(h.$option,T,p)})}else c.input.value=c.getValue();c.isSetup&&(a.silent||c.trigger("change",c.getValue()))}open(){var a=this;a.isLocked||a.isOpen||a.settings.mode==="multi"&&a.isFull()||(a.isOpen=!0,ne(a.focus_node,{"aria-expanded":"true"}),a.refreshState(),q(a.dropdown,{visibility:"hidden",display:"block"}),a.positionDropdown(),q(a.dropdown,{visibility:"visible",display:"block"}),a.focus(),a.trigger("dropdown_open",a.dropdown))}close(a=!0){var c=this,h=c.isOpen;a&&(c.setTextboxValue(),c.settings.mode==="single"&&c.items.length&&c.hideInput()),c.isOpen=!1,ne(c.focus_node,{"aria-expanded":"false"}),q(c.dropdown,{display:"none"}),c.settings.hideSelected&&c.clearActiveOption(),c.refreshState(),h&&c.trigger("dropdown_close",c.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var a=this.control,c=a.getBoundingClientRect(),h=a.offsetHeight+c.top+window.scrollY,p=c.left+window.scrollX;q(this.dropdown,{width:c.width+"px",top:h+"px",left:p+"px"})}}clear(a){var c=this;if(c.items.length){var h=c.controlChildren();I(h,p=>{c.removeItem(p,!0)}),c.showInput(),a||c.updateOriginalInput(),c.trigger("clear")}}insertAtCaret(a){let c=this,h=c.caretPos,p=c.control;p.insertBefore(a,p.children[h]||null),c.setCaret(h+1)}deleteSelection(a){var c,h,p,b,A,w=this;c=a&&a.keyCode===8?-1:1,h={start:(A=w.control_input).selectionStart||0,length:(A.selectionEnd||0)-(A.selectionStart||0)};let F=[];if(w.activeItems.length)b=ae(w.activeItems,c),p=le(b),c>0&&p++,I(w.activeItems,T=>F.push(T));else if((w.isFocused||w.settings.mode==="single")&&w.items.length){let T=w.controlChildren(),V;c<0&&h.start===0&&h.length===0?V=T[w.caretPos-1]:c>0&&h.start===w.inputValue().length&&(V=T[w.caretPos]),V!==void 0&&F.push(V)}if(!w.shouldDelete(F,a))return!1;for(fe(a,!0),p!==void 0&&w.setCaret(p);F.length;)w.removeItem(F.pop());return w.showInput(),w.positionDropdown(),w.refreshOptions(!1),!0}shouldDelete(a,c){let h=a.map(p=>p.dataset.value);return!(!h.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(h,c)===!1)}advanceSelection(a,c){var h,p,b=this;b.rtl&&(a*=-1),b.inputValue().length||(Fe(Je,c)||Fe("shiftKey",c)?(p=(h=b.getLastActive(a))?h.classList.contains("active")?b.getAdjacent(h,a,"item"):h:a>0?b.control_input.nextElementSibling:b.control_input.previousElementSibling)&&(p.classList.contains("active")&&b.removeActiveItem(h),b.setActiveItemClass(p)):b.moveCaret(a))}moveCaret(a){}getLastActive(a){let c=this.control.querySelector(".last-active");if(c)return c;var h=this.control.querySelectorAll(".active");return h?ae(h,a):void 0}setCaret(a){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.isLocked=!0,this.refreshState()}unlock(){this.isLocked=!1,this.refreshState()}disable(){var a=this;a.input.disabled=!0,a.control_input.disabled=!0,a.focus_node.tabIndex=-1,a.isDisabled=!0,this.close(),a.lock()}enable(){var a=this;a.input.disabled=!1,a.control_input.disabled=!1,a.focus_node.tabIndex=a.tabIndex,a.isDisabled=!1,a.unlock()}destroy(){var a=this,c=a.revertSettings;a.trigger("destroy"),a.off(),a.wrapper.remove(),a.dropdown.remove(),a.input.innerHTML=c.innerHTML,a.input.tabIndex=c.tabIndex,U(a.input,"tomselected","ts-hidden-accessible"),a._destroy(),delete a.input.tomselect}render(a,c){var h,p;let b=this;if(typeof this.settings.render[a]!="function")return null;if((p=b.settings.render[a].call(this,c,pt))==null)return p;if(p=M(p),a==="option"||a==="option_create"?c[b.settings.disabledField]?ne(p,{"aria-disabled":"true"}):ne(p,{"data-selectable":""}):a==="optgroup"&&(h=c.group[b.settings.optgroupValueField],ne(p,{"data-group":h}),c.group[b.settings.disabledField]&&ne(p,{"data-disabled":""})),a==="option"||a==="item"){let A=ft(c[b.settings.valueField]);ne(p,{"data-value":A}),a==="item"?(N(p,b.settings.itemClass),ne(p,{"data-ts-item":""})):(N(p,b.settings.optionClass),ne(p,{role:"option",id:c.$id}),c.$div=p,b.options[A]=c)}return p}_render(a,c){let h=this.render(a,c);if(h==null)throw"HTMLElement expected";return h}clearCache(){I(this.options,a=>{a.$div&&(a.$div.remove(),delete a.$div)})}uncacheValue(a){let c=this.getOption(a);c&&c.remove()}canCreate(a){return this.settings.create&&a.length>0&&this.settings.createFilter.call(this,a)}hook(a,c,h){var p=this,b=p[c];p[c]=function(){var A,w;return a==="after"&&(A=b.apply(p,arguments)),w=h.apply(p,arguments),a==="instead"?w:(a==="before"&&(A=b.apply(p,arguments)),A)}}}return ye.define("change_listener",function(){ve(this.input,"change",()=>{this.sync()})}),ye.define("checkbox_options",function(){var f=this,a=f.onOptionSelect;f.settings.hideSelected=!1;var c=function(h){setTimeout(()=>{var p=h.querySelector("input");p instanceof HTMLInputElement&&(h.classList.contains("selected")?p.checked=!0:p.checked=!1)},1)};f.hook("after","setupTemplates",()=>{var h=f.settings.render.option;f.settings.render.option=(p,b)=>{var A=M(h.call(f,p,b)),w=document.createElement("input");w.addEventListener("click",function(T){fe(T)}),w.type="checkbox";let F=ge(p[f.settings.valueField]);return F&&f.items.indexOf(F)>-1&&(w.checked=!0),A.prepend(w),A}}),f.on("item_remove",h=>{var p=f.getOption(h);p&&(p.classList.remove("selected"),c(p))}),f.on("item_add",h=>{var p=f.getOption(h);p&&c(p)}),f.hook("instead","onOptionSelect",(h,p)=>{if(p.classList.contains("selected"))return p.classList.remove("selected"),f.removeItem(p.dataset.value),f.refreshOptions(),void fe(h,!0);a.call(f,h,p),c(p)})}),ye.define("clear_button",function(f){let a=this,c=Object.assign({className:"clear-button",title:"Clear All",html:h=>`<div class="${h.className}" title="${h.title}">&#10799;</div>`},f);a.on("initialize",()=>{var h=M(c.html(c));h.addEventListener("click",p=>{a.isDisabled||(a.clear(),a.settings.mode==="single"&&a.settings.allowEmptyOption&&a.addItem(""),p.preventDefault(),p.stopPropagation())}),a.control.appendChild(h)})}),ye.define("drag_drop",function(){var f=this;if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if(f.settings.mode==="multi"){var a=f.lock,c=f.unlock;f.hook("instead","lock",()=>{var h=$(f.control).data("sortable");return h&&h.disable(),a.call(f)}),f.hook("instead","unlock",()=>{var h=$(f.control).data("sortable");return h&&h.enable(),c.call(f)}),f.on("initialize",()=>{var h=$(f.control).sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:f.isLocked,start:(p,b)=>{b.placeholder.css("width",b.helper.css("width")),h.css({overflow:"visible"})},stop:()=>{h.css({overflow:"hidden"});var p=[];h.children("[data-value]").each(function(){this.dataset.value&&p.push(this.dataset.value)}),f.setValue(p)}})})}}),ye.define("dropdown_header",function(f){let a=this,c=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:h=>'<div class="'+h.headerClass+'"><div class="'+h.titleRowClass+'"><span class="'+h.labelClass+'">'+h.title+'</span><a class="'+h.closeClass+'">&times;</a></div></div>'},f);a.on("initialize",()=>{var h=M(c.html(c)),p=h.querySelector("."+c.closeClass);p&&p.addEventListener("click",b=>{fe(b,!0),a.close()}),a.dropdown.insertBefore(h,a.dropdown.firstChild)})}),ye.define("caret_position",function(){var f=this;f.hook("instead","setCaret",a=>{f.settings.mode!=="single"&&f.control.contains(f.control_input)?(a=Math.max(0,Math.min(f.items.length,a)))==f.caretPos||f.isPending||f.controlChildren().forEach((c,h)=>{h<a?f.control_input.insertAdjacentElement("beforebegin",c):f.control.appendChild(c)}):a=f.items.length,f.caretPos=a}),f.hook("instead","moveCaret",a=>{if(!f.isFocused)return;let c=f.getLastActive(a);if(c){let h=le(c);f.setCaret(a>0?h+1:h),f.setActiveItem(),U(c,"last-active")}else f.setCaret(f.caretPos+a)})}),ye.define("dropdown_input",function(){let f=this;f.settings.shouldOpen=!0,f.hook("before","setup",()=>{f.focus_node=f.control,N(f.control_input,"dropdown-input");let a=M('<div class="dropdown-input-wrap">');a.append(f.control_input),f.dropdown.insertBefore(a,f.dropdown.firstChild);let c=M('<input class="items-placeholder" tabindex="-1" />');c.placeholder=f.settings.placeholder||"",f.control.append(c)}),f.on("initialize",()=>{f.control_input.addEventListener("keydown",c=>{switch(c.keyCode){case 27:return f.isOpen&&(fe(c,!0),f.close()),void f.clearActiveItems();case 9:f.focus_node.tabIndex=-1}return f.onKeyDown.call(f,c)}),f.on("blur",()=>{f.focus_node.tabIndex=f.isDisabled?-1:f.tabIndex}),f.on("dropdown_open",()=>{f.control_input.focus()});let a=f.onBlur;f.hook("instead","onBlur",c=>{if(!c||c.relatedTarget!=f.control_input)return a.call(f)}),ve(f.control_input,"blur",()=>f.onBlur()),f.hook("before","close",()=>{f.isOpen&&f.focus_node.focus({preventScroll:!0})})})}),ye.define("input_autogrow",function(){var f=this;f.on("initialize",()=>{var a=document.createElement("span"),c=f.control_input;a.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",f.wrapper.appendChild(a);for(let p of["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"])a.style[p]=c.style[p];var h=()=>{a.textContent=c.value,c.style.width=a.clientWidth+"px"};h(),f.on("update item_add item_remove",h),ve(c,"input",h),ve(c,"keyup",h),ve(c,"blur",h),ve(c,"update",h)})}),ye.define("no_backspace_delete",function(){var f=this,a=f.deleteSelection;this.hook("instead","deleteSelection",c=>!!f.activeItems.length&&a.call(f,c))}),ye.define("no_active_items",function(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}),ye.define("optgroup_columns",function(){var f=this,a=f.onKeyDown;f.hook("instead","onKeyDown",c=>{var h,p,b,A;if(!f.isOpen||c.keyCode!==37&&c.keyCode!==39)return a.call(f,c);f.ignoreHover=!0,A=se(f.activeOption,"[data-group]"),h=le(f.activeOption,"[data-selectable]"),A&&(A=c.keyCode===37?A.previousSibling:A.nextSibling)&&(p=(b=A.querySelectorAll("[data-selectable]"))[Math.min(b.length-1,h)])&&f.setActiveOption(p)})}),ye.define("remove_button",function(f){let a=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},f);var c=this;if(a.append){var h='<a href="javascript:void(0)" class="'+a.className+'" tabindex="-1" title="'+pt(a.title)+'">'+a.label+"</a>";c.hook("after","setupTemplates",()=>{var p=c.settings.render.item;c.settings.render.item=(b,A)=>{var w=M(p.call(c,b,A)),F=M(h);return w.appendChild(F),ve(F,"mousedown",T=>{fe(T,!0)}),ve(F,"click",T=>{fe(T,!0),c.isLocked||c.shouldDelete([w],T)&&(c.removeItem(w),c.refreshOptions(!1),c.inputState())}),w}})}}),ye.define("restore_on_backspace",function(f){let a=this,c=Object.assign({text:h=>h[a.settings.labelField]},f);a.on("item_remove",function(h){if(a.isFocused&&a.control_input.value.trim()===""){var p=a.options[h];p&&a.setTextboxValue(c.text.call(a,p))}})}),ye.define("virtual_scroll",function(){let f=this,a=f.canLoad,c=f.clearActiveOption,h=f.loadCallback;var p,b,A={},w=!1,F=[];if(f.settings.shouldLoadMore||(f.settings.shouldLoadMore=()=>{if(p.clientHeight/(p.scrollHeight-p.scrollTop)>.9)return!0;if(f.activeOption){var j=f.selectable();if(Array.from(j).indexOf(f.activeOption)>=j.length-2)return!0}return!1}),!f.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";f.settings.sortField=[{field:"$order"},{field:"$score"}];let T=j=>!(typeof f.settings.maxOptions=="number"&&p.children.length>=f.settings.maxOptions)&&!(!(j in A)||!A[j]),V=(j,Q)=>f.items.indexOf(Q)>=0||F.indexOf(Q)>=0;f.setNextUrl=(j,Q)=>{A[j]=Q},f.getUrl=j=>{if(j in A){let Q=A[j];return A[j]=!1,Q}return A={},f.settings.firstUrl.call(f,j)},f.hook("instead","clearActiveOption",()=>{if(!w)return c.call(f)}),f.hook("instead","canLoad",j=>j in A?T(j):a.call(f,j)),f.hook("instead","loadCallback",(j,Q)=>{if(w){if(b){let ue=j[0];ue!==void 0&&(b.dataset.value=ue[f.settings.valueField])}}else f.clearOptions(V);h.call(f,j,Q),w=!1}),f.hook("after","refreshOptions",()=>{let j=f.lastValue;var Q;T(j)?(Q=f.render("loading_more",{query:j}))&&(Q.setAttribute("data-selectable",""),b=Q):j in A&&!p.querySelector(".no-results")&&(Q=f.render("no_more_results",{query:j})),Q&&(N(Q,f.settings.optionClass),p.append(Q))}),f.on("initialize",()=>{F=Object.keys(f.options),p=f.dropdown_content,f.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},f.settings.render),p.addEventListener("scroll",()=>{f.settings.shouldLoadMore.call(f)&&T(f.lastValue)&&(w||(w=!0,f.load.call(f,f.lastValue)))})})}),ye})});var jl=te((dT,Fp)=>{"use strict";Fp.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Ip=te((hT,Mp)=>{Mp.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var Np=te((fT,Dp)=>{"use strict";var mE=Ip(),gE=Array.prototype.concat,vE=Array.prototype.slice,Rp=Dp.exports=function(e){for(var r=[],n=0,i=e.length;n<i;n++){var s=e[n];mE(s)?r=gE.call(r,vE.call(s)):r.push(s)}return r};Rp.wrap=function(t){return function(){return t(Rp(arguments))}}});var qp=te((pT,jp)=>{var ni=jl(),ii=Np(),Bp=Object.hasOwnProperty,$p=Object.create(null);for(Ps in ni)Bp.call(ni,Ps)&&($p[ni[Ps]]=Ps);var Ps,at=jp.exports={to:{},get:{}};at.get=function(t){var e=t.substring(0,3).toLowerCase(),r,n;switch(e){case"hsl":r=at.get.hsl(t),n="hsl";break;case"hwb":r=at.get.hwb(t),n="hwb";break;default:r=at.get.rgb(t),n="rgb";break}return r?{model:n,value:r}:null};at.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,o=[0,0,0,1],l,u,g;if(l=t.match(r)){for(g=l[2],l=l[1],u=0;u<3;u++){var y=u*2;o[u]=parseInt(l.slice(y,y+2),16)}g&&(o[3]=parseInt(g,16)/255)}else if(l=t.match(e)){for(l=l[1],g=l[3],u=0;u<3;u++)o[u]=parseInt(l[u]+l[u],16);g&&(o[3]=parseInt(g+g,16)/255)}else if(l=t.match(n)){for(u=0;u<3;u++)o[u]=parseInt(l[u+1],0);l[4]&&(l[5]?o[3]=parseFloat(l[4])*.01:o[3]=parseFloat(l[4]))}else if(l=t.match(i)){for(u=0;u<3;u++)o[u]=Math.round(parseFloat(l[u+1])*2.55);l[4]&&(l[5]?o[3]=parseFloat(l[4])*.01:o[3]=parseFloat(l[4]))}else return(l=t.match(s))?l[1]==="transparent"?[0,0,0,0]:Bp.call(ni,l[1])?(o=ni[l[1]],o[3]=1,o):null:null;for(u=0;u<3;u++)o[u]=ar(o[u],0,255);return o[3]=ar(o[3],0,1),o};at.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=ar(parseFloat(r[2]),0,100),o=ar(parseFloat(r[3]),0,100),l=ar(isNaN(n)?1:n,0,1);return[i,s,o,l]}return null};at.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=ar(parseFloat(r[2]),0,100),o=ar(parseFloat(r[3]),0,100),l=ar(isNaN(n)?1:n,0,1);return[i,s,o,l]}return null};at.to.hex=function(){var t=ii(arguments);return"#"+Fs(t[0])+Fs(t[1])+Fs(t[2])+(t[3]<1?Fs(Math.round(t[3]*255)):"")};at.to.rgb=function(){var t=ii(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};at.to.rgb.percent=function(){var t=ii(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};at.to.hsl=function(){var t=ii(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};at.to.hwb=function(){var t=ii(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};at.to.keyword=function(t){return $p[t.slice(0,3)]};function ar(t,e,r){return Math.min(Math.max(e,t),r)}function Fs(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var ql=te((mT,Hp)=>{var si=jl(),Vp={};for(let t of Object.keys(si))Vp[si[t]]=t;var J={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Hp.exports=J;for(let t of Object.keys(J)){if(!("channels"in J[t]))throw new Error("missing channels property: "+t);if(!("labels"in J[t]))throw new Error("missing channel labels property: "+t);if(J[t].labels.length!==J[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=J[t];delete J[t].channels,delete J[t].labels,Object.defineProperty(J[t],"channels",{value:e}),Object.defineProperty(J[t],"labels",{value:r})}J.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,l,u;s===i?l=0:e===s?l=(r-n)/o:r===s?l=2+(n-e)/o:n===s&&(l=4+(e-r)/o),l=Math.min(l*60,360),l<0&&(l+=360);let g=(i+s)/2;return s===i?u=0:g<=.5?u=o/(s+i):u=o/(2-s-i),[l,u*100,g*100]};J.rgb.hsv=function(t){let e,r,n,i,s,o=t[0]/255,l=t[1]/255,u=t[2]/255,g=Math.max(o,l,u),y=g-Math.min(o,l,u),k=function(_){return(g-_)/6/y+1/2};return y===0?(i=0,s=0):(s=y/g,e=k(o),r=k(l),n=k(u),o===g?i=n-r:l===g?i=1/3+e-n:u===g&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,g*100]};J.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=J.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};J.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),s=(1-e-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,l=(1-n-i)/(1-i)||0;return[s*100,o*100,l*100,i*100]};function yE(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}J.rgb.keyword=function(t){let e=Vp[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(si)){let s=si[i],o=yE(t,s);o<r&&(r=o,n=i)}return n};J.keyword.rgb=function(t){return si[t]};J.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};J.rgb.lab=function(t){let e=J.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),l=200*(n-i);return[s,o,l]};J.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let l=2*n-i,u=[0,0,0];for(let g=0;g<3;g++)s=e+1/3*-(g-1),s<0&&s++,s>1&&s--,6*s<1?o=l+(i-l)*6*s:2*s<1?o=i:3*s<2?o=l+(i-l)*(2/3-s)*6:o=l,u[g]=o*255;return u};J.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,l=n===0?2*i/(s+i):2*r/(n+r);return[e,l*100,o*100]};J.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),l=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[l,n,o];case 2:return[o,n,u];case 3:return[o,l,n];case 4:return[u,o,n];case 5:return[n,o,l]}};J.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let l=(2-r)*i;return s=r*i,s/=l<=1?l:2-l,s=s||0,o/=2,[e,s*100,o*100]};J.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*e),l=1-n;s=6*e-o,o&1&&(s=1-s);let u=r+s*(l-r),g,y,k;switch(o){default:case 6:case 0:g=l,y=u,k=r;break;case 1:g=u,y=l,k=r;break;case 2:g=r,y=l,k=u;break;case 3:g=r,y=u,k=l;break;case 4:g=u,y=r,k=l;break;case 5:g=l,y=r,k=u;break}return[g*255,y*255,k*255]};J.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),l=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,l*255]};J.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};J.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(e-r),o=200*(r-n);return[i,s,o]};J.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;let l=s**3,u=i**3,g=o**3;return s=l>.008856?l:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=g>.008856?g:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};J.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[e,o,i]};J.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[e,s,o]};J.rgb.ansi16=function(t,e=null){let[r,n,i]=t,s=e===null?J.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};J.hsv.ansi16=function(t){return J.rgb.ansi16(J.hsv.rgb(t),t[2])};J.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};J.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};J.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};J.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};J.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(l=>l+l).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};J.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,l,u;return o<1?l=s/(1-o):l=0,o<=0?u=0:i===e?u=(r-n)/o%6:i===r?u=2+(n-e)/o:u=4+(e-r)/o,u/=6,u%=1,[u*360,o*100,l*100]};J.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};J.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};J.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=e%1*6,o=s%1,l=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};J.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};J.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};J.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};J.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};J.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};J.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};J.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};J.gray.hsl=function(t){return[0,0,t[0]]};J.gray.hsv=J.gray.hsl;J.gray.hwb=function(t){return[0,100,t[0]]};J.gray.cmyk=function(t){return[0,0,0,t[0]]};J.gray.lab=function(t){return[t[0],0,0]};J.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};J.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var Up=te((gT,Wp)=>{var Ms=ql();function bE(){let t={},e=Object.keys(Ms);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function wE(t){let e=bE(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(Ms[n]);for(let s=i.length,o=0;o<s;o++){let l=i[o],u=e[l];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(l))}}return e}function EE(t,e){return function(r){return e(t(r))}}function xE(t,e){let r=[e[t].parent,t],n=Ms[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=EE(Ms[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}Wp.exports=function(t){let e=wE(t),r={},n=Object.keys(e);for(let i=n.length,s=0;s<i;s++){let o=n[s];e[o].parent!==null&&(r[o]=xE(o,e))}return r}});var Kp=te((vT,zp)=>{var Vl=ql(),OE=Up(),rn={},SE=Object.keys(Vl);function AE(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function _E(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}SE.forEach(t=>{rn[t]={},Object.defineProperty(rn[t],"channels",{value:Vl[t].channels}),Object.defineProperty(rn[t],"labels",{value:Vl[t].labels});let e=OE(t);Object.keys(e).forEach(n=>{let i=e[n];rn[t][n]=_E(i),rn[t][n].raw=AE(i)})});zp.exports=rn});var Qp=te((yT,Xp)=>{var nn=qp(),lt=Kp(),Gp=["keyword","gray","hex"],Hl={};for(let t of Object.keys(lt))Hl[[...lt[t].labels].sort().join("")]=t;var Is={};function He(t,e){if(!(this instanceof He))return new He(t,e);if(e&&e in Gp&&(e=null),e&&!(e in lt))throw new Error("Unknown model: "+e);let r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof He)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){let i=nn.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=lt[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=lt[this.model].channels;let i=Array.prototype.slice.call(t,0,n);this.color=Wl(i,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;let i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);let s=i.sort().join("");if(!(s in Hl))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Hl[s];let{labels:o}=lt[this.model],l=[];for(r=0;r<o.length;r++)l.push(t[o[r]]);this.color=Wl(l)}if(Is[this.model])for(n=lt[this.model].channels,r=0;r<n;r++){let i=Is[this.model][r];i&&(this.color[r]=i(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}He.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in nn.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);let r=e.valpha===1?e.color:[...e.color,this.valpha];return nn.to[e.model](r)},percentString(t){let e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:[...e.color,this.valpha];return nn.to.rgb.percent(r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let t={},{channels:e}=lt[this.model],{labels:r}=lt[this.model];for(let n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){let t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){let t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new He([...this.color.map(TE(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new He([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:Le("rgb",0,Be(255)),green:Le("rgb",1,Be(255)),blue:Le("rgb",2,Be(255)),hue:Le(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:Le("hsl",1,Be(100)),lightness:Le("hsl",2,Be(100)),saturationv:Le("hsv",1,Be(100)),value:Le("hsv",2,Be(100)),chroma:Le("hcg",1,Be(100)),gray:Le("hcg",2,Be(100)),white:Le("hwb",1,Be(100)),wblack:Le("hwb",2,Be(100)),cyan:Le("cmyk",0,Be(100)),magenta:Le("cmyk",1,Be(100)),yellow:Le("cmyk",2,Be(100)),black:Le("cmyk",3,Be(100)),x:Le("xyz",0,Be(95.047)),y:Le("xyz",1,Be(100)),z:Le("xyz",2,Be(108.833)),l:Le("lab",0,Be(100)),a:Le("lab",1),b:Le("lab",2),keyword(t){return t!==void 0?new He(t):lt[this.model].keyword(this.color)},hex(t){return t!==void 0?new He(t):nn.to.hex(this.rgb().round().color)},hexa(t){if(t!==void 0)return new He(t);let e=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),nn.to.hex(e)+r},rgbNumber(){let t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){let t=this.rgb().color,e=[];for(let[r,n]of t.entries()){let i=n/255;e[r]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){let e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){let e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){let t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){let e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){let e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){let e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){let e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){let e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){let e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){let t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return He.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){let e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);let r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,s=2*i-1,o=r.alpha()-n.alpha(),l=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,u=1-l;return He.rgb(l*r.red()+u*n.red(),l*r.green()+u*n.green(),l*r.blue()+u*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};for(let t of Object.keys(lt)){if(Gp.includes(t))continue;let{channels:e}=lt[t];He.prototype[t]=function(...r){return this.model===t?new He(this):r.length>0?new He(r,t):new He([...kE(lt[this.model][t].raw(this.color)),this.valpha],t)},He[t]=function(...r){let n=r[0];return typeof n=="number"&&(n=Wl(r,e)),new He(n,t)}}function CE(t,e){return Number(t.toFixed(e))}function TE(t){return function(e){return CE(e,t)}}function Le(t,e,r){t=Array.isArray(t)?t:[t];for(let n of t)(Is[n]||(Is[n]=[]))[e]=r;return t=t[0],function(n){let i;return n!==void 0?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function Be(t){return function(e){return Math.max(0,Math.min(t,e))}}function kE(t){return Array.isArray(t)?t:[t]}function Wl(t,e){for(let r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}Xp.exports=He});var Yp=te((Ds,zl)=>{(function(t,e){typeof Ds=="object"&&typeof zl=="object"?zl.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Ds=="object"?Ds.Pickr=e():t.Pickr=e()})(self,()=>(()=>{"use strict";var t={d:(I,E)=>{for(var C in E)t.o(E,C)&&!t.o(I,C)&&Object.defineProperty(I,C,{enumerable:!0,get:E[C]})},o:(I,E)=>Object.prototype.hasOwnProperty.call(I,E),r:I=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})}},e={};t.d(e,{default:()=>ie});var r={};function n(I,E,C,P,M={}){E instanceof HTMLCollection||E instanceof NodeList?E=Array.from(E):Array.isArray(E)||(E=[E]),Array.isArray(C)||(C=[C]);for(let L of E)for(let D of C)L[I](D,P,{capture:!1,...M});return Array.prototype.slice.call(arguments,1)}t.r(r),t.d(r,{adjustableInputNumbers:()=>y,createElementFromString:()=>o,createFromTemplate:()=>l,eventPath:()=>u,off:()=>s,on:()=>i,resolveElement:()=>g});let i=n.bind(null,"addEventListener"),s=n.bind(null,"removeEventListener");function o(I){let E=document.createElement("div");return E.innerHTML=I.trim(),E.firstElementChild}function l(I){let E=(P,M)=>{let L=P.getAttribute(M);return P.removeAttribute(M),L},C=(P,M={})=>{let L=E(P,":obj"),D=E(P,":ref"),q=L?M[L]={}:M;D&&(M[D]=P);for(let N of Array.from(P.children)){let U=E(N,":arr"),X=C(N,U?{}:q);U&&(q[U]||(q[U]=[])).push(Object.keys(X).length?X:N)}return M};return C(o(I))}function u(I){let E=I.path||I.composedPath&&I.composedPath();if(E)return E;let C=I.target.parentElement;for(E=[I.target,C];C=C.parentElement;)E.push(C);return E.push(document,window),E}function g(I){return I instanceof Element?I:typeof I=="string"?I.split(/>>/g).reduce((E,C,P,M)=>(E=E.querySelector(C),P<M.length-1?E.shadowRoot:E),document):null}function y(I,E=C=>C){function C(P){let M=[.001,.01,.1][Number(P.shiftKey||2*P.ctrlKey)]*(P.deltaY<0?1:-1),L=0,D=I.selectionStart;I.value=I.value.replace(/[\d.]+/g,(q,N)=>N<=D&&N+q.length>=D?(D=N,E(Number(q),M,L)):(L++,q)),I.focus(),I.setSelectionRange(D,D),P.preventDefault(),I.dispatchEvent(new Event("input"))}i(I,"focus",()=>i(window,"wheel",C,{passive:!1})),i(I,"blur",()=>s(window,"wheel",C))}let{min:k,max:_,floor:B,round:W}=Math;function H(I,E,C){E/=100,C/=100;let P=B(I=I/360*6),M=I-P,L=C*(1-E),D=C*(1-M*E),q=C*(1-(1-M)*E),N=P%6;return[255*[C,D,L,L,q,C][N],255*[q,C,C,D,L,L][N],255*[L,L,q,C,C,D][N]]}function R(I,E,C){let P=(2-(E/=100))*(C/=100)/2;return P!==0&&(E=P===1?0:P<.5?E*C/(2*P):E*C/(2-2*P)),[I,100*E,100*P]}function S(I,E,C){let P=k(I/=255,E/=255,C/=255),M=_(I,E,C),L=M-P,D,q;if(L===0)D=q=0;else{q=L/M;let N=((M-I)/6+L/2)/L,U=((M-E)/6+L/2)/L,X=((M-C)/6+L/2)/L;I===M?D=X-U:E===M?D=1/3+N-X:C===M&&(D=2/3+U-N),D<0?D+=1:D>1&&(D-=1)}return[360*D,100*q,100*M]}function O(I,E,C,P){return E/=100,C/=100,[...S(255*(1-k(1,(I/=100)*(1-(P/=100))+P)),255*(1-k(1,E*(1-P)+P)),255*(1-k(1,C*(1-P)+P)))]}function m(I,E,C){E/=100;let P=2*(E*=(C/=100)<.5?C:1-C)/(C+E)*100,M=100*(C+E);return[I,isNaN(P)?0:P,M]}function d(I){return S(...I.match(/.{2}/g).map(E=>parseInt(E,16)))}function x(I){I=I.match(/^[a-zA-Z]+$/)?function(M){if(M.toLowerCase()==="black")return"#000";let L=document.createElement("canvas").getContext("2d");return L.fillStyle=M,L.fillStyle==="#000"?null:L.fillStyle}(I):I;let E={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},C=M=>M.map(L=>/^(|\d+)\.\d+|\d+$/.test(L)?Number(L):void 0),P;e:for(let M in E)if(P=E[M].exec(I))switch(M){case"cmyk":{let[,L,D,q,N]=C(P);if(L>100||D>100||q>100||N>100)break e;return{values:O(L,D,q,N),type:M}}case"rgba":{let[,L,,D,,q,,,N]=C(P);if(L=P[2]==="%"?L/100*255:L,D=P[4]==="%"?D/100*255:D,q=P[6]==="%"?q/100*255:q,N=P[9]==="%"?N/100:N,L>255||D>255||q>255||N<0||N>1)break e;return{values:[...S(L,D,q),N],a:N,type:M}}case"hexa":{let[,L]=P;L.length!==4&&L.length!==3||(L=L.split("").map(N=>N+N).join(""));let D=L.substring(0,6),q=L.substring(6);return q=q?parseInt(q,16)/255:void 0,{values:[...d(D),q],a:q,type:M}}case"hsla":{let[,L,D,q,,N]=C(P);if(N=P[6]==="%"?N/100:N,L>360||D>100||q>100||N<0||N>1)break e;return{values:[...m(L,D,q),N],a:N,type:M}}case"hsva":{let[,L,D,q,,N]=C(P);if(N=P[6]==="%"?N/100:N,L>360||D>100||q>100||N<0||N>1)break e;return{values:[L,D,q,N],a:N,type:M}}}return{values:null,type:null}}function v(I=0,E=0,C=0,P=1){let M=(D,q)=>(N=-1)=>q(~N?D.map(U=>Number(U.toFixed(N))):D),L={h:I,s:E,v:C,a:P,toHSVA(){let D=[L.h,L.s,L.v,L.a];return D.toString=M(D,q=>`hsva(${q[0]}, ${q[1]}%, ${q[2]}%, ${L.a})`),D},toHSLA(){let D=[...R(L.h,L.s,L.v),L.a];return D.toString=M(D,q=>`hsla(${q[0]}, ${q[1]}%, ${q[2]}%, ${L.a})`),D},toRGBA(){let D=[...H(L.h,L.s,L.v),L.a];return D.toString=M(D,q=>`rgba(${q[0]}, ${q[1]}, ${q[2]}, ${L.a})`),D},toCMYK(){let D=function(q,N,U){let X=H(q,N,U),ee=X[0]/255,se=X[1]/255,ae=X[2]/255,le=k(1-ee,1-se,1-ae);return[100*(le===1?0:(1-ee-le)/(1-le)),100*(le===1?0:(1-se-le)/(1-le)),100*(le===1?0:(1-ae-le)/(1-le)),100*le]}(L.h,L.s,L.v);return D.toString=M(D,q=>`cmyk(${q[0]}%, ${q[1]}%, ${q[2]}%, ${q[3]}%)`),D},toHEXA(){let D=function(N,U,X){return H(N,U,X).map(ee=>W(ee).toString(16).padStart(2,"0"))}(L.h,L.s,L.v),q=L.a>=1?"":Number((255*L.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return q&&D.push(q),D.toString=()=>`#${D.join("").toUpperCase()}`,D},clone:()=>v(L.h,L.s,L.v,L.a)};return L}let G=I=>Math.max(Math.min(I,1),0);function re(I){let E={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},I),_keyboard(L){let{options:D}=E,{type:q,key:N}=L;if(document.activeElement===D.wrapper){let{lock:U}=E.options,X=N==="ArrowUp",ee=N==="ArrowRight",se=N==="ArrowDown",ae=N==="ArrowLeft";if(q==="keydown"&&(X||ee||se||ae)){let le=0,ne=0;U==="v"?le=X||ee?1:-1:U==="h"?le=X||ee?-1:1:(ne=X?-1:se?1:0,le=ae?-1:ee?1:0),E.update(G(E.cache.x+.01*le),G(E.cache.y+.01*ne)),L.preventDefault()}else N.startsWith("Arrow")&&(E.options.onstop(),L.preventDefault())}},_tapstart(L){i(document,["mouseup","touchend","touchcancel"],E._tapstop),i(document,["mousemove","touchmove"],E._tapmove),L.cancelable&&L.preventDefault(),E._tapmove(L)},_tapmove(L){let{options:D,cache:q}=E,{lock:N,element:U,wrapper:X}=D,ee=X.getBoundingClientRect(),se=0,ae=0;if(L){let We=L&&L.touches&&L.touches[0];se=L?(We||L).clientX:0,ae=L?(We||L).clientY:0,se<ee.left?se=ee.left:se>ee.left+ee.width&&(se=ee.left+ee.width),ae<ee.top?ae=ee.top:ae>ee.top+ee.height&&(ae=ee.top+ee.height),se-=ee.left,ae-=ee.top}else q&&(se=q.x*ee.width,ae=q.y*ee.height);N!=="h"&&(U.style.left=`calc(${se/ee.width*100}% - ${U.offsetWidth/2}px)`),N!=="v"&&(U.style.top=`calc(${ae/ee.height*100}% - ${U.offsetHeight/2}px)`),E.cache={x:se/ee.width,y:ae/ee.height};let le=G(se/ee.width),ne=G(ae/ee.height);switch(N){case"v":return D.onchange(le);case"h":return D.onchange(ne);default:return D.onchange(le,ne)}},_tapstop(){E.options.onstop(),s(document,["mouseup","touchend","touchcancel"],E._tapstop),s(document,["mousemove","touchmove"],E._tapmove)},trigger(){E._tapmove()},update(L=0,D=0){let{left:q,top:N,width:U,height:X}=E.options.wrapper.getBoundingClientRect();E.options.lock==="h"&&(D=L),E._tapmove({clientX:q+U*L,clientY:N+X*D})},destroy(){let{options:L,_tapstart:D,_keyboard:q}=E;s(document,["keydown","keyup"],q),s([L.wrapper,L.element],"mousedown",D),s([L.wrapper,L.element],"touchstart",D,{passive:!1})}},{options:C,_tapstart:P,_keyboard:M}=E;return i([C.wrapper,C.element],"mousedown",P),i([C.wrapper,C.element],"touchstart",P,{passive:!1}),i(document,["keydown","keyup"],M),E}function K(I={}){I=Object.assign({onchange:()=>0,className:"",elements:[]},I);let E=i(I.elements,"click",C=>{I.elements.forEach(P=>P.classList[C.target===P?"add":"remove"](I.className)),I.onchange(C),C.stopPropagation()});return{destroy:()=>s(...E)}}let Z={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},ce=(I,E,C)=>{let P=typeof I!="object"||I instanceof HTMLElement?{reference:I,popper:E,...C}:I;return{update(M=P){let{reference:L,popper:D}=Object.assign(P,M);if(!D||!L)throw new Error("Popper- or reference-element missing.");return((q,N,U)=>{let{container:X,arrow:ee,margin:se,padding:ae,position:le,variantFlipOrder:ne,positionFlipOrder:We}={container:document.documentElement.getBoundingClientRect(),...Z,...U},{left:nt,top:Je}=N.style;N.style.left="0",N.style.top="0";let Se=q.getBoundingClientRect(),ge=N.getBoundingClientRect(),ft={t:Se.top-ge.height-se,b:Se.bottom+se,r:Se.right+se,l:Se.left-ge.width-se},pt={vs:Se.left,vm:Se.left+Se.width/2-ge.width/2,ve:Se.left+Se.width-ge.width,hs:Se.top,hm:Se.bottom-Se.height/2-ge.height/2,he:Se.bottom-ge.height},[Rt,At="middle"]=le.split("-"),fe=We[Rt],ve=ne[At],{top:Fe,left:Ye,bottom:mt,right:$e}=X;for(let it of fe){let st=it==="t"||it==="b",ye=ft[it],[f,a]=st?["top","left"]:["left","top"],[c,h]=st?[ge.height,ge.width]:[ge.width,ge.height],[p,b]=st?[mt,$e]:[$e,mt],[A,w]=st?[Fe,Ye]:[Ye,Fe];if(!(ye<A||ye+c+ae>p))for(let F of ve){let T=pt[(st?"v":"h")+F];if(!(T<w||T+h+ae>b)){if(T-=ge[a],ye-=ge[f],N.style[a]=`${T}px`,N.style[f]=`${ye}px`,ee){let V=st?Se.width/2:Se.height/2,j=h/2,Q=V>j,ue=T+{s:Q?j:V,m:j,e:Q?j:h-V}[F],z=ye+{t:c,b:0,r:0,l:c}[it];ee.style[a]=`${ue}px`,ee.style[f]=`${z}px`}return it+F}}}return N.style.left=nt,N.style.top=Je,null})(L,D,P)}}};class ie{static utils=r;static version="1.9.1";static I18N_DEFAULTS={"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"};static DEFAULT_OPTIONS={appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"};_initializingActive=!0;_recalc=!0;_nanopop=null;_root=null;_color=v();_lastColor=v();_swatchColors=[];_setupAnimationFrame=null;_eventListener={init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]};constructor(E){this.options=E=Object.assign({...ie.DEFAULT_OPTIONS},E);let{swatches:C,components:P,theme:M,sliders:L,lockOpacity:D,padding:q}=E;["nano","monolith"].includes(M)&&!L&&(E.sliders="h"),P.interaction||(P.interaction={});let{preview:N,opacity:U,hue:X,palette:ee}=P;P.opacity=!D&&U,P.palette=ee||N||U||X,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),C&&C.length&&C.forEach(ne=>this.addSwatch(ne));let{button:se,app:ae}=this._root;this._nanopop=ce(se,ae,{margin:q}),se.setAttribute("role","button"),se.setAttribute("aria-label",this._t("btn:toggle"));let le=this;this._setupAnimationFrame=requestAnimationFrame(function ne(){if(!ae.offsetWidth)return requestAnimationFrame(ne);le.setColor(E.default),le._rePositioningPicker(),E.defaultRepresentation&&(le._representation=E.defaultRepresentation,le.setColorRepresentation(le._representation)),E.showAlways&&le.show(),le._initializingActive=!1,le._emit("init")})}static create=E=>new ie(E);_preBuild(){let{options:E}=this;for(let C of["el","container"])E[C]=g(E[C]);this._root=(C=>{let{components:P,useAsButton:M,inline:L,appClass:D,theme:q,lockOpacity:N}=C.options,U=ae=>ae?"":'style="display:none" hidden',X=ae=>C._t(ae),ee=l(`
      <div :ref="root" class="pickr">

        ${M?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${D||""}" data-theme="${q}" ${L?'style="position: unset"':""} aria-label="${X("ui:dialog")}" role="window">
          <div class="pcr-selection" ${U(P.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${U(P.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${X("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${X("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${U(P.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${X("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${U(P.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${X("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${P.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${U(Object.keys(P.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${U(P.interaction.input)} aria-label="${X("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${N?"HEX":"HEXA"}" type="button" ${U(P.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${N?"RGB":"RGBA"}" type="button" ${U(P.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${N?"HSL":"HSLA"}" type="button" ${U(P.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${N?"HSV":"HSVA"}" type="button" ${U(P.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${U(P.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${X("btn:save")}" type="button" ${U(P.interaction.save)} aria-label="${X("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${X("btn:cancel")}" type="button" ${U(P.interaction.cancel)} aria-label="${X("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${X("btn:clear")}" type="button" ${U(P.interaction.clear)} aria-label="${X("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),se=ee.interaction;return se.options.find(ae=>!ae.hidden&&!ae.classList.add("active")),se.type=()=>se.options.find(ae=>ae.classList.contains("active")),ee})(this),E.useAsButton&&(this._root.button=E.el),E.container.appendChild(this._root.root)}_finalBuild(){let E=this.options,C=this._root;if(E.container.removeChild(C.root),E.inline){let P=E.el.parentElement;E.el.nextSibling?P.insertBefore(C.app,E.el.nextSibling):P.appendChild(C.app)}else E.container.appendChild(C.app);E.useAsButton?E.inline&&E.el.remove():E.el.parentNode.replaceChild(C.root,E.el),E.disabled&&this.disable(),E.comparison||(C.button.style.transition="none",E.useAsButton||(C.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){let E=this,C=this.options.components,P=(E.options.sliders||"v").repeat(2),[M,L]=P.match(/^[vh]+$/g)?P:[],D=()=>this._color||(this._color=this._lastColor.clone()),q={palette:re({element:E._root.palette.picker,wrapper:E._root.palette.palette,onstop:()=>E._emit("changestop","slider",E),onchange(N,U){if(!C.palette)return;let X=D(),{_root:ee,options:se}=E,{lastColor:ae,currentColor:le}=ee.preview;E._recalc&&(X.s=100*N,X.v=100-100*U,X.v<0&&(X.v=0),E._updateOutput("slider"));let ne=X.toRGBA().toString(0);this.element.style.background=ne,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${X.a}), transparent),
                        linear-gradient(to left, hsla(${X.h}, 100%, 50%, ${X.a}), rgba(255, 255, 255, ${X.a}))
                    `,se.comparison?se.useAsButton||E._lastColor||ae.style.setProperty("--pcr-color",ne):(ee.button.style.setProperty("--pcr-color",ne),ee.button.classList.remove("clear"));let We=X.toHEXA().toString();for(let{el:nt,color:Je}of E._swatchColors)nt.classList[We===Je.toHEXA().toString()?"add":"remove"]("pcr-active");le.style.setProperty("--pcr-color",ne)}}),hue:re({lock:L==="v"?"h":"v",element:E._root.hue.picker,wrapper:E._root.hue.slider,onstop:()=>E._emit("changestop","slider",E),onchange(N){if(!C.hue||!C.palette)return;let U=D();E._recalc&&(U.h=360*N),this.element.style.backgroundColor=`hsl(${U.h}, 100%, 50%)`,q.palette.trigger()}}),opacity:re({lock:M==="v"?"h":"v",element:E._root.opacity.picker,wrapper:E._root.opacity.slider,onstop:()=>E._emit("changestop","slider",E),onchange(N){if(!C.opacity||!C.palette)return;let U=D();E._recalc&&(U.a=Math.round(100*N)/100),this.element.style.background=`rgba(0, 0, 0, ${U.a})`,q.palette.trigger()}}),selectable:K({elements:E._root.interaction.options,className:"active",onchange(N){E._representation=N.target.getAttribute("data-type").toUpperCase(),E._recalc&&E._updateOutput("swatch")}})};this._components=q}_bindEvents(){let{_root:E,options:C}=this,P=[i(E.interaction.clear,"click",()=>this._clearColor()),i([E.interaction.cancel,E.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),i(E.interaction.save,"click",()=>{!this.applyColor()&&!C.showAlways&&this.hide()}),i(E.interaction.result,["keyup","input"],M=>{this.setColor(M.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),M.stopImmediatePropagation()}),i(E.interaction.result,["focus","blur"],M=>{this._recalc=M.type==="blur",this._recalc&&this._updateOutput(null)}),i([E.palette.palette,E.palette.picker,E.hue.slider,E.hue.picker,E.opacity.slider,E.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!C.showAlways){let M=C.closeWithKey;P.push(i(E.button,"click",()=>this.isOpen()?this.hide():this.show()),i(document,"keyup",L=>this.isOpen()&&(L.key===M||L.code===M)&&this.hide()),i(document,["touchstart","mousedown"],L=>{this.isOpen()&&!u(L).some(D=>D===E.app||D===E.button)&&this.hide()},{capture:!0}))}if(C.adjustableNumbers){let M={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};y(E.interaction.result,(L,D,q)=>{let N=M[this.getColorRepresentation().toLowerCase()];if(N){let U=N[q],X=L+(U>=100?1e3*D:D);return X<=0?0:Number((X<U?X:U).toPrecision(3))}return L})}if(C.autoReposition&&!C.inline){let M=null,L=this;P.push(i(window,["scroll","resize"],()=>{L.isOpen()&&(C.closeOnScroll&&L.hide(),M===null?(M=setTimeout(()=>M=null,100),requestAnimationFrame(function D(){L._rePositioningPicker(),M!==null&&requestAnimationFrame(D)})):(clearTimeout(M),M=setTimeout(()=>M=null,100)))},{capture:!0}))}this._eventBindings=P}_rePositioningPicker(){let{options:E}=this;if(!E.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:E.position})){let C=this._root.app,P=C.getBoundingClientRect();C.style.top=(window.innerHeight-P.height)/2+"px",C.style.left=(window.innerWidth-P.width)/2+"px"}}_updateOutput(E){let{_root:C,_color:P,options:M}=this;if(C.interaction.type()){let L=`to${C.interaction.type().getAttribute("data-type")}`;C.interaction.result.value=typeof P[L]=="function"?P[L]().toString(M.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",P,E,this)}_clearColor(E=!1){let{_root:C,options:P}=this;P.useAsButton||C.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),C.button.classList.add("clear"),P.showAlways||this.hide(),this._lastColor=null,this._initializingActive||E||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(E){let{values:C,type:P,a:M}=x(E),{lockOpacity:L}=this.options,D=M!==void 0&&M!==1;return C&&C.length===3&&(C[3]=void 0),{values:!C||L&&D?null:C,type:P}}_t(E){return this.options.i18n[E]||ie.I18N_DEFAULTS[E]}_emit(E,...C){this._eventListener[E].forEach(P=>P(...C,this))}on(E,C){return this._eventListener[E].push(C),this}off(E,C){let P=this._eventListener[E]||[],M=P.indexOf(C);return~M&&P.splice(M,1),this}addSwatch(E){let{values:C}=this._parseLocalColor(E);if(C){let{_swatchColors:P,_root:M}=this,L=v(...C),D=o(`<button type="button" style="--pcr-color: ${L.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return M.swatches.appendChild(D),P.push({el:D,color:L}),this._eventBindings.push(i(D,"click",()=>{this.setHSVA(...L.toHSVA(),!0),this._emit("swatchselect",L),this._emit("change",L,"swatch",this)})),!0}return!1}removeSwatch(E){let C=this._swatchColors[E];if(C){let{el:P}=C;return this._root.swatches.removeChild(P),this._swatchColors.splice(E,1),!0}return!1}applyColor(E=!1){let{preview:C,button:P}=this._root,M=this._color.toRGBA().toString(0);return C.lastColor.style.setProperty("--pcr-color",M),this.options.useAsButton||P.style.setProperty("--pcr-color",M),P.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||E||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(E=>s(...E)),Object.keys(this._components).forEach(E=>this._components[E].destroy())}destroyAndRemove(){this.destroy();let{root:E,app:C}=this._root;E.parentElement&&E.parentElement.removeChild(E),C.parentElement.removeChild(C),Object.keys(this).forEach(P=>this[P]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(E=360,C=0,P=0,M=1,L=!1){let D=this._recalc;if(this._recalc=!1,E<0||E>360||C<0||C>100||P<0||P>100||M<0||M>1)return!1;this._color=v(E,C,P,M);let{hue:q,opacity:N,palette:U}=this._components;return q.update(E/360),N.update(M),U.update(C/100,1-P/100),L||this.applyColor(),D&&this._updateOutput(),this._recalc=D,!0}setColor(E,C=!1){if(E===null)return this._clearColor(C),!0;let{values:P,type:M}=this._parseLocalColor(E);if(P){let L=M.toUpperCase(),{options:D}=this._root.interaction,q=D.find(N=>N.getAttribute("data-type")===L);if(q&&!q.hidden)for(let N of D)N.classList[N===q?"add":"remove"]("active");return!!this.setHSVA(...P,C)&&this.setColorRepresentation(L)}return!1}setColorRepresentation(E){return E=E.toUpperCase(),!!this._root.interaction.options.find(C=>C.getAttribute("data-type").startsWith(E)&&!C.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}return e=e.default})())});(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;let t=HTMLElement,e={HTMLElement:function(){return Reflect.construct(t,[],this.constructor)}};window.HTMLElement=e.HTMLElement,HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)})();(function(t){if(typeof t.requestSubmit=="function")return;t.requestSubmit=function(n){n?(e(n,this),n.click()):(n=document.createElement("input"),n.type="submit",n.hidden=!0,this.appendChild(n),n.click(),this.removeChild(n))};function e(n,i){n instanceof HTMLElement||r(TypeError,"parameter 1 is not of type 'HTMLElement'"),n.type=="submit"||r(TypeError,"The specified element is not a submit button"),n.form==i||r(DOMException,"The specified element is not owned by this form element","NotFoundError")}function r(n,i,s){throw new n("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+i+".",s)}})(HTMLFormElement.prototype);var Yl=new WeakMap;function om(t){let e=t instanceof Element?t:t instanceof Node?t.parentElement:null,r=e?e.closest("input, button"):null;return r?.type=="submit"?r:null}function am(t){let e=om(t.target);e&&e.form&&Yl.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let t=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))t=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",am,!0),Object.defineProperty(t,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return Yl.get(this.target)}})})();var Qt;(function(t){t.eager="eager",t.lazy="lazy"})(Qt||(Qt={}));var Bt=class t extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new t.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="complete"?this.delegate.completeChanged():e=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return lm(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,r;return(r=(e=this.ownerDocument)===null||e===void 0?void 0:e.documentElement)===null||r===void 0?void 0:r.hasAttribute("data-turbo-preview")}};function lm(t){switch(t.toLowerCase()){case"lazy":return Qt.lazy;default:return Qt.eager}}function Qe(t){return new URL(t.toString(),document.baseURI)}function lr(t){let e;if(t.hash)return t.hash.slice(1);if(e=t.href.match(/#(.*)$/))return e[1]}function uo(t,e){let r=e?.getAttribute("formaction")||t.getAttribute("action")||t.action;return Qe(r)}function cm(t){return(pm(t).match(/\.[^.]*$/)||[])[0]||""}function um(t){return!!cm(t).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function dm(t,e){let r=mm(e);return t.href===Qe(r).href||t.href.startsWith(r)}function Ir(t,e){return dm(t,e)&&um(t)}function $s(t){let e=lr(t);return e!=null?t.href.slice(0,-(e.length+1)):t.href}function oi(t){return $s(t)}function hm(t,e){return Qe(t).href==Qe(e).href}function fm(t){return t.pathname.split("/").slice(1)}function pm(t){return fm(t).slice(-1)[0]}function mm(t){return gm(t.origin+t.pathname)}function gm(t){return t.endsWith("/")?t:t+"/"}var on=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return Qe(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}};function an(t){if(t.getAttribute("data-turbo-eval")=="false")return t;{let e=document.createElement("script"),r=ci("csp-nonce");return r&&(e.nonce=r),e.textContent=t.textContent,e.async=!1,vm(e,t),e}}function vm(t,e){for(let{name:r,value:n}of e.attributes)t.setAttribute(r,n)}function ym(t){let e=document.createElement("template");return e.innerHTML=t,e.content}function ze(t,{target:e,cancelable:r,detail:n}={}){let i=new CustomEvent(t,{cancelable:r,bubbles:!0,composed:!0,detail:n});return e&&e.isConnected?e.dispatchEvent(i):document.documentElement.dispatchEvent(i),i}function ai(){return new Promise(t=>requestAnimationFrame(()=>t()))}function bm(){return new Promise(t=>setTimeout(()=>t(),0))}function wm(){return Promise.resolve()}function Zl(t=""){return new DOMParser().parseFromString(t,"text/html")}function ec(t,...e){let r=Em(t,e).replace(/^\n/,"").split(`
`),n=r[0].match(/^\s+/),i=n?n[0].length:0;return r.map(s=>s.slice(i)).join(`
`)}function Em(t,e){return t.reduce((r,n,i)=>{let s=e[i]==null?"":e[i];return r+n+s},"")}function Rr(){return Array.from({length:36}).map((t,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function li(t,...e){for(let r of e.map(n=>n?.getAttribute(t)))if(typeof r=="string")return r;return null}function xm(t,...e){return e.some(r=>r&&r.hasAttribute(t))}function js(...t){for(let e of t)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function qs(...t){for(let e of t)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function Om(t,e=2e3){return new Promise(r=>{let n=()=>{t.removeEventListener("error",n),t.removeEventListener("load",n),r()};t.addEventListener("load",n,{once:!0}),t.addEventListener("error",n,{once:!0}),setTimeout(r,e)})}function tc(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function Sm(t){return t=="advance"||t=="replace"||t=="restore"}function yi(...t){let e=li("data-turbo-action",...t);return Sm(e)?e:null}function rc(t){return document.querySelector(`meta[name="${t}"]`)}function ci(t){let e=rc(t);return e&&e.content}function Am(t,e){let r=rc(t);return r||(r=document.createElement("meta"),r.setAttribute("name",t),document.head.appendChild(r)),r.setAttribute("content",e),r}function ui(t,e){var r;if(t instanceof Element)return t.closest(e)||ui(t.assignedSlot||((r=t.getRootNode())===null||r===void 0?void 0:r.host),e)}var ot;(function(t){t[t.get=0]="get",t[t.post=1]="post",t[t.put=2]="put",t[t.patch=3]="patch",t[t.delete=4]="delete"})(ot||(ot={}));function _m(t){switch(t.toLowerCase()){case"get":return ot.get;case"post":return ot.post;case"put":return ot.put;case"patch":return ot.patch;case"delete":return ot.delete}}var ln=class{constructor(e,r,n,i=new URLSearchParams,s=null){this.abortController=new AbortController,this.resolveRequestPromise=o=>{},this.delegate=e,this.method=r,this.headers=this.defaultHeaders,this.body=i,this.url=n,this.target=s}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:e}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(e);try{this.delegate.requestStarted(this);let r=await fetch(this.url.href,e);return await this.receive(r)}catch(r){if(r.name!=="AbortError")throw this.willDelegateErrorHandling(r)&&this.delegate.requestErrored(this,r),r}finally{this.delegate.requestFinished(this)}}async receive(e){let r=new on(e);return ze("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:r},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,r):r.succeeded?this.delegate.requestSucceededWithResponse(this,r):this.delegate.requestFailedWithResponse(this,r),r}get fetchOptions(){var e;return{method:ot[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(e=this.delegate.referrer)===null||e===void 0?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===ot.get}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(e){let r=new Promise(i=>this.resolveRequestPromise=i);ze("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await r}willDelegateErrorHandling(e){return!ze("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}},Vs=class{constructor(e,r){this.started=!1,this.intersect=n=>{let i=n.slice(-1)[0];i?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=r,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}},$t=class{static wrap(e){return typeof e=="string"?new this(ym(e)):e}constructor(e){this.fragment=Cm(e)}};$t.contentType="text/vnd.turbo-stream.html";function Cm(t){for(let e of t.querySelectorAll("turbo-stream")){let r=document.importNode(e,!0);for(let n of r.templateElement.content.querySelectorAll("script"))n.replaceWith(an(n));e.replaceWith(r)}return t}var Gt;(function(t){t[t.initialized=0]="initialized",t[t.requesting=1]="requesting",t[t.waiting=2]="waiting",t[t.receiving=3]="receiving",t[t.stopping=4]="stopping",t[t.stopped=5]="stopped"})(Gt||(Gt={}));var Xt;(function(t){t.urlEncoded="application/x-www-form-urlencoded",t.multipart="multipart/form-data",t.plain="text/plain"})(Xt||(Xt={}));function Tm(t){switch(t.toLowerCase()){case Xt.multipart:return Xt.multipart;case Xt.plain:return Xt.plain;default:return Xt.urlEncoded}}var cn=class t{static confirmMethod(e,r,n){return Promise.resolve(confirm(e))}constructor(e,r,n,i=!1){this.state=Gt.initialized,this.delegate=e,this.formElement=r,this.submitter=n,this.formData=km(r,n),this.location=Qe(this.action),this.method==ot.get&&Fm(this.location,[...this.body.entries()]),this.fetchRequest=new ln(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=i}get method(){var e;let r=((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return _m(r.toLowerCase())||ot.get}get action(){var e;let r=typeof this.formElement.action=="string"?this.formElement.action:null;return!((e=this.submitter)===null||e===void 0)&&e.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||r||""}get body(){return this.enctype==Xt.urlEncoded||this.method==ot.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return Tm(((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((e,[r,n])=>e.concat(typeof n=="string"?[[r,n]]:[]),[])}async start(){let{initialized:e,requesting:r}=Gt,n=li("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof n=="string"&&!await t.confirmMethod(n,this.formElement,this.submitter))&&this.state==e)return this.state=r,this.fetchRequest.perform()}stop(){let{stopping:e,stopped:r}=Gt;if(this.state!=e&&this.state!=r)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){let r=Lm(ci("csrf-param"))||ci("csrf-token");r&&(e.headers["X-CSRF-Token"]=r)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType($t.contentType)}requestStarted(e){var r;this.state=Gt.waiting,(r=this.submitter)===null||r===void 0||r.setAttribute("disabled",""),this.setSubmitsWith(),ze("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,r){this.result={success:r.succeeded,fetchResponse:r}}requestSucceededWithResponse(e,r){if(r.clientError||r.serverError)this.delegate.formSubmissionFailedWithResponse(this,r);else if(this.requestMustRedirect(e)&&Pm(r)){let n=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,n)}else this.state=Gt.receiving,this.result={success:!0,fetchResponse:r},this.delegate.formSubmissionSucceededWithResponse(this,r)}requestFailedWithResponse(e,r){this.result={success:!1,fetchResponse:r},this.delegate.formSubmissionFailedWithResponse(this,r)}requestErrored(e,r){this.result={success:!1,error:r},this.delegate.formSubmissionErrored(this,r)}requestFinished(e){var r;this.state=Gt.stopped,(r=this.submitter)===null||r===void 0||r.removeAttribute("disabled"),this.resetSubmitterText(),ze("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||xm("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return(e=this.submitter)===null||e===void 0?void 0:e.getAttribute("data-turbo-submits-with")}};function km(t,e){let r=new FormData(t),n=e?.getAttribute("name"),i=e?.getAttribute("value");return n&&r.append(n,i||""),r}function Lm(t){if(t!=null){let r=(document.cookie?document.cookie.split("; "):[]).find(n=>n.startsWith(t));if(r){let n=r.split("=").slice(1).join("=");return n?decodeURIComponent(n):void 0}}}function Pm(t){return t.statusCode==200&&!t.redirected}function Fm(t,e){let r=new URLSearchParams;for(let[n,i]of e)i instanceof File||r.append(n,i);return t.search=r.toString(),t}var Dr=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){let e="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(let r of this.element.querySelectorAll("[autofocus]"))if(r.closest(e)==null)return r;return null}get permanentElements(){return ic(this.element)}getPermanentElementById(e){return nc(this.element,e)}getPermanentElementMapForSnapshot(e){let r={};for(let n of this.permanentElements){let{id:i}=n,s=e.getPermanentElementById(i);s&&(r[i]=[n,s])}return r}};function nc(t,e){return t.querySelector(`#${e}[data-turbo-permanent]`)}function ic(t){return t.querySelectorAll("[id][data-turbo-permanent]")}var un=class{constructor(e,r){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=n=>{if(!n.defaultPrevented){let i=n.target instanceof HTMLFormElement?n.target:void 0,s=n.submitter||void 0;i&&Mm(i,s)&&Im(i,s)&&this.delegate.willSubmitForm(i,s)&&(n.preventDefault(),n.stopImmediatePropagation(),this.delegate.formSubmitted(i,s))}},this.delegate=e,this.eventTarget=r}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}};function Mm(t,e){return(e?.getAttribute("formmethod")||t.getAttribute("method"))!="dialog"}function Im(t,e){if(e?.hasAttribute("formtarget")||t.hasAttribute("target")){let r=e?.getAttribute("formtarget")||t.target;for(let n of document.getElementsByName(r))if(n instanceof HTMLIFrameElement)return!1;return!0}else return!0}var di=class{constructor(e,r){this.resolveRenderPromise=n=>{},this.resolveInterceptionPromise=n=>{},this.delegate=e,this.element=r}scrollToAnchor(e){let r=this.snapshot.getElementForAnchor(e);r?(this.scrollToElement(r),this.focusElement(r)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(lr(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:r}){this.scrollRoot.scrollTo(e,r)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){let{isPreview:r,shouldRender:n,newSnapshot:i}=e;if(n)try{this.renderPromise=new Promise(u=>this.resolveRenderPromise=u),this.renderer=e,await this.prepareToRenderSnapshot(e);let s=new Promise(u=>this.resolveInterceptionPromise=u),o={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(i,o)||await s,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(i,r),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}},Hs=class extends di{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new Dr(this.element)}},hi=class{constructor(e,r){this.clickBubbled=n=>{this.respondsToEventTarget(n.target)?this.clickEvent=n:delete this.clickEvent},this.linkClicked=n=>{this.clickEvent&&this.respondsToEventTarget(n.target)&&n.target instanceof Element&&this.delegate.shouldInterceptLinkClick(n.target,n.detail.url,n.detail.originalEvent)&&(this.clickEvent.preventDefault(),n.preventDefault(),this.delegate.linkClickIntercepted(n.target,n.detail.url,n.detail.originalEvent)),delete this.clickEvent},this.willVisit=n=>{delete this.clickEvent},this.delegate=e,this.element=r}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){let r=e instanceof Element?e:e instanceof Node?e.parentElement:null;return r&&r.closest("turbo-frame, html")==this.element}},fi=class{constructor(e,r){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=n=>{if(n instanceof MouseEvent&&this.clickEventIsSignificant(n)){let i=n.composedPath&&n.composedPath()[0]||n.target,s=this.findLinkFromClickTarget(i);if(s&&Rm(s)){let o=this.getLocationForLink(s);this.delegate.willFollowLinkToLocation(s,o,n)&&(n.preventDefault(),this.delegate.followedLinkToLocation(s,o))}}},this.delegate=e,this.eventTarget=r}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){return ui(e,"a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return Qe(e.getAttribute("href")||"")}};function Rm(t){if(t.hasAttribute("target")){for(let e of document.getElementsByName(t.target))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}var pi=class{constructor(e,r){this.delegate=e,this.linkInterceptor=new fi(this,r)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(e,r,n){return this.delegate.willSubmitFormLinkToLocation(e,r,n)&&e.hasAttribute("data-turbo-method")}followedLinkToLocation(e,r){let n=document.createElement("form"),i="hidden";for(let[k,_]of r.searchParams)n.append(Object.assign(document.createElement("input"),{type:i,name:k,value:_}));let s=Object.assign(r,{search:""});n.setAttribute("data-turbo","true"),n.setAttribute("action",s.href),n.setAttribute("hidden","");let o=e.getAttribute("data-turbo-method");o&&n.setAttribute("method",o);let l=e.getAttribute("data-turbo-frame");l&&n.setAttribute("data-turbo-frame",l);let u=yi(e);u&&n.setAttribute("data-turbo-action",u);let g=e.getAttribute("data-turbo-confirm");g&&n.setAttribute("data-turbo-confirm",g),e.hasAttribute("data-turbo-stream")&&n.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,r,n),document.body.appendChild(n),n.addEventListener("turbo:submit-end",()=>n.remove(),{once:!0}),requestAnimationFrame(()=>n.requestSubmit())}},mi=class{static async preservingPermanentElements(e,r,n){let i=new this(e,r);i.enter(),await n(),i.leave()}constructor(e,r){this.delegate=e,this.permanentElementMap=r}enter(){for(let e in this.permanentElementMap){let[r,n]=this.permanentElementMap[e];this.delegate.enteringBardo(r,n),this.replaceNewPermanentElementWithPlaceholder(n)}}leave(){for(let e in this.permanentElementMap){let[r]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(r),this.replacePlaceholderWithPermanentElement(r),this.delegate.leavingBardo(r)}}replaceNewPermanentElementWithPlaceholder(e){let r=Dm(e);e.replaceWith(r)}replaceCurrentPermanentElementWithClone(e){let r=e.cloneNode(!0);e.replaceWith(r)}replacePlaceholderWithPermanentElement(e){let r=this.getPlaceholderById(e.id);r?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(r=>r.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function Dm(t){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",t.id),e}var dn=class{constructor(e,r,n,i,s=!0){this.activeElement=null,this.currentSnapshot=e,this.newSnapshot=r,this.isPreview=i,this.willRender=s,this.renderElement=n,this.promise=new Promise((o,l)=>this.resolvingFunctions={resolve:o,reject:l})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await mi.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){let e=this.connectedSnapshot.firstAutofocusableElement;Nm(e)&&e.focus()}enteringBardo(e){this.activeElement||e.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}};function Nm(t){return t&&typeof t.focus=="function"}var hn=class extends dn{static renderElement(e,r){var n;let i=document.createRange();i.selectNodeContents(e),i.deleteContents();let s=r,o=(n=s.ownerDocument)===null||n===void 0?void 0:n.createRange();o&&(o.selectNodeContents(s),e.appendChild(o.extractContents()))}constructor(e,r,n,i,s,o=!0){super(r,n,i,s,o),this.delegate=e}get shouldRender(){return!0}async render(){await ai(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await ai(),this.focusFirstAutofocusableElement(),await ai(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,r=Bm(this.currentElement.getAttribute("data-autoscroll-block"),"end"),n=$m(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:r,behavior:n}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let r=an(e);e.replaceWith(r)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function Bm(t,e){return t=="end"||t=="start"||t=="center"||t=="nearest"?t:e}function $m(t,e){return t=="auto"||t=="smooth"?t:e}var gi=class t{static get defaultCSS(){return ec`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${t.animationDuration}ms ease-out,
          opacity ${t.animationDuration/2}ms ${t.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,t.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,t.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");return e.type="text/css",e.textContent=t.defaultCSS,this.cspNonce&&(e.nonce=this.cspNonce),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}get cspNonce(){return ci("csp-nonce")}};gi.animationDuration=300;var Ws=class extends Dr{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(e=>!Hm(e)).map(e=>zm(e)).reduce((e,r)=>{let{outerHTML:n}=r,i=n in e?e[n]:{type:jm(r),tracked:qm(r),elements:[]};return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},i),{elements:[...i.elements,r]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,r){return Object.keys(this.detailsByOuterHTML).filter(n=>!(n in r.detailsByOuterHTML)).map(n=>this.detailsByOuterHTML[n]).filter(({type:n})=>n==e).map(({elements:[n]})=>n)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,r)=>{let{type:n,tracked:i,elements:s}=this.detailsByOuterHTML[r];return n==null&&!i?[...e,...s]:s.length>1?[...e,...s.slice(1)]:e},[])}getMetaValue(e){let r=this.findMetaElementByName(e);return r?r.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((r,n)=>{let{elements:[i]}=this.detailsByOuterHTML[n];return Um(i,e)?i:r},void 0)}};function jm(t){if(Vm(t))return"script";if(Wm(t))return"stylesheet"}function qm(t){return t.getAttribute("data-turbo-track")=="reload"}function Vm(t){return t.localName=="script"}function Hm(t){return t.localName=="noscript"}function Wm(t){let e=t.localName;return e=="style"||e=="link"&&t.getAttribute("rel")=="stylesheet"}function Um(t,e){return t.localName=="meta"&&t.getAttribute("name")==e}function zm(t){return t.hasAttribute("nonce")&&t.setAttribute("nonce",""),t}var vt=class t extends Dr{static fromHTMLString(e=""){return this.fromDocument(Zl(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:r}){return new this(r,new Ws(e))}constructor(e,r){super(e),this.headSnapshot=r}clone(){let e=this.element.cloneNode(!0),r=this.element.querySelectorAll("select"),n=e.querySelectorAll("select");for(let[i,s]of r.entries()){let o=n[i];for(let l of o.selectedOptions)l.selected=!1;for(let l of s.selectedOptions)o.options[l.index].selected=!0}for(let i of e.querySelectorAll('input[type="password"]'))i.value="";return new t(e,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;let r=(e=this.getSetting("root"))!==null&&e!==void 0?e:"/";return Qe(r)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}},Mr;(function(t){t.visitStart="visitStart",t.requestStart="requestStart",t.requestEnd="requestEnd",t.visitEnd="visitEnd"})(Mr||(Mr={}));var gt;(function(t){t.initialized="initialized",t.started="started",t.canceled="canceled",t.failed="failed",t.completed="completed"})(gt||(gt={}));var Km={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},Jt;(function(t){t[t.networkFailure=0]="networkFailure",t[t.timeoutFailure=-1]="timeoutFailure",t[t.contentTypeMismatch=-2]="contentTypeMismatch"})(Jt||(Jt={}));var Us=class{constructor(e,r,n,i={}){this.identifier=Rr(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=gt.initialized,this.delegate=e,this.location=r,this.restorationIdentifier=n||Rr();let{action:s,historyChanged:o,referrer:l,snapshot:u,snapshotHTML:g,response:y,visitCachedSnapshot:k,willRender:_,updateHistory:B,shouldCacheSnapshot:W,acceptsStreamResponse:H}=Object.assign(Object.assign({},Km),i);this.action=s,this.historyChanged=o,this.referrer=l,this.snapshot=u,this.snapshotHTML=g,this.response=y,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=k,this.willRender=_,this.updateHistory=B,this.scrolled=!_,this.shouldCacheSnapshot=W,this.acceptsStreamResponse=H}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==gt.initialized&&(this.recordTimingMetric(Mr.visitStart),this.state=gt.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==gt.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=gt.canceled)}complete(){this.state==gt.started&&(this.recordTimingMetric(Mr.visitEnd),this.state=gt.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==gt.started&&(this.state=gt.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){let r=this.location.href===((e=this.referrer)===null||e===void 0?void 0:e.href)?"replace":this.action,n=tc(r);this.history.update(n,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new ln(this,ot.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Mr.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:r}=e;Gl(r)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,r)}}finishRequest(){this.recordTimingMetric(Mr.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:r}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,Gl(e)&&r!=null?(await this.view.renderPage(vt.fromHTMLString(r),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(vt.fromHTMLString(r),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!lr(this.location)||e.hasAnchor(lr(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return vt.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let r=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(e,r,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),r||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&(!((e=this.response)===null||e===void 0)&&e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType($t.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,r){}async requestSucceededWithResponse(e,r){let n=await r.responseHTML,{redirected:i,statusCode:s}=r;n==null?this.recordResponse({statusCode:Jt.contentTypeMismatch,redirected:i}):(this.redirectedToLocation=r.redirected?r.location:void 0,this.recordResponse({statusCode:s,responseHTML:n,redirected:i}))}async requestFailedWithResponse(e,r){let n=await r.responseHTML,{redirected:i,statusCode:s}=r;n==null?this.recordResponse({statusCode:Jt.contentTypeMismatch,redirected:i}):this.recordResponse({statusCode:s,responseHTML:n,redirected:i})}requestErrored(e,r){this.recordResponse({statusCode:Jt.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=lr(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(r=>{this.frame=requestAnimationFrame(()=>r())}),await e(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function Gl(t){return t>=200&&t<300}var zs=class{constructor(e){this.progressBar=new gi,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,r){this.navigator.startVisit(e,r?.restorationIdentifier||Rr(),r)}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,r){switch(r){case Jt.networkFailure:case Jt.timeoutFailure:case Jt.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:r}});default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(e){this.reload(e)}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var r;ze("turbo:reload",{detail:e}),window.location.href=((r=this.location)===null||r===void 0?void 0:r.toString())||window.location.href}get navigator(){return this.session.navigator}},Ks=class{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=e=>{for(let r of this.temporaryElements)r.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}},Gs=class{constructor(e,r){this.session=e,this.element=r,this.linkInterceptor=new hi(this,r),this.formSubmitObserver=new un(this,r)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,r,n){return this.shouldRedirect(e)}linkClickIntercepted(e,r,n){let i=this.findFrameElement(e);i&&i.delegate.linkClickIntercepted(e,r,n)}willSubmitForm(e,r){return e.closest("turbo-frame")==null&&this.shouldSubmit(e,r)&&this.shouldRedirect(e,r)}formSubmitted(e,r){let n=this.findFrameElement(e,r);n&&n.delegate.formSubmitted(e,r)}shouldSubmit(e,r){var n;let i=uo(e,r),s=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),o=Qe((n=s?.content)!==null&&n!==void 0?n:"/");return this.shouldRedirect(e,r)&&Ir(i,o)}shouldRedirect(e,r){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,r):this.session.elementIsNavigatable(e)){let i=this.findFrameElement(e,r);return i?i!=e.closest("turbo-frame"):!1}else return!1}findFrameElement(e,r){let n=r?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(n&&n!="_top"){let i=this.element.querySelector(`#${n}:not([disabled])`);if(i instanceof Bt)return i}}},Xs=class{constructor(e){this.restorationIdentifier=Rr(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=r=>{if(this.shouldHandlePopState()){let{turbo:n}=r.state||{};if(n){this.location=new URL(window.location.href);let{restorationIdentifier:i}=n;this.restorationIdentifier=i,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,i)}}},this.onPageLoad=async r=>{await wm(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,r){this.update(history.pushState,e,r)}replace(e,r){this.update(history.replaceState,e,r)}update(e,r,n=Rr()){let i={turbo:{restorationIdentifier:n}};e.call(history,i,"",r.href),this.location=r,this.restorationIdentifier=n}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:r}=this,n=this.restorationData[r];this.restorationData[r]=Object.assign(Object.assign({},n),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=(e=history.scrollRestoration)!==null&&e!==void 0?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},Qs=class{constructor(e){this.delegate=e}proposeVisit(e,r={}){this.delegate.allowsVisitingLocationWithAction(e,r.action)&&(Ir(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,r):window.location.href=e.toString())}startVisit(e,r,n={}){this.stop(),this.currentVisit=new Us(this,Qe(e),r,Object.assign({referrer:this.location},n)),this.currentVisit.start()}submitForm(e,r){this.stop(),this.formSubmission=new cn(this,e,r,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,r){if(e==this.formSubmission){let n=await r.responseHTML;if(n){let i=e.isSafe;i||this.view.clearSnapshotCache();let{statusCode:s,redirected:o}=r,u={action:this.getActionForFormSubmission(e),shouldCacheSnapshot:i,response:{statusCode:s,responseHTML:n,redirected:o}};this.proposeVisit(r.location,u)}}}async formSubmissionFailedWithResponse(e,r){let n=await r.responseHTML;if(n){let i=vt.fromHTMLString(n);r.serverError?await this.view.renderError(i,this.currentVisit):await this.view.renderPage(i,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,r){console.error(r)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,r){let n=lr(e),i=lr(this.view.lastRenderedLocation),s=r==="restore"&&typeof n>"u";return r!=="replace"&&$s(e)===$s(this.view.lastRenderedLocation)&&(s||n!=null&&n!==i)}visitScrolledToSamePageLocation(e,r){this.delegate.visitScrolledToSamePageLocation(e,r)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:e,formElement:r}){return yi(e,r)||"advance"}},Nt;(function(t){t[t.initial=0]="initial",t[t.loading=1]="loading",t[t.interactive=2]="interactive",t[t.complete=3]="complete"})(Nt||(Nt={}));var Js=class{constructor(e){this.stage=Nt.initial,this.started=!1,this.interpretReadyState=()=>{let{readyState:r}=this;r=="interactive"?this.pageIsInteractive():r=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==Nt.initial&&(this.stage=Nt.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==Nt.loading&&(this.stage=Nt.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Nt.interactive&&(this.stage=Nt.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}},Ys=class{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}},Zs=class{render({fragment:e}){mi.preservingPermanentElements(this,Gm(e),()=>document.documentElement.appendChild(e))}enteringBardo(e,r){r.replaceWith(e.cloneNode(!0))}leavingBardo(){}};function Gm(t){let e=ic(document.documentElement),r={};for(let n of e){let{id:i}=n;for(let s of t.querySelectorAll("turbo-stream")){let o=nc(s.templateElement.content,i);o&&(r[i]=[n,o])}}return r}var eo=class{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=r=>{let n=Xm(r);n&&Qm(n)&&(r.preventDefault(),this.receiveMessageResponse(n))},this.receiveMessageEvent=r=>{this.started&&typeof r.data=="string"&&this.receiveMessageHTML(r.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){let r=await e.responseHTML;r&&this.receiveMessageHTML(r)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream($t.wrap(e))}};function Xm(t){var e;let r=(e=t.detail)===null||e===void 0?void 0:e.fetchResponse;if(r instanceof on)return r}function Qm(t){var e;return((e=t.contentType)!==null&&e!==void 0?e:"").startsWith($t.contentType)}var vi=class extends dn{static renderElement(e,r){let{documentElement:n,body:i}=document;n.replaceChild(r,i)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:e,head:r}=document;e.replaceChild(this.newHead,r),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let r=e.parentNode;if(r){let n=an(e);r.replaceChild(n,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},fn=class extends dn{static renderElement(e,r){document.body&&r instanceof HTMLBodyElement?document.body.replaceWith(r):document.documentElement.appendChild(r)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){let e=this.mergeProvisionalElements(),r=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await r}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let e=[];for(let r of this.newHeadStylesheetElements)e.push(Om(r)),document.head.appendChild(r);await Promise.all(e)}copyNewHeadScriptElements(){for(let e of this.newHeadScriptElements)document.head.appendChild(an(e))}async mergeProvisionalElements(){let e=[...this.newHeadProvisionalElements];for(let r of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(r,e)||document.head.removeChild(r);for(let r of e)document.head.appendChild(r)}isCurrentElementInElementList(e,r){for(let[n,i]of r.entries()){if(e.tagName=="TITLE"){if(i.tagName!="TITLE")continue;if(e.innerHTML==i.innerHTML)return r.splice(n,1),!0}if(i.isEqualNode(e))return r.splice(n,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(let e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let e of this.newBodyScriptElements){let r=an(e);e.replaceWith(r)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},to=class{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return oi(e)in this.snapshots}get(e){if(this.has(e)){let r=this.read(e);return this.touch(e),r}}put(e,r){return this.write(e,r),this.touch(e),r}clear(){this.snapshots={}}read(e){return this.snapshots[oi(e)]}write(e,r){this.snapshots[oi(e)]=r}touch(e){let r=oi(e),n=this.keys.indexOf(r);n>-1&&this.keys.splice(n,1),this.keys.unshift(r),this.trim()}trim(){for(let e of this.keys.splice(this.size))delete this.snapshots[e]}},ro=class extends di{constructor(){super(...arguments),this.snapshotCache=new to(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(e,r=!1,n=!0,i){let s=new fn(this.snapshot,e,fn.renderElement,r,n);return s.shouldRender?i?.changeHistory():this.forceReloaded=!0,this.render(s)}renderError(e,r){r?.changeHistory();let n=new vi(this.snapshot,e,vi.renderElement,!1);return this.render(n)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:r}=this;await bm();let n=e.clone();return this.snapshotCache.put(r,n),n}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return vt.fromElement(this.element)}},no=class{constructor(e){this.selector="a[data-turbo-preload]",this.delegate=e}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(e){for(let r of e.querySelectorAll(this.selector))this.preloadURL(r)}async preloadURL(e){let r=new URL(e.href);if(!this.snapshotCache.has(r))try{let i=await(await fetch(r.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),s=vt.fromHTMLString(i);this.snapshotCache.put(r,s)}catch{}}},io=class{constructor(){this.navigator=new Qs(this),this.history=new Xs(this),this.preloader=new no(this),this.view=new ro(this,document.documentElement),this.adapter=new zs(this),this.pageObserver=new Js(this),this.cacheObserver=new Ks,this.linkClickObserver=new fi(this,window),this.formSubmitObserver=new un(this,document),this.scrollObserver=new Ys(this),this.streamObserver=new eo(this),this.formLinkClickObserver=new pi(this,document.documentElement),this.frameRedirector=new Gs(this,document.documentElement),this.streamMessageRenderer=new Zs,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,r={}){let n=r.frame?document.getElementById(r.frame):null;n instanceof Bt?(n.src=e.toString(),n.loaded):this.navigator.proposeVisit(Qe(e),r)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render($t.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}setFormMode(e){this.formMode=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,r){this.enabled?this.navigator.startVisit(e,r,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,r){return this.elementIsNavigatable(e)&&Ir(r,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(e,r,n){return this.elementIsNavigatable(e)&&Ir(r,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,r,n)}followedLinkToLocation(e,r){let n=this.getActionForLink(e),i=e.hasAttribute("data-turbo-stream");this.visit(r.href,{action:n,acceptsStreamResponse:i})}allowsVisitingLocationWithAction(e,r){return this.locationWithActionIsSamePage(e,r)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,r){Xl(e),this.adapter.visitProposedToLocation(e,r)}visitStarted(e){e.acceptsStreamResponse||js(document.documentElement),Xl(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){qs(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,r){return this.navigator.locationWithActionIsSamePage(e,r)}visitScrolledToSamePageLocation(e,r){this.notifyApplicationAfterVisitingSamePageLocation(e,r)}willSubmitForm(e,r){let n=uo(e,r);return this.submissionIsNavigatable(e,r)&&Ir(Qe(n),this.snapshot.rootLocation)}formSubmitted(e,r){this.navigator.submitForm(e,r)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;!((e=this.navigator.currentVisit)===null||e===void 0)&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},r){let n=this.notifyApplicationBeforeRender(e,r),{defaultPrevented:i,detail:{render:s}}=n;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!i}viewRenderedSnapshot(e,r){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,r){this.notifyApplicationAfterFrameRender(e,r)}applicationAllowsFollowingLinkToLocation(e,r,n){return!this.notifyApplicationAfterClickingLinkToLocation(e,r,n).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,r,n){return ze("turbo:click",{target:e,detail:{url:r.href,originalEvent:n},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return ze("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,r){return ze("turbo:visit",{detail:{url:e.href,action:r}})}notifyApplicationBeforeCachingSnapshot(){return ze("turbo:before-cache")}notifyApplicationBeforeRender(e,r){return ze("turbo:before-render",{detail:Object.assign({newBody:e},r),cancelable:!0})}notifyApplicationAfterRender(){return ze("turbo:render")}notifyApplicationAfterPageLoad(e={}){return ze("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,r){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:r.toString()}))}notifyApplicationAfterFrameLoad(e){return ze("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,r){return ze("turbo:frame-render",{detail:{fetchResponse:e},target:r,cancelable:!0})}submissionIsNavigatable(e,r){if(this.formMode=="off")return!1;{let n=r?this.elementIsNavigatable(r):!0;return this.formMode=="optin"?n&&e.closest('[data-turbo="true"]')!=null:n&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let r=ui(e,"[data-turbo]"),n=ui(e,"turbo-frame");return this.drive||n?r?r.getAttribute("data-turbo")!="false":!0:r?r.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return yi(e)||"advance"}get snapshot(){return this.view.snapshot}};function Xl(t){Object.defineProperties(t,Jm)}var Jm={absoluteURL:{get(){return this.toString()}}},so=class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(e){Am("turbo-cache-control",e)}},sc={after(){this.targetElements.forEach(t=>{var e;return(e=t.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,t.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.append(this.templateContent))},before(){this.targetElements.forEach(t=>{var e;return(e=t.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,t)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.prepend(this.templateContent))},remove(){this.targetElements.forEach(t=>t.remove())},replace(){this.targetElements.forEach(t=>t.replaceWith(this.templateContent))},update(){this.targetElements.forEach(t=>{t.innerHTML="",t.append(this.templateContent)})}},Ae=new io,Ym=new so(Ae),{navigator:Zm}=Ae;function oc(){Ae.start()}function eg(t){Ae.registerAdapter(t)}function tg(t,e){Ae.visit(t,e)}function ac(t){Ae.connectStreamSource(t)}function lc(t){Ae.disconnectStreamSource(t)}function rg(t){Ae.renderStreamMessage(t)}function ng(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ae.clearCache()}function ig(t){Ae.setProgressBarDelay(t)}function sg(t){cn.confirmMethod=t}function og(t){Ae.setFormMode(t)}var ag=Object.freeze({__proto__:null,navigator:Zm,session:Ae,cache:Ym,PageRenderer:fn,PageSnapshot:vt,FrameRenderer:hn,start:oc,registerAdapter:eg,visit:tg,connectStreamSource:ac,disconnectStreamSource:lc,renderStreamMessage:rg,clearCache:ng,setProgressBarDelay:ig,setConfirmMethod:sg,setFormMode:og,StreamActions:sc}),oo=class extends Error{},ao=class{constructor(e){this.fetchResponseLoaded=r=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:r})=>{let n=r.querySelector("#"+this.element.id);n&&this.previousFrameElement&&n.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=e,this.view=new Hs(this,this.element),this.appearanceObserver=new Vs(this,this.element),this.formLinkClickObserver=new pi(this,this.element),this.linkInterceptor=new hi(this,this.element),this.restorationIdentifier=Rr(),this.formSubmitObserver=new un(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==Qt.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Qt.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Qt.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){let{src:e}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=e,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==Qt.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(Qe(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let r=await e.responseHTML;if(r){let n=Zl(r);vt.fromDocument(n).isVisitable?await this.loadFrameResponse(e,n):await this.handleUnvisitableFrameResponse(e)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,e),this.loadSourceURL()}willSubmitFormLinkToLocation(e){return this.shouldInterceptNavigation(e)}submittedFormLinkToLocation(e,r,n){let i=this.findFrameElement(e);i&&n.setAttribute("data-turbo-frame",i.id)}shouldInterceptLinkClick(e,r,n){return this.shouldInterceptNavigation(e)}linkClickIntercepted(e,r){this.navigateFrame(e,r)}willSubmitForm(e,r){return e.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(e,r)}formSubmitted(e,r){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new cn(this,e,r);let{fetchRequest:n}=this.formSubmission;this.prepareRequest(n),this.formSubmission.start()}prepareRequest(e){var r;e.headers["Turbo-Frame"]=this.id,!((r=this.currentNavigationElement)===null||r===void 0)&&r.hasAttribute("data-turbo-stream")&&e.acceptResponseType($t.contentType)}requestStarted(e){js(this.element)}requestPreventedHandlingResponse(e,r){this.resolveVisitPromise()}async requestSucceededWithResponse(e,r){await this.loadResponse(r),this.resolveVisitPromise()}async requestFailedWithResponse(e,r){await this.loadResponse(r),this.resolveVisitPromise()}requestErrored(e,r){console.error(r),this.resolveVisitPromise()}requestFinished(e){qs(this.element)}formSubmissionStarted({formElement:e}){js(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,r){let n=this.findFrameElement(e.formElement,e.submitter);n.delegate.proposeVisitIfNavigatedWithAction(n,e.formElement,e.submitter),n.delegate.loadResponse(r),e.isSafe||Ae.clearCache()}formSubmissionFailedWithResponse(e,r){this.element.delegate.loadResponse(r),Ae.clearCache()}formSubmissionErrored(e,r){console.error(r)}formSubmissionFinished({formElement:e}){qs(e,this.findFrameElement(e))}allowsImmediateRender({element:e},r){let n=ze("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:e},r),cancelable:!0}),{defaultPrevented:i,detail:{render:s}}=n;return this.view.renderer&&s&&(this.view.renderer.renderElement=s),!i}viewRenderedSnapshot(e,r){}preloadOnLoadLinksForView(e){Ae.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,r){this.previousFrameElement=e.cloneNode(!0)}async loadFrameResponse(e,r){let n=await this.extractForeignFrameElement(r.body);if(n){let i=new Dr(n),s=new hn(this,this.view.snapshot,i,hn.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(s),this.complete=!0,Ae.frameRendered(e,this.element),Ae.frameLoaded(this.element),this.fetchResponseLoaded(e)}else this.willHandleFrameMissingFromResponse(e)&&this.handleFrameMissingFromResponse(e)}async visit(e){var r;let n=new ln(this,ot.get,e,new URLSearchParams,this.element);return(r=this.currentFetchRequest)===null||r===void 0||r.cancel(),this.currentFetchRequest=n,new Promise(i=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,i()},n.perform()})}navigateFrame(e,r,n){let i=this.findFrameElement(e,n);i.delegate.proposeVisitIfNavigatedWithAction(i,e,n),this.withCurrentNavigationElement(e,()=>{i.src=r})}proposeVisitIfNavigatedWithAction(e,r,n){if(this.action=yi(n,r,e),this.action){let i=vt.fromElement(e).clone(),{visitCachedSnapshot:s}=e.delegate;e.delegate.fetchResponseLoaded=o=>{if(e.src){let{statusCode:l,redirected:u}=o,g=e.ownerDocument.documentElement.outerHTML,k={response:{statusCode:l,redirected:u,responseHTML:g},visitCachedSnapshot:s,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:i};this.action&&(k.action=this.action),Ae.visit(e.src,k)}}}}changeHistory(){if(this.action){let e=tc(this.action);Ae.history.update(e,Qe(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(e.response)}willHandleFrameMissingFromResponse(e){this.element.setAttribute("complete","");let r=e.response,n=async(s,o={})=>{s instanceof Response?this.visitResponse(s):Ae.visit(s,o)};return!ze("turbo:frame-missing",{target:this.element,detail:{response:r,visit:n},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(e){this.view.missing(),this.throwFrameMissingError(e)}throwFrameMissingError(e){let r=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new oo(r)}async visitResponse(e){let r=new on(e),n=await r.responseHTML,{location:i,redirected:s,statusCode:o}=r;return Ae.visit(i,{response:{redirected:s,statusCode:o,responseHTML:n}})}findFrameElement(e,r){var n;let i=li("data-turbo-frame",r,e)||this.element.getAttribute("target");return(n=Ql(i))!==null&&n!==void 0?n:this.element}async extractForeignFrameElement(e){let r,n=CSS.escape(this.id);try{if(r=Jl(e.querySelector(`turbo-frame#${n}`),this.sourceURL),r)return r;if(r=Jl(e.querySelector(`turbo-frame[src][recurse~=${n}]`),this.sourceURL),r)return await r.loaded,await this.extractForeignFrameElement(r)}catch(i){return console.error(i),new Bt}return null}formActionIsVisitable(e,r){let n=uo(e,r);return Ir(Qe(n),this.rootLocation)}shouldInterceptNavigation(e,r){let n=li("data-turbo-frame",r,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,r)||!this.enabled||n=="_top")return!1;if(n){let i=Ql(n);if(i)return!i.disabled}return!(!Ae.elementIsNavigatable(e)||r&&!Ae.elementIsNavigatable(r))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.ignoringChangesToAttribute("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){this.ignoringChangesToAttribute("complete",()=>{e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;let r=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),n=(e=r?.content)!==null&&e!==void 0?e:"/";return Qe(n)}isIgnoringChangesTo(e){return this.ignoredAttributes.has(e)}ignoringChangesToAttribute(e,r){this.ignoredAttributes.add(e),r(),this.ignoredAttributes.delete(e)}withCurrentNavigationElement(e,r){this.currentNavigationElement=e,r(),delete this.currentNavigationElement}};function Ql(t){if(t!=null){let e=document.getElementById(t);if(e instanceof Bt)return e}}function Jl(t,e){if(t){let r=t.getAttribute("src");if(r!=null&&e!=null&&hm(r,e))throw new Error(`Matching <turbo-frame id="${t.id}"> element has a source URL which references itself`);if(t.ownerDocument!==document&&(t=document.importNode(t,!0)),t instanceof Bt)return t.connectedCallback(),t.disconnectedCallback(),t}}var lo=class t extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return(e=this.renderPromise)!==null&&e!==void 0?e:this.renderPromise=(async()=>{let r=this.beforeRenderEvent;this.dispatchEvent(r)&&(await ai(),await r.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){var e;let r=this.targetElements.flatMap(i=>[...i.children]).filter(i=>!!i.id),n=[...((e=this.templateContent)===null||e===void 0?void 0:e.children)||[]].filter(i=>!!i.id).map(i=>i.id);return r.filter(i=>n.includes(i.id))}get performAction(){if(this.action){let e=sc[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,r;return(r=((e=this.outerHTML.match(/<[^>]+>/))!==null&&e!==void 0?e:[])[0])!==null&&r!==void 0?r:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:t.renderElement}})}get targetElementsById(){var e;let r=(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.target);return r!==null?[r]:[]}get targetElementsByQuery(){var e;let r=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll(this.targets);return r.length!==0?Array.prototype.slice.call(r):[]}},co=class extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),ac(this.streamSource)}disconnectedCallback(){this.streamSource&&lc(this.streamSource)}get src(){return this.getAttribute("src")||""}};Bt.delegateConstructor=ao;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Bt);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",lo);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",co);(()=>{let t=document.currentScript;if(t&&!t.hasAttribute("data-turbo-suppress-warning"))for(t=t.parentElement;t;){if(t==document.body)return console.warn(ec`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,t.outerHTML);t=t.parentElement}})();window.Turbo=ag;oc();var vo=!1,yo=!1,dr=[],bo=-1;function lg(t){cg(t)}function cg(t){dr.includes(t)||dr.push(t),dg()}function ug(t){let e=dr.indexOf(t);e!==-1&&e>bo&&dr.splice(e,1)}function dg(){!yo&&!vo&&(vo=!0,queueMicrotask(hg))}function hg(){vo=!1,yo=!0;for(let t=0;t<dr.length;t++)dr[t](),bo=t;dr.length=0,bo=-1,yo=!1}var $r,gr,jr,Oc,wo=!0;function fg(t){wo=!1,t(),wo=!0}function pg(t){$r=t.reactive,jr=t.release,gr=e=>t.effect(e,{scheduler:r=>{wo?lg(r):r()}}),Oc=t.raw}function cc(t){gr=t}function mg(t){let e=()=>{};return[n=>{let i=gr(n);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(s=>s())}),t._x_effects.add(i),e=()=>{i!==void 0&&(t._x_effects.delete(i),jr(i))},i},()=>{e()}]}function Sc(t,e){let r=!0,n,i=gr(()=>{let s=t();JSON.stringify(s),r?n=s:queueMicrotask(()=>{e(s,n),n=s}),r=!1});return()=>jr(i)}var Ac=[],_c=[],Cc=[];function gg(t){Cc.push(t)}function Io(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,_c.push(e))}function Tc(t){Ac.push(t)}function kc(t,e,r){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(r)}function Lc(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([r,n])=>{(e===void 0||e.includes(r))&&(n.forEach(i=>i()),delete t._x_attributeCleanups[r])})}function vg(t){for(t._x_effects?.forEach(ug);t._x_cleanups?.length;)t._x_cleanups.pop()()}var Ro=new MutationObserver($o),Do=!1;function No(){Ro.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Do=!0}function Pc(){yg(),Ro.disconnect(),Do=!1}var pn=[];function yg(){let t=Ro.takeRecords();pn.push(()=>t.length>0&&$o(t));let e=pn.length;queueMicrotask(()=>{if(pn.length===e)for(;pn.length>0;)pn.shift()()})}function _e(t){if(!Do)return t();Pc();let e=t();return No(),e}var Bo=!1,_i=[];function bg(){Bo=!0}function wg(){Bo=!1,$o(_i),_i=[]}function $o(t){if(Bo){_i=_i.concat(t);return}let e=[],r=new Set,n=new Map,i=new Map;for(let s=0;s<t.length;s++)if(!t[s].target._x_ignoreMutationObserver&&(t[s].type==="childList"&&(t[s].removedNodes.forEach(o=>{o.nodeType===1&&o._x_marker&&r.add(o)}),t[s].addedNodes.forEach(o=>{if(o.nodeType===1){if(r.has(o)){r.delete(o);return}o._x_marker||e.push(o)}})),t[s].type==="attributes")){let o=t[s].target,l=t[s].attributeName,u=t[s].oldValue,g=()=>{n.has(o)||n.set(o,[]),n.get(o).push({name:l,value:o.getAttribute(l)})},y=()=>{i.has(o)||i.set(o,[]),i.get(o).push(l)};o.hasAttribute(l)&&u===null?g():o.hasAttribute(l)?(y(),g()):y()}i.forEach((s,o)=>{Lc(o,s)}),n.forEach((s,o)=>{Ac.forEach(l=>l(o,s))});for(let s of r)e.some(o=>o.contains(s))||_c.forEach(o=>o(s));for(let s of e)s.isConnected&&Cc.forEach(o=>o(s));e=null,r=null,n=null,i=null}function Fc(t){return xn(Nr(t))}function En(t,e,r){return t._x_dataStack=[e,...Nr(r||t)],()=>{t._x_dataStack=t._x_dataStack.filter(n=>n!==e)}}function Nr(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?Nr(t.host):t.parentNode?Nr(t.parentNode):[]}function xn(t){return new Proxy({objects:t},Eg)}var Eg={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(e=>Object.keys(e))))},has({objects:t},e){return e==Symbol.unscopables?!1:t.some(r=>Object.prototype.hasOwnProperty.call(r,e)||Reflect.has(r,e))},get({objects:t},e,r){return e=="toJSON"?xg:Reflect.get(t.find(n=>Reflect.has(n,e))||{},e,r)},set({objects:t},e,r,n){let i=t.find(o=>Object.prototype.hasOwnProperty.call(o,e))||t[t.length-1],s=Object.getOwnPropertyDescriptor(i,e);return s?.set&&s?.get?s.set.call(n,r)||!0:Reflect.set(i,e,r)}};function xg(){return Reflect.ownKeys(this).reduce((e,r)=>(e[r]=Reflect.get(this,r),e),{})}function Mc(t){let e=n=>typeof n=="object"&&!Array.isArray(n)&&n!==null,r=(n,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([s,{value:o,enumerable:l}])=>{if(l===!1||o===void 0||typeof o=="object"&&o!==null&&o.__v_skip)return;let u=i===""?s:`${i}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?n[s]=o.initialize(t,u,s):e(o)&&o!==n&&!(o instanceof Element)&&r(o,u)})};return r(t)}function Ic(t,e=()=>{}){let r={initialValue:void 0,_x_interceptor:!0,initialize(n,i,s){return t(this.initialValue,()=>Og(n,i),o=>Eo(n,i,o),i,s)}};return e(r),n=>{if(typeof n=="object"&&n!==null&&n._x_interceptor){let i=r.initialize.bind(r);r.initialize=(s,o,l)=>{let u=n.initialize(s,o,l);return r.initialValue=u,i(s,o,l)}}else r.initialValue=n;return r}}function Og(t,e){return e.split(".").reduce((r,n)=>r[n],t)}function Eo(t,e,r){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=r;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),Eo(t[e[0]],e.slice(1),r)}}var Rc={};function bt(t,e){Rc[t]=e}function xo(t,e){let r=Sg(e);return Object.entries(Rc).forEach(([n,i])=>{Object.defineProperty(t,`$${n}`,{get(){return i(e,r)},enumerable:!1})}),t}function Sg(t){let[e,r]=qc(t),n={interceptor:Ic,...e};return Io(t,r),n}function Ag(t,e,r,...n){try{return r(...n)}catch(i){wn(i,t,e)}}function wn(t,e,r=void 0){t=Object.assign(t??{message:"No error message given."},{el:e,expression:r}),console.warn(`Alpine Expression Error: ${t.message}

${r?'Expression: "'+r+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var Si=!0;function Dc(t){let e=Si;Si=!1;let r=t();return Si=e,r}function hr(t,e,r={}){let n;return tt(t,e)(i=>n=i,r),n}function tt(...t){return Nc(...t)}var Nc=Bc;function _g(t){Nc=t}function Bc(t,e){let r={};xo(r,t);let n=[r,...Nr(t)],i=typeof e=="function"?Cg(n,e):kg(n,e,t);return Ag.bind(null,t,e,i)}function Cg(t,e){return(r=()=>{},{scope:n={},params:i=[]}={})=>{let s=e.apply(xn([n,...t]),i);Ci(r,s)}}var ho={};function Tg(t,e){if(ho[t])return ho[t];let r=Object.getPrototypeOf(async function(){}).constructor,n=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,s=(()=>{try{let o=new r(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${t}`}),o}catch(o){return wn(o,e,t),Promise.resolve()}})();return ho[t]=s,s}function kg(t,e,r){let n=Tg(e,r);return(i=()=>{},{scope:s={},params:o=[]}={})=>{n.result=void 0,n.finished=!1;let l=xn([s,...t]);if(typeof n=="function"){let u=n(n,l).catch(g=>wn(g,r,e));n.finished?(Ci(i,n.result,l,o,r),n.result=void 0):u.then(g=>{Ci(i,g,l,o,r)}).catch(g=>wn(g,r,e)).finally(()=>n.result=void 0)}}}function Ci(t,e,r,n,i){if(Si&&typeof e=="function"){let s=e.apply(r,n);s instanceof Promise?s.then(o=>Ci(t,o,r,n)).catch(o=>wn(o,i,e)):t(s)}else typeof e=="object"&&e instanceof Promise?e.then(s=>t(s)):t(e)}var jo="x-";function qr(t=""){return jo+t}function Lg(t){jo=t}var Ti={};function Me(t,e){return Ti[t]=e,{before(r){if(!Ti[r]){console.warn(String.raw`Cannot find directive \`${r}\`. \`${t}\` will use the default order of execution`);return}let n=ur.indexOf(r);ur.splice(n>=0?n:ur.indexOf("DEFAULT"),0,t)}}}function Pg(t){return Object.keys(Ti).includes(t)}function qo(t,e,r){if(e=Array.from(e),t._x_virtualDirectives){let s=Object.entries(t._x_virtualDirectives).map(([l,u])=>({name:l,value:u})),o=$c(s);s=s.map(l=>o.find(u=>u.name===l.name)?{name:`x-bind:${l.name}`,value:`"${l.value}"`}:l),e=e.concat(s)}let n={};return e.map(Wc((s,o)=>n[s]=o)).filter(zc).map(Ig(n,r)).sort(Rg).map(s=>Mg(t,s))}function $c(t){return Array.from(t).map(Wc()).filter(e=>!zc(e))}var Oo=!1,vn=new Map,jc=Symbol();function Fg(t){Oo=!0;let e=Symbol();jc=e,vn.set(e,[]);let r=()=>{for(;vn.get(e).length;)vn.get(e).shift()();vn.delete(e)},n=()=>{Oo=!1,r()};t(r),n()}function qc(t){let e=[],r=l=>e.push(l),[n,i]=mg(t);return e.push(i),[{Alpine:On,effect:n,cleanup:r,evaluateLater:tt.bind(tt,t),evaluate:hr.bind(hr,t)},()=>e.forEach(l=>l())]}function Mg(t,e){let r=()=>{},n=Ti[e.type]||r,[i,s]=qc(t);kc(t,e.original,s);let o=()=>{t._x_ignore||t._x_ignoreSelf||(n.inline&&n.inline(t,e,i),n=n.bind(n,t,e,i),Oo?vn.get(jc).push(n):n())};return o.runCleanups=s,o}var Vc=(t,e)=>({name:r,value:n})=>(r.startsWith(t)&&(r=r.replace(t,e)),{name:r,value:n}),Hc=t=>t;function Wc(t=()=>{}){return({name:e,value:r})=>{let{name:n,value:i}=Uc.reduce((s,o)=>o(s),{name:e,value:r});return n!==e&&t(n,e),{name:n,value:i}}}var Uc=[];function Vo(t){Uc.push(t)}function zc({name:t}){return Kc().test(t)}var Kc=()=>new RegExp(`^${jo}([^:^.]+)\\b`);function Ig(t,e){return({name:r,value:n})=>{let i=r.match(Kc()),s=r.match(/:([a-zA-Z0-9\-_:]+)/),o=r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],l=e||t[r]||r;return{type:i?i[1]:null,value:s?s[1]:null,modifiers:o.map(u=>u.replace(".","")),expression:n,original:l}}}var So="DEFAULT",ur=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",So,"teleport"];function Rg(t,e){let r=ur.indexOf(t.type)===-1?So:t.type,n=ur.indexOf(e.type)===-1?So:e.type;return ur.indexOf(r)-ur.indexOf(n)}function yn(t,e,r={}){t.dispatchEvent(new CustomEvent(e,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function mr(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(i=>mr(i,e));return}let r=!1;if(e(t,()=>r=!0),r)return;let n=t.firstElementChild;for(;n;)mr(n,e,!1),n=n.nextElementSibling}function ct(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var uc=!1;function Dg(){uc&&ct("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),uc=!0,document.body||ct("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),yn(document,"alpine:init"),yn(document,"alpine:initializing"),No(),gg(e=>jt(e,mr)),Io(e=>Hr(e)),Tc((e,r)=>{qo(e,r).forEach(n=>n())});let t=e=>!Li(e.parentElement,!0);Array.from(document.querySelectorAll(Qc().join(","))).filter(t).forEach(e=>{jt(e)}),yn(document,"alpine:initialized"),setTimeout(()=>{jg()})}var Ho=[],Gc=[];function Xc(){return Ho.map(t=>t())}function Qc(){return Ho.concat(Gc).map(t=>t())}function Jc(t){Ho.push(t)}function Yc(t){Gc.push(t)}function Li(t,e=!1){return Vr(t,r=>{if((e?Qc():Xc()).some(i=>r.matches(i)))return!0})}function Vr(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Vr(t.parentElement,e)}}function Ng(t){return Xc().some(e=>t.matches(e))}var Zc=[];function Bg(t){Zc.push(t)}var $g=1;function jt(t,e=mr,r=()=>{}){Vr(t,n=>n._x_ignore)||Fg(()=>{e(t,(n,i)=>{n._x_marker||(r(n,i),Zc.forEach(s=>s(n,i)),qo(n,n.attributes).forEach(s=>s()),n._x_ignore||(n._x_marker=$g++),n._x_ignore&&i())})})}function Hr(t,e=mr){e(t,r=>{vg(r),Lc(r),delete r._x_marker})}function jg(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([e,r,n])=>{Pg(r)||n.some(i=>{if(document.querySelector(i))return ct(`found "${i}", but missing ${e} plugin`),!0})})}var Ao=[],Wo=!1;function Uo(t=()=>{}){return queueMicrotask(()=>{Wo||setTimeout(()=>{_o()})}),new Promise(e=>{Ao.push(()=>{t(),e()})})}function _o(){for(Wo=!1;Ao.length;)Ao.shift()()}function qg(){Wo=!0}function zo(t,e){return Array.isArray(e)?dc(t,e.join(" ")):typeof e=="object"&&e!==null?Vg(t,e):typeof e=="function"?zo(t,e()):dc(t,e)}function dc(t,e){let r=s=>s.split(" ").filter(Boolean),n=s=>s.split(" ").filter(o=>!t.classList.contains(o)).filter(Boolean),i=s=>(t.classList.add(...s),()=>{t.classList.remove(...s)});return e=e===!0?e="":e||"",i(n(e))}function Vg(t,e){let r=l=>l.split(" ").filter(Boolean),n=Object.entries(e).flatMap(([l,u])=>u?r(l):!1).filter(Boolean),i=Object.entries(e).flatMap(([l,u])=>u?!1:r(l)).filter(Boolean),s=[],o=[];return i.forEach(l=>{t.classList.contains(l)&&(t.classList.remove(l),o.push(l))}),n.forEach(l=>{t.classList.contains(l)||(t.classList.add(l),s.push(l))}),()=>{o.forEach(l=>t.classList.add(l)),s.forEach(l=>t.classList.remove(l))}}function Pi(t,e){return typeof e=="object"&&e!==null?Hg(t,e):Wg(t,e)}function Hg(t,e){let r={};return Object.entries(e).forEach(([n,i])=>{r[n]=t.style[n],n.startsWith("--")||(n=Ug(n)),t.style.setProperty(n,i)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Pi(t,r)}}function Wg(t,e){let r=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",r||"")}}function Ug(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Co(t,e=()=>{}){let r=!1;return function(){r?e.apply(this,arguments):(r=!0,t.apply(this,arguments))}}Me("transition",(t,{value:e,modifiers:r,expression:n},{evaluate:i})=>{typeof n=="function"&&(n=i(n)),n!==!1&&(!n||typeof n=="boolean"?Kg(t,r,e):zg(t,n,e))});function zg(t,e,r){eu(t,zo,""),{enter:i=>{t._x_transition.enter.during=i},"enter-start":i=>{t._x_transition.enter.start=i},"enter-end":i=>{t._x_transition.enter.end=i},leave:i=>{t._x_transition.leave.during=i},"leave-start":i=>{t._x_transition.leave.start=i},"leave-end":i=>{t._x_transition.leave.end=i}}[r](e)}function Kg(t,e,r){eu(t,Pi);let n=!e.includes("in")&&!e.includes("out")&&!r,i=n||e.includes("in")||["enter"].includes(r),s=n||e.includes("out")||["leave"].includes(r);e.includes("in")&&!n&&(e=e.filter((S,O)=>O<e.indexOf("out"))),e.includes("out")&&!n&&(e=e.filter((S,O)=>O>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),l=o||e.includes("opacity"),u=o||e.includes("scale"),g=l?0:1,y=u?mn(e,"scale",95)/100:1,k=mn(e,"delay",0)/1e3,_=mn(e,"origin","center"),B="opacity, transform",W=mn(e,"duration",150)/1e3,H=mn(e,"duration",75)/1e3,R="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(t._x_transition.enter.during={transformOrigin:_,transitionDelay:`${k}s`,transitionProperty:B,transitionDuration:`${W}s`,transitionTimingFunction:R},t._x_transition.enter.start={opacity:g,transform:`scale(${y})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(t._x_transition.leave.during={transformOrigin:_,transitionDelay:`${k}s`,transitionProperty:B,transitionDuration:`${H}s`,transitionTimingFunction:R},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:g,transform:`scale(${y})`})}function eu(t,e,r={}){t._x_transition||(t._x_transition={enter:{during:r,start:r,end:r},leave:{during:r,start:r,end:r},in(n=()=>{},i=()=>{}){To(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,i)},out(n=()=>{},i=()=>{}){To(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,r,n){let i=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,s=()=>i(r);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(r):s():t._x_transition?t._x_transition.in(r):s();return}t._x_hidePromise=t._x_transition?new Promise((o,l)=>{t._x_transition.out(()=>{},()=>o(n)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>l({isFromCancelledTransition:!0}))}):Promise.resolve(n),queueMicrotask(()=>{let o=tu(t);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(t)):i(()=>{let l=u=>{let g=Promise.all([u._x_hidePromise,...(u._x_hideChildren||[]).map(l)]).then(([y])=>y?.());return delete u._x_hidePromise,delete u._x_hideChildren,g};l(t).catch(u=>{if(!u.isFromCancelledTransition)throw u})})})};function tu(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:tu(e)}function To(t,e,{during:r,start:n,end:i}={},s=()=>{},o=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(r).length===0&&Object.keys(n).length===0&&Object.keys(i).length===0){s(),o();return}let l,u,g;Gg(t,{start(){l=e(t,n)},during(){u=e(t,r)},before:s,end(){l(),g=e(t,i)},after:o,cleanup(){u(),g()}})}function Gg(t,e){let r,n,i,s=Co(()=>{_e(()=>{r=!0,n||e.before(),i||(e.end(),_o()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:Co(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},_e(()=>{e.start(),e.during()}),qg(),requestAnimationFrame(()=>{if(r)return;let o=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,l=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),_e(()=>{e.before()}),n=!0,requestAnimationFrame(()=>{r||(_e(()=>{e.end()}),_o(),setTimeout(t._x_transitioning.finish,o+l),i=!0)})})}function mn(t,e,r){if(t.indexOf(e)===-1)return r;let n=t[t.indexOf(e)+1];if(!n||e==="scale"&&isNaN(n))return r;if(e==="duration"||e==="delay"){let i=n.match(/([0-9]+)ms/);if(i)return i[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[n,t[t.indexOf(e)+2]].join(" "):n}var Zt=!1;function tr(t,e=()=>{}){return(...r)=>Zt?e(...r):t(...r)}function Xg(t){return(...e)=>Zt&&t(...e)}var ru=[];function Fi(t){ru.push(t)}function Qg(t,e){ru.forEach(r=>r(t,e)),Zt=!0,nu(()=>{jt(e,(r,n)=>{n(r,()=>{})})}),Zt=!1}var ko=!1;function Jg(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),Zt=!0,ko=!0,nu(()=>{Yg(e)}),Zt=!1,ko=!1}function Yg(t){let e=!1;jt(t,(n,i)=>{mr(n,(s,o)=>{if(e&&Ng(s))return o();e=!0,i(s,o)})})}function nu(t){let e=gr;cc((r,n)=>{let i=e(r);return jr(i),()=>{}}),t(),cc(e)}function iu(t,e,r,n=[]){switch(t._x_bindings||(t._x_bindings=$r({})),t._x_bindings[e]=r,e=n.includes("camel")?ov(e):e,e){case"value":Zg(t,r);break;case"style":tv(t,r);break;case"class":ev(t,r);break;case"selected":case"checked":rv(t,e,r);break;default:su(t,e,r);break}}function Zg(t,e){if(lu(t))t.attributes.value===void 0&&(t.value=e),window.fromModel&&(typeof e=="boolean"?t.checked=Ai(t.value)===e:t.checked=hc(t.value,e));else if(Ko(t))Number.isInteger(e)?t.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(r=>hc(r,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")sv(t,e);else{if(t.value===e)return;t.value=e===void 0?"":e}}function ev(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=zo(t,e)}function tv(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Pi(t,e)}function rv(t,e,r){su(t,e,r),iv(t,e,r)}function su(t,e,r){[null,void 0,!1].includes(r)&&lv(e)?t.removeAttribute(e):(ou(e)&&(r=e),nv(t,e,r))}function nv(t,e,r){t.getAttribute(e)!=r&&t.setAttribute(e,r)}function iv(t,e,r){t[e]!==r&&(t[e]=r)}function sv(t,e){let r=[].concat(e).map(n=>n+"");Array.from(t.options).forEach(n=>{n.selected=r.includes(n.value)})}function ov(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function hc(t,e){return t==e}function Ai(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}var av=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function ou(t){return av.has(t)}function lv(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function cv(t,e,r){return t._x_bindings&&t._x_bindings[e]!==void 0?t._x_bindings[e]:au(t,e,r)}function uv(t,e,r,n=!0){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];if(t._x_inlineBindings&&t._x_inlineBindings[e]!==void 0){let i=t._x_inlineBindings[e];return i.extract=n,Dc(()=>hr(t,i.expression))}return au(t,e,r)}function au(t,e,r){let n=t.getAttribute(e);return n===null?typeof r=="function"?r():r:n===""?!0:ou(e)?!![e,"true"].includes(n):n}function Ko(t){return t.type==="checkbox"||t.localName==="ui-checkbox"||t.localName==="ui-switch"}function lu(t){return t.type==="radio"||t.localName==="ui-radio"}function cu(t,e){var r;return function(){var n=this,i=arguments,s=function(){r=null,t.apply(n,i)};clearTimeout(r),r=setTimeout(s,e)}}function uu(t,e){let r;return function(){let n=this,i=arguments;r||(t.apply(n,i),r=!0,setTimeout(()=>r=!1,e))}}function du({get:t,set:e},{get:r,set:n}){let i=!0,s,o,l=gr(()=>{let u=t(),g=r();if(i)n(fo(u)),i=!1;else{let y=JSON.stringify(u),k=JSON.stringify(g);y!==s?n(fo(u)):y!==k&&e(fo(g))}s=JSON.stringify(t()),o=JSON.stringify(r())});return()=>{jr(l)}}function fo(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function dv(t){(Array.isArray(t)?t:[t]).forEach(r=>r(On))}var cr={},fc=!1;function hv(t,e){if(fc||(cr=$r(cr),fc=!0),e===void 0)return cr[t];cr[t]=e,Mc(cr[t]),typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&cr[t].init()}function fv(){return cr}var hu={};function pv(t,e){let r=typeof e!="function"?()=>e:e;return t instanceof Element?fu(t,r()):(hu[t]=r,()=>{})}function mv(t){return Object.entries(hu).forEach(([e,r])=>{Object.defineProperty(t,e,{get(){return(...n)=>r(...n)}})}),t}function fu(t,e,r){let n=[];for(;n.length;)n.pop()();let i=Object.entries(e).map(([o,l])=>({name:o,value:l})),s=$c(i);return i=i.map(o=>s.find(l=>l.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),qo(t,i,r).map(o=>{n.push(o.runCleanups),o()}),()=>{for(;n.length;)n.pop()()}}var pu={};function gv(t,e){pu[t]=e}function vv(t,e){return Object.entries(pu).forEach(([r,n])=>{Object.defineProperty(t,r,{get(){return(...i)=>n.bind(e)(...i)},enumerable:!1})}),t}var yv={get reactive(){return $r},get release(){return jr},get effect(){return gr},get raw(){return Oc},version:"3.14.9",flushAndStopDeferringMutations:wg,dontAutoEvaluateFunctions:Dc,disableEffectScheduling:fg,startObservingMutations:No,stopObservingMutations:Pc,setReactivityEngine:pg,onAttributeRemoved:kc,onAttributesAdded:Tc,closestDataStack:Nr,skipDuringClone:tr,onlyDuringClone:Xg,addRootSelector:Jc,addInitSelector:Yc,interceptClone:Fi,addScopeToNode:En,deferMutations:bg,mapAttributes:Vo,evaluateLater:tt,interceptInit:Bg,setEvaluator:_g,mergeProxies:xn,extractProp:uv,findClosest:Vr,onElRemoved:Io,closestRoot:Li,destroyTree:Hr,interceptor:Ic,transition:To,setStyles:Pi,mutateDom:_e,directive:Me,entangle:du,throttle:uu,debounce:cu,evaluate:hr,initTree:jt,nextTick:Uo,prefixed:qr,prefix:Lg,plugin:dv,magic:bt,store:hv,start:Dg,clone:Jg,cloneNode:Qg,bound:cv,$data:Fc,watch:Sc,walk:mr,data:gv,bind:pv},On=yv;function mu(t,e){let r=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return e?i=>!!r[i.toLowerCase()]:i=>!!r[i]}var bv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",DE=mu(bv+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),wv=Object.freeze({}),NE=Object.freeze([]),Ev=Object.prototype.hasOwnProperty,Mi=(t,e)=>Ev.call(t,e),fr=Array.isArray,bn=t=>gu(t)==="[object Map]",xv=t=>typeof t=="string",Go=t=>typeof t=="symbol",Ii=t=>t!==null&&typeof t=="object",Ov=Object.prototype.toString,gu=t=>Ov.call(t),vu=t=>gu(t).slice(8,-1),Xo=t=>xv(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ri=t=>{let e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Sv=/-(\w)/g,BE=Ri(t=>t.replace(Sv,(e,r)=>r?r.toUpperCase():"")),Av=/\B([A-Z])/g,$E=Ri(t=>t.replace(Av,"-$1").toLowerCase()),yu=Ri(t=>t.charAt(0).toUpperCase()+t.slice(1)),jE=Ri(t=>t?`on${yu(t)}`:""),bu=(t,e)=>t!==e&&(t===t||e===e),Lo=new WeakMap,gn=[],Tt,pr=Symbol("iterate"),Po=Symbol("Map key iterate");function _v(t){return t&&t._isEffect===!0}function Cv(t,e=wv){_v(t)&&(t=t.raw);let r=Lv(t,e);return e.lazy||r(),r}function Tv(t){t.active&&(wu(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var kv=0;function Lv(t,e){let r=function(){if(!r.active)return t();if(!gn.includes(r)){wu(r);try{return Fv(),gn.push(r),Tt=r,t()}finally{gn.pop(),Eu(),Tt=gn[gn.length-1]}}};return r.id=kv++,r.allowRecurse=!!e.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=t,r.deps=[],r.options=e,r}function wu(t){let{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}var Br=!0,Qo=[];function Pv(){Qo.push(Br),Br=!1}function Fv(){Qo.push(Br),Br=!0}function Eu(){let t=Qo.pop();Br=t===void 0?!0:t}function yt(t,e,r){if(!Br||Tt===void 0)return;let n=Lo.get(t);n||Lo.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=new Set),i.has(Tt)||(i.add(Tt),Tt.deps.push(i),Tt.options.onTrack&&Tt.options.onTrack({effect:Tt,target:t,type:e,key:r}))}function er(t,e,r,n,i,s){let o=Lo.get(t);if(!o)return;let l=new Set,u=y=>{y&&y.forEach(k=>{(k!==Tt||k.allowRecurse)&&l.add(k)})};if(e==="clear")o.forEach(u);else if(r==="length"&&fr(t))o.forEach((y,k)=>{(k==="length"||k>=n)&&u(y)});else switch(r!==void 0&&u(o.get(r)),e){case"add":fr(t)?Xo(r)&&u(o.get("length")):(u(o.get(pr)),bn(t)&&u(o.get(Po)));break;case"delete":fr(t)||(u(o.get(pr)),bn(t)&&u(o.get(Po)));break;case"set":bn(t)&&u(o.get(pr));break}let g=y=>{y.options.onTrigger&&y.options.onTrigger({effect:y,target:t,key:r,type:e,newValue:n,oldValue:i,oldTarget:s}),y.options.scheduler?y.options.scheduler(y):y()};l.forEach(g)}var Mv=mu("__proto__,__v_isRef,__isVue"),xu=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Go)),Iv=Ou(),Rv=Ou(!0),pc=Dv();function Dv(){let t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){let n=we(this);for(let s=0,o=this.length;s<o;s++)yt(n,"get",s+"");let i=n[e](...r);return i===-1||i===!1?n[e](...r.map(we)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Pv();let n=we(this)[e].apply(this,r);return Eu(),n}}),t}function Ou(t=!1,e=!1){return function(n,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_raw"&&s===(t?e?Yv:Cu:e?Jv:_u).get(n))return n;let o=fr(n);if(!t&&o&&Mi(pc,i))return Reflect.get(pc,i,s);let l=Reflect.get(n,i,s);return(Go(i)?xu.has(i):Mv(i))||(t||yt(n,"get",i),e)?l:Fo(l)?!o||!Xo(i)?l.value:l:Ii(l)?t?Tu(l):ea(l):l}}var Nv=Bv();function Bv(t=!1){return function(r,n,i,s){let o=r[n];if(!t&&(i=we(i),o=we(o),!fr(r)&&Fo(o)&&!Fo(i)))return o.value=i,!0;let l=fr(r)&&Xo(n)?Number(n)<r.length:Mi(r,n),u=Reflect.set(r,n,i,s);return r===we(s)&&(l?bu(i,o)&&er(r,"set",n,i,o):er(r,"add",n,i)),u}}function $v(t,e){let r=Mi(t,e),n=t[e],i=Reflect.deleteProperty(t,e);return i&&r&&er(t,"delete",e,void 0,n),i}function jv(t,e){let r=Reflect.has(t,e);return(!Go(e)||!xu.has(e))&&yt(t,"has",e),r}function qv(t){return yt(t,"iterate",fr(t)?"length":pr),Reflect.ownKeys(t)}var Vv={get:Iv,set:Nv,deleteProperty:$v,has:jv,ownKeys:qv},Hv={get:Rv,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},Jo=t=>Ii(t)?ea(t):t,Yo=t=>Ii(t)?Tu(t):t,Zo=t=>t,Di=t=>Reflect.getPrototypeOf(t);function bi(t,e,r=!1,n=!1){t=t.__v_raw;let i=we(t),s=we(e);e!==s&&!r&&yt(i,"get",e),!r&&yt(i,"get",s);let{has:o}=Di(i),l=n?Zo:r?Yo:Jo;if(o.call(i,e))return l(t.get(e));if(o.call(i,s))return l(t.get(s));t!==i&&t.get(e)}function wi(t,e=!1){let r=this.__v_raw,n=we(r),i=we(t);return t!==i&&!e&&yt(n,"has",t),!e&&yt(n,"has",i),t===i?r.has(t):r.has(t)||r.has(i)}function Ei(t,e=!1){return t=t.__v_raw,!e&&yt(we(t),"iterate",pr),Reflect.get(t,"size",t)}function mc(t){t=we(t);let e=we(this);return Di(e).has.call(e,t)||(e.add(t),er(e,"add",t,t)),this}function gc(t,e){e=we(e);let r=we(this),{has:n,get:i}=Di(r),s=n.call(r,t);s?Au(r,n,t):(t=we(t),s=n.call(r,t));let o=i.call(r,t);return r.set(t,e),s?bu(e,o)&&er(r,"set",t,e,o):er(r,"add",t,e),this}function vc(t){let e=we(this),{has:r,get:n}=Di(e),i=r.call(e,t);i?Au(e,r,t):(t=we(t),i=r.call(e,t));let s=n?n.call(e,t):void 0,o=e.delete(t);return i&&er(e,"delete",t,void 0,s),o}function yc(){let t=we(this),e=t.size!==0,r=bn(t)?new Map(t):new Set(t),n=t.clear();return e&&er(t,"clear",void 0,void 0,r),n}function xi(t,e){return function(n,i){let s=this,o=s.__v_raw,l=we(o),u=e?Zo:t?Yo:Jo;return!t&&yt(l,"iterate",pr),o.forEach((g,y)=>n.call(i,u(g),u(y),s))}}function Oi(t,e,r){return function(...n){let i=this.__v_raw,s=we(i),o=bn(s),l=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,g=i[t](...n),y=r?Zo:e?Yo:Jo;return!e&&yt(s,"iterate",u?Po:pr),{next(){let{value:k,done:_}=g.next();return _?{value:k,done:_}:{value:l?[y(k[0]),y(k[1])]:y(k),done:_}},[Symbol.iterator](){return this}}}}function Yt(t){return function(...e){{let r=e[0]?`on key "${e[0]}" `:"";console.warn(`${yu(t)} operation ${r}failed: target is readonly.`,we(this))}return t==="delete"?!1:this}}function Wv(){let t={get(s){return bi(this,s)},get size(){return Ei(this)},has:wi,add:mc,set:gc,delete:vc,clear:yc,forEach:xi(!1,!1)},e={get(s){return bi(this,s,!1,!0)},get size(){return Ei(this)},has:wi,add:mc,set:gc,delete:vc,clear:yc,forEach:xi(!1,!0)},r={get(s){return bi(this,s,!0)},get size(){return Ei(this,!0)},has(s){return wi.call(this,s,!0)},add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear"),forEach:xi(!0,!1)},n={get(s){return bi(this,s,!0,!0)},get size(){return Ei(this,!0)},has(s){return wi.call(this,s,!0)},add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear"),forEach:xi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Oi(s,!1,!1),r[s]=Oi(s,!0,!1),e[s]=Oi(s,!1,!0),n[s]=Oi(s,!0,!0)}),[t,r,e,n]}var[Uv,zv,Kv,Gv]=Wv();function Su(t,e){let r=e?t?Gv:Kv:t?zv:Uv;return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Mi(r,i)&&i in n?r:n,i,s)}var Xv={get:Su(!1,!1)},Qv={get:Su(!0,!1)};function Au(t,e,r){let n=we(r);if(n!==r&&e.call(t,n)){let i=vu(t);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var _u=new WeakMap,Jv=new WeakMap,Cu=new WeakMap,Yv=new WeakMap;function Zv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ey(t){return t.__v_skip||!Object.isExtensible(t)?0:Zv(vu(t))}function ea(t){return t&&t.__v_isReadonly?t:ku(t,!1,Vv,Xv,_u)}function Tu(t){return ku(t,!0,Hv,Qv,Cu)}function ku(t,e,r,n,i){if(!Ii(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;let s=i.get(t);if(s)return s;let o=ey(t);if(o===0)return t;let l=new Proxy(t,o===2?n:r);return i.set(t,l),l}function we(t){return t&&we(t.__v_raw)||t}function Fo(t){return!!(t&&t.__v_isRef===!0)}bt("nextTick",()=>Uo);bt("dispatch",t=>yn.bind(yn,t));bt("watch",(t,{evaluateLater:e,cleanup:r})=>(n,i)=>{let s=e(n),l=Sc(()=>{let u;return s(g=>u=g),u},i);r(l)});bt("store",fv);bt("data",t=>Fc(t));bt("root",t=>Li(t));bt("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=xn(ty(t))),t._x_refs_proxy));function ty(t){let e=[];return Vr(t,r=>{r._x_refs&&e.push(r._x_refs)}),e}var po={};function Lu(t){return po[t]||(po[t]=0),++po[t]}function ry(t,e){return Vr(t,r=>{if(r._x_ids&&r._x_ids[e])return!0})}function ny(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=Lu(e))}bt("id",(t,{cleanup:e})=>(r,n=null)=>{let i=`${r}${n?`-${n}`:""}`;return iy(t,i,e,()=>{let s=ry(t,r),o=s?s._x_ids[r]:Lu(r);return n?`${r}-${o}-${n}`:`${r}-${o}`})});Fi((t,e)=>{t._x_id&&(e._x_id=t._x_id)});function iy(t,e,r,n){if(t._x_id||(t._x_id={}),t._x_id[e])return t._x_id[e];let i=n();return t._x_id[e]=i,r(()=>{delete t._x_id[e]}),i}bt("el",t=>t);Pu("Focus","focus","focus");Pu("Persist","persist","persist");function Pu(t,e,r){bt(e,n=>ct(`You can't use [$${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,n))}Me("modelable",(t,{expression:e},{effect:r,evaluateLater:n,cleanup:i})=>{let s=n(e),o=()=>{let y;return s(k=>y=k),y},l=n(`${e} = __placeholder`),u=y=>l(()=>{},{scope:{__placeholder:y}}),g=o();u(g),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let y=t._x_model.get,k=t._x_model.set,_=du({get(){return y()},set(B){k(B)}},{get(){return o()},set(B){u(B)}});i(_)})});Me("teleport",(t,{modifiers:e,expression:r},{cleanup:n})=>{t.tagName.toLowerCase()!=="template"&&ct("x-teleport can only be used on a <template> tag",t);let i=bc(r),s=t.content.cloneNode(!0).firstElementChild;t._x_teleport=s,s._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),s.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(l=>{s.addEventListener(l,u=>{u.stopPropagation(),t.dispatchEvent(new u.constructor(u.type,u))})}),En(s,{},t);let o=(l,u,g)=>{g.includes("prepend")?u.parentNode.insertBefore(l,u):g.includes("append")?u.parentNode.insertBefore(l,u.nextSibling):u.appendChild(l)};_e(()=>{o(s,i,e),tr(()=>{jt(s)})()}),t._x_teleportPutBack=()=>{let l=bc(r);_e(()=>{o(t._x_teleport,l,e)})},n(()=>_e(()=>{s.remove(),Hr(s)}))});var sy=document.createElement("div");function bc(t){let e=tr(()=>document.querySelector(t),()=>sy)();return e||ct(`Cannot find x-teleport element for selector: "${t}"`),e}var Fu=()=>{};Fu.inline=(t,{modifiers:e},{cleanup:r})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,r(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};Me("ignore",Fu);Me("effect",tr((t,{expression:e},{effect:r})=>{r(tt(t,e))}));function Mo(t,e,r,n){let i=t,s=u=>n(u),o={},l=(u,g)=>y=>g(u,y);if(r.includes("dot")&&(e=oy(e)),r.includes("camel")&&(e=ay(e)),r.includes("passive")&&(o.passive=!0),r.includes("capture")&&(o.capture=!0),r.includes("window")&&(i=window),r.includes("document")&&(i=document),r.includes("debounce")){let u=r[r.indexOf("debounce")+1]||"invalid-wait",g=ki(u.split("ms")[0])?Number(u.split("ms")[0]):250;s=cu(s,g)}if(r.includes("throttle")){let u=r[r.indexOf("throttle")+1]||"invalid-wait",g=ki(u.split("ms")[0])?Number(u.split("ms")[0]):250;s=uu(s,g)}return r.includes("prevent")&&(s=l(s,(u,g)=>{g.preventDefault(),u(g)})),r.includes("stop")&&(s=l(s,(u,g)=>{g.stopPropagation(),u(g)})),r.includes("once")&&(s=l(s,(u,g)=>{u(g),i.removeEventListener(e,s,o)})),(r.includes("away")||r.includes("outside"))&&(i=document,s=l(s,(u,g)=>{t.contains(g.target)||g.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&u(g))})),r.includes("self")&&(s=l(s,(u,g)=>{g.target===t&&u(g)})),(cy(e)||Mu(e))&&(s=l(s,(u,g)=>{uy(g,r)||u(g)})),i.addEventListener(e,s,o),()=>{i.removeEventListener(e,s,o)}}function oy(t){return t.replace(/-/g,".")}function ay(t){return t.toLowerCase().replace(/-(\w)/g,(e,r)=>r.toUpperCase())}function ki(t){return!Array.isArray(t)&&!isNaN(t)}function ly(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function cy(t){return["keydown","keyup"].includes(t)}function Mu(t){return["contextmenu","click","mouse"].some(e=>t.includes(e))}function uy(t,e){let r=e.filter(s=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(s));if(r.includes("debounce")){let s=r.indexOf("debounce");r.splice(s,ki((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.includes("throttle")){let s=r.indexOf("throttle");r.splice(s,ki((r[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(r.length===0||r.length===1&&wc(t.key).includes(r[0]))return!1;let i=["ctrl","shift","alt","meta","cmd","super"].filter(s=>r.includes(s));return r=r.filter(s=>!i.includes(s)),!(i.length>0&&i.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),t[`${o}Key`])).length===i.length&&(Mu(t.type)||wc(t.key).includes(r[0])))}function wc(t){if(!t)return[];t=ly(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(r=>{if(e[r]===t)return r}).filter(r=>r)}Me("model",(t,{modifiers:e,expression:r},{effect:n,cleanup:i})=>{let s=t;e.includes("parent")&&(s=t.parentNode);let o=tt(s,r),l;typeof r=="string"?l=tt(s,`${r} = __placeholder`):typeof r=="function"&&typeof r()=="string"?l=tt(s,`${r()} = __placeholder`):l=()=>{};let u=()=>{let _;return o(B=>_=B),Ec(_)?_.get():_},g=_=>{let B;o(W=>B=W),Ec(B)?B.set(_):l(()=>{},{scope:{__placeholder:_}})};typeof r=="string"&&t.type==="radio"&&_e(()=>{t.hasAttribute("name")||t.setAttribute("name",r)});var y=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let k=Zt?()=>{}:Mo(t,y,e,_=>{g(mo(t,e,_,u()))});if(e.includes("fill")&&([void 0,null,""].includes(u())||Ko(t)&&Array.isArray(u())||t.tagName.toLowerCase()==="select"&&t.multiple)&&g(mo(t,e,{target:t},u())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=k,i(()=>t._x_removeModelListeners.default()),t.form){let _=Mo(t.form,"reset",[],B=>{Uo(()=>t._x_model&&t._x_model.set(mo(t,e,{target:t},u())))});i(()=>_())}t._x_model={get(){return u()},set(_){g(_)}},t._x_forceModelUpdate=_=>{_===void 0&&typeof r=="string"&&r.match(/\./)&&(_=""),window.fromModel=!0,_e(()=>iu(t,"value",_)),delete window.fromModel},n(()=>{let _=u();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(_)})});function mo(t,e,r,n){return _e(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail!==null&&r.detail!==void 0?r.detail:r.target.value;if(Ko(t))if(Array.isArray(n)){let i=null;return e.includes("number")?i=go(r.target.value):e.includes("boolean")?i=Ai(r.target.value):i=r.target.value,r.target.checked?n.includes(i)?n:n.concat([i]):n.filter(s=>!dy(s,i))}else return r.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(r.target.selectedOptions).map(i=>{let s=i.value||i.text;return go(s)}):e.includes("boolean")?Array.from(r.target.selectedOptions).map(i=>{let s=i.value||i.text;return Ai(s)}):Array.from(r.target.selectedOptions).map(i=>i.value||i.text);{let i;return lu(t)?r.target.checked?i=r.target.value:i=n:i=r.target.value,e.includes("number")?go(i):e.includes("boolean")?Ai(i):e.includes("trim")?i.trim():i}}})}function go(t){let e=t?parseFloat(t):null;return hy(e)?e:t}function dy(t,e){return t==e}function hy(t){return!Array.isArray(t)&&!isNaN(t)}function Ec(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}Me("cloak",t=>queueMicrotask(()=>_e(()=>t.removeAttribute(qr("cloak")))));Yc(()=>`[${qr("init")}]`);Me("init",tr((t,{expression:e},{evaluate:r})=>typeof e=="string"?!!e.trim()&&r(e,{},!1):r(e,{},!1)));Me("text",(t,{expression:e},{effect:r,evaluateLater:n})=>{let i=n(e);r(()=>{i(s=>{_e(()=>{t.textContent=s})})})});Me("html",(t,{expression:e},{effect:r,evaluateLater:n})=>{let i=n(e);r(()=>{i(s=>{_e(()=>{t.innerHTML=s,t._x_ignoreSelf=!0,jt(t),delete t._x_ignoreSelf})})})});Vo(Vc(":",Hc(qr("bind:"))));var Iu=(t,{value:e,modifiers:r,expression:n,original:i},{effect:s,cleanup:o})=>{if(!e){let u={};mv(u),tt(t,n)(y=>{fu(t,y,i)},{scope:u});return}if(e==="key")return fy(t,n);if(t._x_inlineBindings&&t._x_inlineBindings[e]&&t._x_inlineBindings[e].extract)return;let l=tt(t,n);s(()=>l(u=>{u===void 0&&typeof n=="string"&&n.match(/\./)&&(u=""),_e(()=>iu(t,e,u,r))})),o(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};Iu.inline=(t,{value:e,modifiers:r,expression:n})=>{e&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[e]={expression:n,extract:!1})};Me("bind",Iu);function fy(t,e){t._x_keyExpression=e}Jc(()=>`[${qr("data")}]`);Me("data",(t,{expression:e},{cleanup:r})=>{if(py(t))return;e=e===""?"{}":e;let n={};xo(n,t);let i={};vv(i,n);let s=hr(t,e,{scope:i});(s===void 0||s===!0)&&(s={}),xo(s,t);let o=$r(s);Mc(o);let l=En(t,o);o.init&&hr(t,o.init),r(()=>{o.destroy&&hr(t,o.destroy),l()})});Fi((t,e)=>{t._x_dataStack&&(e._x_dataStack=t._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function py(t){return Zt?ko?!0:t.hasAttribute("data-has-alpine-state"):!1}Me("show",(t,{modifiers:e,expression:r},{effect:n})=>{let i=tt(t,r);t._x_doHide||(t._x_doHide=()=>{_e(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{_e(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let s=()=>{t._x_doHide(),t._x_isShown=!1},o=()=>{t._x_doShow(),t._x_isShown=!0},l=()=>setTimeout(o),u=Co(k=>k?o():s(),k=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,k,o,s):k?l():s()}),g,y=!0;n(()=>i(k=>{!y&&k===g||(e.includes("immediate")&&(k?l():s()),u(k),g=k,y=!1)}))});Me("for",(t,{expression:e},{effect:r,cleanup:n})=>{let i=gy(e),s=tt(t,i.items),o=tt(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},r(()=>my(t,i,s,o)),n(()=>{Object.values(t._x_lookup).forEach(l=>_e(()=>{Hr(l),l.remove()})),delete t._x_prevKeys,delete t._x_lookup})});function my(t,e,r,n){let i=o=>typeof o=="object"&&!Array.isArray(o),s=t;r(o=>{vy(o)&&o>=0&&(o=Array.from(Array(o).keys(),R=>R+1)),o===void 0&&(o=[]);let l=t._x_lookup,u=t._x_prevKeys,g=[],y=[];if(i(o))o=Object.entries(o).map(([R,S])=>{let O=xc(e,S,R,o);n(m=>{y.includes(m)&&ct("Duplicate key on x-for",t),y.push(m)},{scope:{index:R,...O}}),g.push(O)});else for(let R=0;R<o.length;R++){let S=xc(e,o[R],R,o);n(O=>{y.includes(O)&&ct("Duplicate key on x-for",t),y.push(O)},{scope:{index:R,...S}}),g.push(S)}let k=[],_=[],B=[],W=[];for(let R=0;R<u.length;R++){let S=u[R];y.indexOf(S)===-1&&B.push(S)}u=u.filter(R=>!B.includes(R));let H="template";for(let R=0;R<y.length;R++){let S=y[R],O=u.indexOf(S);if(O===-1)u.splice(R,0,S),k.push([H,R]);else if(O!==R){let m=u.splice(R,1)[0],d=u.splice(O-1,1)[0];u.splice(R,0,d),u.splice(O,0,m),_.push([m,d])}else W.push(S);H=S}for(let R=0;R<B.length;R++){let S=B[R];S in l&&(_e(()=>{Hr(l[S]),l[S].remove()}),delete l[S])}for(let R=0;R<_.length;R++){let[S,O]=_[R],m=l[S],d=l[O],x=document.createElement("div");_e(()=>{d||ct('x-for ":key" is undefined or invalid',s,O,l),d.after(x),m.after(d),d._x_currentIfEl&&d.after(d._x_currentIfEl),x.before(m),m._x_currentIfEl&&m.after(m._x_currentIfEl),x.remove()}),d._x_refreshXForScope(g[y.indexOf(O)])}for(let R=0;R<k.length;R++){let[S,O]=k[R],m=S==="template"?s:l[S];m._x_currentIfEl&&(m=m._x_currentIfEl);let d=g[O],x=y[O],v=document.importNode(s.content,!0).firstElementChild,G=$r(d);En(v,G,s),v._x_refreshXForScope=re=>{Object.entries(re).forEach(([K,Z])=>{G[K]=Z})},_e(()=>{m.after(v),tr(()=>jt(v))()}),typeof x=="object"&&ct("x-for key cannot be an object, it must be a string or an integer",s),l[x]=v}for(let R=0;R<W.length;R++)l[W[R]]._x_refreshXForScope(g[y.indexOf(W[R])]);s._x_prevKeys=y})}function gy(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,r=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=t.match(n);if(!i)return;let s={};s.items=i[2].trim();let o=i[1].replace(r,"").trim(),l=o.match(e);return l?(s.item=o.replace(e,"").trim(),s.index=l[1].trim(),l[2]&&(s.collection=l[2].trim())):s.item=o,s}function xc(t,e,r,n){let i={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,l)=>{i[o]=e[l]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{i[o]=e[o]}):i[t.item]=e,t.index&&(i[t.index]=r),t.collection&&(i[t.collection]=n),i}function vy(t){return!Array.isArray(t)&&!isNaN(t)}function Ru(){}Ru.inline=(t,{expression:e},{cleanup:r})=>{let n=Li(t);n._x_refs||(n._x_refs={}),n._x_refs[e]=t,r(()=>delete n._x_refs[e])};Me("ref",Ru);Me("if",(t,{expression:e},{effect:r,cleanup:n})=>{t.tagName.toLowerCase()!=="template"&&ct("x-if can only be used on a <template> tag",t);let i=tt(t,e),s=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let l=t.content.cloneNode(!0).firstElementChild;return En(l,{},t),_e(()=>{t.after(l),tr(()=>jt(l))()}),t._x_currentIfEl=l,t._x_undoIf=()=>{_e(()=>{Hr(l),l.remove()}),delete t._x_currentIfEl},l},o=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};r(()=>i(l=>{l?s():o()})),n(()=>t._x_undoIf&&t._x_undoIf())});Me("id",(t,{expression:e},{evaluate:r})=>{r(e).forEach(i=>ny(t,i))});Fi((t,e)=>{t._x_ids&&(e._x_ids=t._x_ids)});Vo(Vc("@",Hc(qr("on:"))));Me("on",tr((t,{value:e,modifiers:r,expression:n},{cleanup:i})=>{let s=n?tt(t,n):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let o=Mo(t,e,r,l=>{s(()=>{},{scope:{$event:l},params:[l]})});i(()=>o())}));Ni("Collapse","collapse","collapse");Ni("Intersect","intersect","intersect");Ni("Focus","trap","focus");Ni("Mask","mask","mask");function Ni(t,e,r){Me(e,n=>ct(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${r}`,n))}On.setEvaluator(Bc);On.setReactivityEngine({reactive:ea,effect:Cv,release:Tv,raw:we});var yy=On,qt=yy;function by(t){t.directive("collapse",e),e.inline=(r,{modifiers:n})=>{n.includes("min")&&(r._x_doShow=()=>{},r._x_doHide=()=>{})};function e(r,{modifiers:n}){let i=Du(n,"duration",250)/1e3,s=Du(n,"min",0),o=!n.includes("min");r._x_isShown||(r.style.height=`${s}px`),!r._x_isShown&&o&&(r.hidden=!0),r._x_isShown||(r.style.overflow="hidden");let l=(g,y)=>{let k=t.setStyles(g,y);return y.height?()=>{}:k},u={transitionProperty:"height",transitionDuration:`${i}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};r._x_transition={in(g=()=>{},y=()=>{}){o&&(r.hidden=!1),o&&(r.style.display=null);let k=r.getBoundingClientRect().height;r.style.height="auto";let _=r.getBoundingClientRect().height;k===_&&(k=s),t.transition(r,t.setStyles,{during:u,start:{height:k+"px"},end:{height:_+"px"}},()=>r._x_isShown=!0,()=>{Math.abs(r.getBoundingClientRect().height-_)<1&&(r.style.overflow=null)})},out(g=()=>{},y=()=>{}){let k=r.getBoundingClientRect().height;t.transition(r,l,{during:u,start:{height:k+"px"},end:{height:s+"px"}},()=>r.style.overflow="hidden",()=>{r._x_isShown=!1,r.style.height==`${s}px`&&o&&(r.style.display="none",r.hidden=!0)})}}}}function Du(t,e,r){if(t.indexOf(e)===-1)return r;let n=t[t.indexOf(e)+1];if(!n)return r;if(e==="duration"){let i=n.match(/([0-9]+)ms/);if(i)return i[1]}if(e==="min"){let i=n.match(/([0-9]+)px/);if(i)return i[1]}return n}var Nu=by;var ta=class{constructor(e,r,n){this.eventTarget=e,this.eventName=r,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let r=wy(e);for(let n of this.bindings){if(r.immediatePropagationStopped)break;n.handleEvent(r)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,r)=>{let n=e.index,i=r.index;return n<i?-1:n>i?1:0})}};function wy(t){if("immediatePropagationStopped"in t)return t;{let{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var ra=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,r)=>e.concat(Array.from(r.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,r=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),r&&this.clearEventListenersForBinding(e)}handleError(e,r,n={}){this.application.handleError(e,`Error ${r}`,n)}clearEventListenersForBinding(e){let r=this.fetchEventListenerForBinding(e);r.hasBindings()||(r.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:r,eventName:n,eventOptions:i}=e,s=this.fetchEventListenerMapForEventTarget(r),o=this.cacheKey(n,i);s.delete(o),s.size==0&&this.eventListenerMaps.delete(r)}fetchEventListenerForBinding(e){let{eventTarget:r,eventName:n,eventOptions:i}=e;return this.fetchEventListener(r,n,i)}fetchEventListener(e,r,n){let i=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(r,n),o=i.get(s);return o||(o=this.createEventListener(e,r,n),i.set(s,o)),o}createEventListener(e,r,n){let i=new ta(e,r,n);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let r=this.eventListenerMaps.get(e);return r||(r=new Map,this.eventListenerMaps.set(e,r)),r}cacheKey(e,r){let n=[e];return Object.keys(r).sort().forEach(i=>{n.push(`${r[i]?"":"!"}${i}`)}),n.join(":")}},Ey={stop({event:t,value:e}){return e&&t.stopPropagation(),!0},prevent({event:t,value:e}){return e&&t.preventDefault(),!0},self({event:t,value:e,element:r}){return e?r===t.target:!0}},xy=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function Oy(t){let r=t.trim().match(xy)||[],n=r[2],i=r[3];return i&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${i}`,i=""),{eventTarget:Sy(r[4]),eventName:n,eventOptions:r[7]?Ay(r[7]):{},identifier:r[5],methodName:r[6],keyFilter:r[1]||i}}function Sy(t){if(t=="window")return window;if(t=="document")return document}function Ay(t){return t.split(":").reduce((e,r)=>Object.assign(e,{[r.replace(/^!/,"")]:!/^!/.test(r)}),{})}function _y(t){if(t==window)return"window";if(t==document)return"document"}function Sa(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,r)=>r.toUpperCase())}function na(t){return Sa(t.replace(/--/g,"-").replace(/__/g,"_"))}function An(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ku(t){return t.replace(/([A-Z])/g,(e,r)=>`-${r.toLowerCase()}`)}function Cy(t){return t.match(/[^\s]+/g)||[]}function Bu(t){return t!=null}function ia(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var $u=["meta","ctrl","alt","shift"],sa=class{constructor(e,r,n,i){this.element=e,this.index=r,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||Ty(e)||Bi("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||Bi("missing identifier"),this.methodName=n.methodName||Bi("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=i}static forToken(e,r){return new this(e.element,e.index,Oy(e.content),r)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",r=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${r}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let r=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,r))return!0;let n=r.filter(i=>!$u.includes(i))[0];return n?(ia(this.keyMappings,n)||Bi(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[n].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let r=[this.keyFilter];return!!this.keyFilterDissatisfied(e,r)}get params(){let e={},r=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:n,value:i}of Array.from(this.element.attributes)){let s=n.match(r),o=s&&s[1];o&&(e[Sa(o)]=ky(i))}return e}get eventTargetName(){return _y(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,r){let[n,i,s,o]=$u.map(l=>r.includes(l));return e.metaKey!==n||e.ctrlKey!==i||e.altKey!==s||e.shiftKey!==o}},ju={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function Ty(t){let e=t.tagName.toLowerCase();if(e in ju)return ju[e](t)}function Bi(t){throw new Error(t)}function ky(t){try{return JSON.parse(t)}catch{return t}}var oa=class{constructor(e,r){this.context=e,this.action=r}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let r=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(r)&&this.invokeWithEvent(r)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:r}=this.action,{actionDescriptorFilters:n}=this.context.application,{controller:i}=this.context,s=!0;for(let[o,l]of Object.entries(this.eventOptions))if(o in n){let u=n[o];s=s&&u({name:o,value:l,event:e,element:r,controller:i})}else continue;return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:r,currentTarget:n}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:r,currentTarget:n,action:this.methodName})}catch(i){let{identifier:s,controller:o,element:l,index:u}=this,g={identifier:s,controller:o,element:l,index:u,event:e};this.context.handleError(i,`invoking action "${this.action}"`,g)}}willBeInvokedByEvent(e){let r=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===r?!0:r instanceof Element&&this.element.contains(r)?this.scope.containsElement(r):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},$i=class{constructor(e,r){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=r,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let r of Array.from(this.elements))e.has(r)||this.removeElement(r);for(let r of Array.from(e))this.addElement(r)}}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,r){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,r):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.processTree(n,this.removeElement)}}processAddedNodes(e){for(let r of Array.from(e)){let n=this.elementFromNode(r);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,r){for(let n of this.matchElementsInTree(e))r.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},ji=class{constructor(e,r,n){this.attributeName=r,this.delegate=n,this.elementObserver=new $i(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let r=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return r.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,r){this.delegate.elementAttributeValueChanged&&this.attributeName==r&&this.delegate.elementAttributeValueChanged(e,r)}};function Ly(t,e,r){Gu(t,e).add(r)}function Py(t,e,r){Gu(t,e).delete(r),Fy(t,e)}function Gu(t,e){let r=t.get(e);return r||(r=new Set,t.set(e,r)),r}function Fy(t,e){let r=t.get(e);r!=null&&r.size==0&&t.delete(e)}var Vt=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((r,n)=>r+n.size,0)}add(e,r){Ly(this.valuesByKey,e,r)}delete(e,r){Py(this.valuesByKey,e,r)}has(e,r){let n=this.valuesByKey.get(e);return n!=null&&n.has(r)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(n=>n.has(e))}getValuesForKey(e){let r=this.valuesByKey.get(e);return r?Array.from(r):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([r,n])=>n.has(e)).map(([r,n])=>r)}};var aa=class{constructor(e,r,n,i){this._selector=r,this.details=i,this.elementObserver=new $i(e,this),this.delegate=n,this.matchesByElement=new Vt}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:r}=this;if(r){let n=e.matches(r);return this.delegate.selectorMatchElement?n&&this.delegate.selectorMatchElement(e,this.details):n}else return!1}matchElementsInTree(e){let{selector:r}=this;if(r){let n=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(r)).filter(s=>this.matchElement(s));return n.concat(i)}else return[]}elementMatched(e){let{selector:r}=this;r&&this.selectorMatched(e,r)}elementUnmatched(e){let r=this.matchesByElement.getKeysForValue(e);for(let n of r)this.selectorUnmatched(e,n)}elementAttributeChanged(e,r){let{selector:n}=this;if(n){let i=this.matchElement(e),s=this.matchesByElement.has(n,e);i&&!s?this.selectorMatched(e,n):!i&&s&&this.selectorUnmatched(e,n)}}selectorMatched(e,r){this.delegate.selectorMatched(e,r,this.details),this.matchesByElement.add(r,e)}selectorUnmatched(e,r){this.delegate.selectorUnmatched(e,r,this.details),this.matchesByElement.delete(r,e)}},la=class{constructor(e,r){this.element=e,this.delegate=r,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let r of e)this.processMutation(r)}processMutation(e){let r=e.attributeName;r&&this.refreshAttribute(r,e.oldValue)}refreshAttribute(e,r){let n=this.delegate.getStringMapKeyForAttribute(e);if(n!=null){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);let i=this.element.getAttribute(e);if(this.stringMap.get(e)!=i&&this.stringMapValueChanged(i,n,r),i==null){let s=this.stringMap.get(e);this.stringMap.delete(e),s&&this.stringMapKeyRemoved(n,e,s)}else this.stringMap.set(e,i)}}stringMapKeyAdded(e,r){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,r)}stringMapValueChanged(e,r,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,r,n)}stringMapKeyRemoved(e,r,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,r,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},qi=class{constructor(e,r,n){this.attributeObserver=new ji(e,r,this),this.delegate=n,this.tokensByElement=new Vt}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[r,n]=this.refreshTokensForElement(e);this.tokensUnmatched(r),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(r=>this.tokenMatched(r))}tokensUnmatched(e){e.forEach(r=>this.tokenUnmatched(r))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let r=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),i=Iy(r,n).findIndex(([s,o])=>!Ry(s,o));return i==-1?[[],[]]:[r.slice(i),n.slice(i)]}readTokensForElement(e){let r=this.attributeName,n=e.getAttribute(r)||"";return My(n,e,r)}};function My(t,e,r){return t.trim().split(/\s+/).filter(n=>n.length).map((n,i)=>({element:e,attributeName:r,content:n,index:i}))}function Iy(t,e){let r=Math.max(t.length,e.length);return Array.from({length:r},(n,i)=>[t[i],e[i]])}function Ry(t,e){return t&&e&&t.index==e.index&&t.content==e.content}var Vi=class{constructor(e,r,n){this.tokenListObserver=new qi(e,r,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).set(e,n),this.delegate.elementMatchedValue(r,n))}tokenUnmatched(e){let{element:r}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(r).delete(e),this.delegate.elementUnmatchedValue(r,n))}fetchParseResultForToken(e){let r=this.parseResultsByToken.get(e);return r||(r=this.parseToken(e),this.parseResultsByToken.set(e,r)),r}fetchValuesByTokenForElement(e){let r=this.valuesByTokenByElement.get(e);return r||(r=new Map,this.valuesByTokenByElement.set(e,r)),r}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(r){return{error:r}}}},ca=class{constructor(e,r){this.context=e,this.delegate=r,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Vi(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let r=new oa(this.context,e);this.bindingsByAction.set(e,r),this.delegate.bindingConnected(r)}disconnectAction(e){let r=this.bindingsByAction.get(e);r&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(r))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let r=sa.forToken(e,this.schema);if(r.identifier==this.identifier)return r}elementMatchedValue(e,r){this.connectAction(r)}elementUnmatchedValue(e,r){this.disconnectAction(r)}},ua=class{constructor(e,r){this.context=e,this.receiver=r,this.stringMapObserver=new la(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,r){let n=this.valueDescriptorMap[r];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,r,n){let i=this.valueDescriptorNameMap[r];e!==null&&(n===null&&(n=i.writer(i.defaultValue)),this.invokeChangedCallback(r,e,n))}stringMapKeyRemoved(e,r,n){let i=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,i.writer(this.receiver[e]),n):this.invokeChangedCallback(e,i.writer(i.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:r,defaultValue:n,writer:i}of this.valueDescriptors)n!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(r,i(n),void 0)}invokeChangedCallback(e,r,n){let i=`${e}Changed`,s=this.receiver[i];if(typeof s=="function"){let o=this.valueDescriptorNameMap[e];try{let l=o.reader(r),u=n;n&&(u=o.reader(n)),s.call(this.receiver,l,u)}catch(l){throw l instanceof TypeError&&(l.message=`Stimulus Value "${this.context.identifier}.${o.name}" - ${l.message}`),l}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(r=>e[r])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(r=>{let n=this.valueDescriptorMap[r];e[n.name]=n}),e}hasValue(e){let r=this.valueDescriptorNameMap[e],n=`has${An(r.name)}`;return this.receiver[n]}},da=class{constructor(e,r){this.context=e,this.delegate=r,this.targetsByName=new Vt}start(){this.tokenListObserver||(this.tokenListObserver=new qi(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:r}){this.scope.containsElement(e)&&this.connectTarget(e,r)}tokenUnmatched({element:e,content:r}){this.disconnectTarget(e,r)}connectTarget(e,r){var n;this.targetsByName.has(r,e)||(this.targetsByName.add(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(e,r)))}disconnectTarget(e,r){var n;this.targetsByName.has(r,e)&&(this.targetsByName.delete(r,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(e,r)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let r of this.targetsByName.getValuesForKey(e))this.disconnectTarget(r,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function _n(t,e){let r=Xu(t);return Array.from(r.reduce((n,i)=>(Ny(i,e).forEach(s=>n.add(s)),n),new Set))}function Dy(t,e){return Xu(t).reduce((n,i)=>(n.push(...By(i,e)),n),[])}function Xu(t){let e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function Ny(t,e){let r=t[e];return Array.isArray(r)?r:[]}function By(t,e){let r=t[e];return r?Object.keys(r).map(n=>[n,r[n]]):[]}var ha=class{constructor(e,r){this.started=!1,this.context=e,this.delegate=r,this.outletsByName=new Vt,this.outletElementsByName=new Vt,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,r,{outletName:n}){let i=this.getOutlet(e,n);i&&this.connectOutlet(i,e,n)}selectorUnmatched(e,r,{outletName:n}){let i=this.getOutletFromMap(e,n);i&&this.disconnectOutlet(i,e,n)}selectorMatchElement(e,{outletName:r}){let n=this.selector(r),i=this.hasOutlet(e,r),s=e.matches(`[${this.schema.controllerAttribute}~=${r}]`);return n?i&&s&&e.matches(n):!1}elementMatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementAttributeValueChanged(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}elementUnmatchedAttribute(e,r){let n=this.getOutletNameFromOutletAttributeName(r);n&&this.updateSelectorObserverForOutlet(n)}connectOutlet(e,r,n){var i;this.outletElementsByName.has(n,r)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,r),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletConnected(e,r,n)))}disconnectOutlet(e,r,n){var i;this.outletElementsByName.has(n,r)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,r),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletDisconnected(e,r,n)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let r of this.outletElementsByName.getValuesForKey(e))for(let n of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(n,r,e)}updateSelectorObserverForOutlet(e){let r=this.selectorObserverMap.get(e);r&&(r.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let r=this.selector(e),n=new aa(document.body,r,this,{outletName:e});this.selectorObserverMap.set(e,n),n.start()}setupAttributeObserverForOutlet(e){let r=this.attributeNameForOutletName(e),n=new ji(this.scope.element,r,this);this.attributeObserverMap.set(e,n),n.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(r=>this.attributeNameForOutletName(r)===e)}get outletDependencies(){let e=new Vt;return this.router.modules.forEach(r=>{let n=r.definition.controllerConstructor;_n(n,"outlets").forEach(s=>e.add(s,r.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(r=>e.includes(r.identifier))}hasOutlet(e,r){return!!this.getOutlet(e,r)||!!this.getOutletFromMap(e,r)}getOutlet(e,r){return this.application.getControllerForElementAndIdentifier(e,r)}getOutletFromMap(e,r){return this.outletsByName.getValuesForKey(r).find(n=>n.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},fa=class{constructor(e,r){this.logDebugActivity=(n,i={})=>{let{identifier:s,controller:o,element:l}=this;i=Object.assign({identifier:s,controller:o,element:l},i),this.application.logDebugActivity(this.identifier,n,i)},this.module=e,this.scope=r,this.controller=new e.controllerConstructor(this),this.bindingObserver=new ca(this,this.dispatcher),this.valueObserver=new ua(this,this.controller),this.targetObserver=new da(this,this),this.outletObserver=new ha(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,r,n={}){let{identifier:i,controller:s,element:o}=this;n=Object.assign({identifier:i,controller:s,element:o},n),this.application.handleError(e,`Error ${r}`,n)}targetConnected(e,r){this.invokeControllerMethod(`${r}TargetConnected`,e)}targetDisconnected(e,r){this.invokeControllerMethod(`${r}TargetDisconnected`,e)}outletConnected(e,r,n){this.invokeControllerMethod(`${na(n)}OutletConnected`,e,r)}outletDisconnected(e,r,n){this.invokeControllerMethod(`${na(n)}OutletDisconnected`,e,r)}invokeControllerMethod(e,...r){let n=this.controller;typeof n[e]=="function"&&n[e](...r)}};function $y(t){return jy(t,qy(t))}function jy(t,e){let r=Uy(t),n=Vy(t.prototype,e);return Object.defineProperties(r.prototype,n),r}function qy(t){return _n(t,"blessings").reduce((r,n)=>{let i=n(t);for(let s in i){let o=r[s]||{};r[s]=Object.assign(o,i[s])}return r},{})}function Vy(t,e){return Wy(e).reduce((r,n)=>{let i=Hy(t,e,n);return i&&Object.assign(r,{[n]:i}),r},{})}function Hy(t,e,r){let n=Object.getOwnPropertyDescriptor(t,r);if(!(n&&"value"in n)){let s=Object.getOwnPropertyDescriptor(e,r).value;return n&&(s.get=n.get||s.get,s.set=n.set||s.set),s}}var Wy=typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,Uy=(()=>{function t(r){function n(){return Reflect.construct(r,arguments,new.target)}return n.prototype=Object.create(r.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,r),n}function e(){let n=t(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return e(),t}catch{return n=>class extends n{}}})();function zy(t){return{identifier:t.identifier,controllerConstructor:$y(t.controllerConstructor)}}var pa=class{constructor(e,r){this.application=e,this.definition=zy(r),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let r=this.fetchContextForScope(e);this.connectedContexts.add(r),r.connect()}disconnectContextForScope(e){let r=this.contextsByScope.get(e);r&&(this.connectedContexts.delete(r),r.disconnect())}fetchContextForScope(e){let r=this.contextsByScope.get(e);return r||(r=new fa(this,e),this.contextsByScope.set(e,r)),r}},ma=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let r=this.data.get(this.getDataKey(e))||"";return Cy(r)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},ga=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let r=this.getAttributeNameForKey(e);return this.element.getAttribute(r)}set(e,r){let n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,r),this.get(e)}has(e){let r=this.getAttributeNameForKey(e);return this.element.hasAttribute(r)}delete(e){if(this.has(e)){let r=this.getAttributeNameForKey(e);return this.element.removeAttribute(r),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Ku(e)}`}},va=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,r,n){let i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(r)||(i.add(r),this.logger.warn(n,e))}};function ya(t,e){return`[${t}~="${e}"]`}var ba=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(e){let r=this.getSelectorForTargetName(e);return this.scope.findElement(r)}findAllTargets(e){let r=this.getSelectorForTargetName(e);return this.scope.findAllElements(r)}getSelectorForTargetName(e){let r=this.schema.targetAttributeForScope(this.identifier);return ya(r,e)}findLegacyTarget(e){let r=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(r),e)}findAllLegacyTargets(e){let r=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(r).map(n=>this.deprecate(n,e))}getLegacySelectorForTargetName(e){let r=`${this.identifier}.${e}`;return ya(this.schema.targetAttribute,r)}deprecate(e,r){if(e){let{identifier:n}=this,i=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${r}`,`Please replace ${i}="${n}.${r}" with ${s}="${r}". The ${i} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},wa=class{constructor(e,r){this.scope=e,this.controllerElement=r}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((r,n)=>r||this.findOutlet(n),void 0)}findAll(...e){return e.reduce((r,n)=>[...r,...this.findAllOutlets(n)],[])}getSelectorForOutletName(e){let r=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(r)}findOutlet(e){let r=this.getSelectorForOutletName(e);if(r)return this.findElement(r,e)}findAllOutlets(e){let r=this.getSelectorForOutletName(e);return r?this.findAllElements(r,e):[]}findElement(e,r){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,r))[0]}findAllElements(e,r){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,r))}matchesElement(e,r,n){let i=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(r)&&i.split(" ").includes(n)}},Ea=class t{constructor(e,r,n,i){this.targets=new ba(this),this.classes=new ma(this),this.data=new ga(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=e,this.element=r,this.identifier=n,this.guide=new va(i),this.outlets=new wa(this.documentScope,r)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return ya(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new t(this.schema,document.documentElement,this.identifier,this.guide.logger)}},xa=class{constructor(e,r,n){this.element=e,this.schema=r,this.delegate=n,this.valueListObserver=new Vi(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:r,content:n}=e;return this.parseValueForElementAndIdentifier(r,n)}parseValueForElementAndIdentifier(e,r){let n=this.fetchScopesByIdentifierForElement(e),i=n.get(r);return i||(i=this.delegate.createScopeForElementAndIdentifier(e,r),n.set(r,i)),i}elementMatchedValue(e,r){let n=(this.scopeReferenceCounts.get(r)||0)+1;this.scopeReferenceCounts.set(r,n),n==1&&this.delegate.scopeConnected(r)}elementUnmatchedValue(e,r){let n=this.scopeReferenceCounts.get(r);n&&(this.scopeReferenceCounts.set(r,n-1),n==1&&this.delegate.scopeDisconnected(r))}fetchScopesByIdentifierForElement(e){let r=this.scopesByIdentifierByElement.get(e);return r||(r=new Map,this.scopesByIdentifierByElement.set(e,r)),r}},Oa=class{constructor(e){this.application=e,this.scopeObserver=new xa(this.element,this.schema,this),this.scopesByIdentifier=new Vt,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,r)=>e.concat(r.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let r=new pa(this.application,e);this.connectModule(r);let n=e.controllerConstructor.afterLoad;n&&n.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let r=this.modulesByIdentifier.get(e);r&&this.disconnectModule(r)}getContextForElementAndIdentifier(e,r){let n=this.modulesByIdentifier.get(r);if(n)return n.contexts.find(i=>i.element==e)}proposeToConnectScopeForElementAndIdentifier(e,r){let n=this.scopeObserver.parseValueForElementAndIdentifier(e,r);n?this.scopeObserver.elementMatchedValue(n.element,n):console.error(`Couldn't find or create scope for identifier: "${r}" and element:`,e)}handleError(e,r,n){this.application.handleError(e,r,n)}createScopeForElementAndIdentifier(e,r){return new Ea(this.schema,e,r,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let r=this.modulesByIdentifier.get(e.identifier);r&&r.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.connectContextForScope(n))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.disconnectContextForScope(n))}},Ky={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},qu("abcdefghijklmnopqrstuvwxyz".split("").map(t=>[t,t]))),qu("0123456789".split("").map(t=>[t,t])))};function qu(t){return t.reduce((e,[r,n])=>Object.assign(Object.assign({},e),{[r]:n}),{})}var Hi=class{constructor(e=document.documentElement,r=Ky){this.logger=console,this.debug=!1,this.logDebugActivity=(n,i,s={})=>{this.debug&&this.logFormattedMessage(n,i,s)},this.element=e,this.schema=r,this.dispatcher=new ra(this),this.router=new Oa(this),this.actionDescriptorFilters=Object.assign({},Ey)}static start(e,r){let n=new this(e,r);return n.start(),n}async start(){await Gy(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,r){this.load({identifier:e,controllerConstructor:r})}registerActionOption(e,r){this.actionDescriptorFilters[e]=r}load(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(i=>{i.controllerConstructor.shouldLoad&&this.router.loadDefinition(i)})}unload(e,...r){(Array.isArray(e)?e:[e,...r]).forEach(i=>this.router.unloadIdentifier(i))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,r){let n=this.router.getContextForElementAndIdentifier(e,r);return n?n.controller:null}handleError(e,r,n){var i;this.logger.error(`%s

%o

%o`,r,e,n),(i=window.onerror)===null||i===void 0||i.call(window,r,"",0,0,e)}logFormattedMessage(e,r,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${r}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}};function Gy(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function Xy(t){return _n(t,"classes").reduce((r,n)=>Object.assign(r,Qy(n)),{})}function Qy(t){return{[`${t}Class`]:{get(){let{classes:e}=this;if(e.has(t))return e.get(t);{let r=e.getAttributeName(t);throw new Error(`Missing attribute "${r}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${An(t)}Class`]:{get(){return this.classes.has(t)}}}}function Jy(t){return _n(t,"outlets").reduce((r,n)=>Object.assign(r,Yy(n)),{})}function Vu(t,e,r){return t.application.getControllerForElementAndIdentifier(e,r)}function Hu(t,e,r){let n=Vu(t,e,r);if(n||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,r),n=Vu(t,e,r),n))return n}function Yy(t){let e=na(t);return{[`${e}Outlet`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r){let i=Hu(this,r,t);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}Outlets`]:{get(){let r=this.outlets.findAll(t);return r.length>0?r.map(n=>{let i=Hu(this,n,t);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,n)}).filter(n=>n):[]}},[`${e}OutletElement`]:{get(){let r=this.outlets.find(t),n=this.outlets.getSelectorForOutletName(t);if(r)return r;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${An(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}function Zy(t){return _n(t,"targets").reduce((r,n)=>Object.assign(r,eb(n)),{})}function eb(t){return{[`${t}Target`]:{get(){let e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${An(t)}Target`]:{get(){return this.targets.has(t)}}}}function tb(t){let e=Dy(t,"values"),r={valueDescriptorMap:{get(){return e.reduce((n,i)=>{let s=Qu(i,this.identifier),o=this.data.getAttributeNameForKey(s.key);return Object.assign(n,{[o]:s})},{})}}};return e.reduce((n,i)=>Object.assign(n,rb(i)),r)}function rb(t,e){let r=Qu(t,e),{key:n,name:i,reader:s,writer:o}=r;return{[i]:{get(){let l=this.data.get(n);return l!==null?s(l):r.defaultValue},set(l){l===void 0?this.data.delete(n):this.data.set(n,o(l))}},[`has${An(i)}`]:{get(){return this.data.has(n)||r.hasCustomDefaultValue}}}}function Qu([t,e],r){return ob({controller:r,token:t,typeDefinition:e})}function Wi(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Sn(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function nb(t){let{controller:e,token:r,typeObject:n}=t,i=Bu(n.type),s=Bu(n.default),o=i&&s,l=i&&!s,u=!i&&s,g=Wi(n.type),y=Sn(t.typeObject.default);if(l)return g;if(u)return y;if(g!==y){let k=e?`${e}.${r}`:r;throw new Error(`The specified default value for the Stimulus Value "${k}" must match the defined type "${g}". The provided default value of "${n.default}" is of type "${y}".`)}if(o)return g}function ib(t){let{controller:e,token:r,typeDefinition:n}=t,s=nb({controller:e,token:r,typeObject:n}),o=Sn(n),l=Wi(n),u=s||o||l;if(u)return u;let g=e?`${e}.${n}`:r;throw new Error(`Unknown value type "${g}" for "${r}" value`)}function sb(t){let e=Wi(t);if(e)return Wu[e];let r=ia(t,"default"),n=ia(t,"type"),i=t;if(r)return i.default;if(n){let{type:s}=i,o=Wi(s);if(o)return Wu[o]}return t}function ob(t){let{token:e,typeDefinition:r}=t,n=`${Ku(e)}-value`,i=ib(t);return{type:i,key:n,name:Sa(n),get defaultValue(){return sb(r)},get hasCustomDefaultValue(){return Sn(r)!==void 0},reader:ab[i],writer:Uu[i]||Uu.default}}var Wu={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},ab={array(t){let e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${Sn(e)}"`);return e},boolean(t){return!(t=="0"||String(t).toLowerCase()=="false")},number(t){return Number(t.replace(/_/g,""))},object(t){let e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${Sn(e)}"`);return e},string(t){return t}},Uu={default:lb,array:zu,object:zu};function zu(t){return JSON.stringify(t)}function lb(t){return`${t}`}var me=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,r){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:r=this.element,detail:n={},prefix:i=this.identifier,bubbles:s=!0,cancelable:o=!0}={}){let l=i?`${i}:${e}`:e,u=new CustomEvent(l,{detail:n,bubbles:s,cancelable:o});return r.dispatchEvent(u),u}};me.blessings=[Xy,Zy,tb,Jy];me.targets=[];me.outlets=[];me.values={};var Ui=class extends me{static targets=["checkbox"];connect(){let t=localStorage.getItem("dark-mode");t&&t=="true"?(document.documentElement.classList.add("dark"),this.checkboxTarget.checked=!0):(document.documentElement.classList.remove("dark"),this.checkboxTarget.checked=!1)}toggle(){this.checkboxTarget.checked?(document.documentElement.classList.add("dark"),localStorage.setItem("dark-mode",!0)):(document.documentElement.classList.remove("dark"),localStorage.setItem("dark-mode",!1))}};var zi=class extends me{static targets=["container","button"];static values={url:String};loadMore(){let t=this.buttonTarget.getAttribute("data-load_more-url-value");t&&fetch(t).then(e=>e.text()).then(e=>{let n=new DOMParser().parseFromString(e,"text/html"),i=n.querySelector(`#${this.containerTarget.id}`).innerHTML;this.containerTarget.insertAdjacentHTML("beforeend",i);let s=n.querySelector("#load_more");if(s){let o=s.getAttribute("data-load_more-url-value");this.buttonTarget.setAttribute("data-load_more-url-value",o)}else this.buttonTarget.remove()}).catch(e=>console.error("Error loading more posts:",e))}};var Aa=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function _a(t,e,r,n){t.addEventListener?t.addEventListener(e,r,n):t.attachEvent&&t.attachEvent("on".concat(e),r)}function Cn(t,e,r,n){t.removeEventListener?t.removeEventListener(e,r,n):t.detachEvent&&t.detachEvent("on".concat(e),r)}function Zu(t,e){let r=e.slice(0,e.length-1);for(let n=0;n<r.length;n++)r[n]=t[r[n].toLowerCase()];return r}function ed(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");let e=t.split(","),r=e.lastIndexOf("");for(;r>=0;)e[r-1]+=",",e.splice(r,1),r=e.lastIndexOf("");return e}function cb(t,e){let r=t.length>=e.length?t:e,n=t.length>=e.length?e:t,i=!0;for(let s=0;s<r.length;s++)n.indexOf(r[s])===-1&&(i=!1);return i}var kn={backspace:8,"\u232B":8,tab:9,clear:12,enter:13,"\u21A9":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":Aa?173:189,"=":Aa?61:187,";":Aa?59:186,"'":222,"[":219,"]":221,"\\":220},Lt={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},Gi={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Ke={16:!1,18:!1,17:!1,91:!1},Ce={};for(let t=1;t<20;t++)kn["f".concat(t)]=111+t;var xe=[],Tn=null,td="all",Ht=new Map,Pn=t=>kn[t.toLowerCase()]||Lt[t.toLowerCase()]||t.toUpperCase().charCodeAt(0),ub=t=>Object.keys(kn).find(e=>kn[e]===t),db=t=>Object.keys(Lt).find(e=>Lt[e]===t);function rd(t){td=t||"all"}function Ln(){return td||"all"}function hb(){return xe.slice(0)}function fb(){return xe.map(t=>ub(t)||db(t)||String.fromCharCode(t))}function pb(){let t=[];return Object.keys(Ce).forEach(e=>{Ce[e].forEach(r=>{let{key:n,scope:i,mods:s,shortcut:o}=r;t.push({scope:i,shortcut:o,mods:s,keys:n.split("+").map(l=>Pn(l))})})}),t}function mb(t){let e=t.target||t.srcElement,{tagName:r}=e,n=!0,i=r==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(i||r==="TEXTAREA"||r==="SELECT")&&!e.readOnly)&&(n=!1),n}function gb(t){return typeof t=="string"&&(t=Pn(t)),xe.indexOf(t)!==-1}function vb(t,e){let r,n;t||(t=Ln());for(let i in Ce)if(Object.prototype.hasOwnProperty.call(Ce,i))for(r=Ce[i],n=0;n<r.length;)r[n].scope===t?r.splice(n,1).forEach(o=>{let{element:l}=o;return Ta(l)}):n++;Ln()===t&&rd(e||"all")}function yb(t){let e=t.keyCode||t.which||t.charCode,r=xe.indexOf(e);if(r>=0&&xe.splice(r,1),t.key&&t.key.toLowerCase()==="meta"&&xe.splice(0,xe.length),(e===93||e===224)&&(e=91),e in Ke){Ke[e]=!1;for(let n in Lt)Lt[n]===e&&(kt[n]=!1)}}function nd(t){if(typeof t>"u")Object.keys(Ce).forEach(i=>{Array.isArray(Ce[i])&&Ce[i].forEach(s=>Ki(s)),delete Ce[i]}),Ta(null);else if(Array.isArray(t))t.forEach(i=>{i.key&&Ki(i)});else if(typeof t=="object")t.key&&Ki(t);else if(typeof t=="string"){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];let[i,s]=r;typeof i=="function"&&(s=i,i=""),Ki({key:t,scope:i,method:s,splitKey:"+"})}}var Ki=t=>{let{key:e,scope:r,method:n,splitKey:i="+"}=t;ed(e).forEach(o=>{let l=o.split(i),u=l.length,g=l[u-1],y=g==="*"?"*":Pn(g);if(!Ce[y])return;r||(r=Ln());let k=u>1?Zu(Lt,l):[],_=[];Ce[y]=Ce[y].filter(B=>{let H=(n?B.method===n:!0)&&B.scope===r&&cb(B.mods,k);return H&&_.push(B.element),!H}),_.forEach(B=>Ta(B))})};function Ju(t,e,r,n){if(e.element!==n)return;let i;if(e.scope===r||e.scope==="all"){i=e.mods.length>0;for(let s in Ke)Object.prototype.hasOwnProperty.call(Ke,s)&&(!Ke[s]&&e.mods.indexOf(+s)>-1||Ke[s]&&e.mods.indexOf(+s)===-1)&&(i=!1);(e.mods.length===0&&!Ke[16]&&!Ke[18]&&!Ke[17]&&!Ke[91]||i||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(xe),e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function Yu(t,e){let r=Ce["*"],n=t.keyCode||t.which||t.charCode;if(!kt.filter.call(this,t))return;if((n===93||n===224)&&(n=91),xe.indexOf(n)===-1&&n!==229&&xe.push(n),["metaKey","ctrlKey","altKey","shiftKey"].forEach(l=>{let u=Gi[l];t[l]&&xe.indexOf(u)===-1?xe.push(u):!t[l]&&xe.indexOf(u)>-1?xe.splice(xe.indexOf(u),1):l==="metaKey"&&t[l]&&(xe=xe.filter(g=>g in Gi||g===n))}),n in Ke){Ke[n]=!0;for(let l in Lt)Lt[l]===n&&(kt[l]=!0);if(!r)return}for(let l in Ke)Object.prototype.hasOwnProperty.call(Ke,l)&&(Ke[l]=t[Gi[l]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(xe.indexOf(17)===-1&&xe.push(17),xe.indexOf(18)===-1&&xe.push(18),Ke[17]=!0,Ke[18]=!0);let i=Ln();if(r)for(let l=0;l<r.length;l++)r[l].scope===i&&(t.type==="keydown"&&r[l].keydown||t.type==="keyup"&&r[l].keyup)&&Ju(t,r[l],i,e);if(!(n in Ce))return;let s=Ce[n],o=s.length;for(let l=0;l<o;l++)if((t.type==="keydown"&&s[l].keydown||t.type==="keyup"&&s[l].keyup)&&s[l].key){let u=s[l],{splitKey:g}=u,y=u.key.split(g),k=[];for(let _=0;_<y.length;_++)k.push(Pn(y[_]));k.sort().join("")===xe.sort().join("")&&Ju(t,u,i,e)}}function kt(t,e,r){xe=[];let n=ed(t),i=[],s="all",o=document,l=0,u=!1,g=!0,y="+",k=!1,_=!1;for(r===void 0&&typeof e=="function"&&(r=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(s=e.scope),e.element&&(o=e.element),e.keyup&&(u=e.keyup),e.keydown!==void 0&&(g=e.keydown),e.capture!==void 0&&(k=e.capture),typeof e.splitKey=="string"&&(y=e.splitKey),e.single===!0&&(_=!0)),typeof e=="string"&&(s=e),_&&nd(t,s);l<n.length;l++)t=n[l].split(y),i=[],t.length>1&&(i=Zu(Lt,t)),t=t[t.length-1],t=t==="*"?"*":Pn(t),t in Ce||(Ce[t]=[]),Ce[t].push({keyup:u,keydown:g,scope:s,mods:i,shortcut:n[l],method:r,key:n[l],splitKey:y,element:o});if(typeof o<"u"&&window){if(!Ht.has(o)){let B=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return Yu(H,o)},W=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;Yu(H,o),yb(H)};Ht.set(o,{keydownListener:B,keyupListenr:W,capture:k}),_a(o,"keydown",B,k),_a(o,"keyup",W,k)}if(!Tn){let B=()=>{xe=[]};Tn={listener:B,capture:k},_a(window,"focus",B,k)}}}function bb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Ce).forEach(r=>{Ce[r].filter(i=>i.scope===e&&i.shortcut===t).forEach(i=>{i&&i.method&&i.method()})})}function Ta(t){let e=Object.values(Ce).flat();if(e.findIndex(n=>{let{element:i}=n;return i===t})<0){let{keydownListener:n,keyupListenr:i,capture:s}=Ht.get(t)||{};n&&i&&(Cn(t,"keyup",i,s),Cn(t,"keydown",n,s),Ht.delete(t))}if((e.length<=0||Ht.size<=0)&&(Object.keys(Ht).forEach(i=>{let{keydownListener:s,keyupListenr:o,capture:l}=Ht.get(i)||{};s&&o&&(Cn(i,"keyup",o,l),Cn(i,"keydown",s,l),Ht.delete(i))}),Ht.clear(),Object.keys(Ce).forEach(i=>delete Ce[i]),Tn)){let{listener:i,capture:s}=Tn;Cn(window,"focus",i,s),Tn=null}}var Ca={getPressedKeyString:fb,setScope:rd,getScope:Ln,deleteScope:vb,getPressedKeyCodes:hb,getAllKeyCodes:pb,isPressed:gb,filter:mb,trigger:bb,unbind:nd,keyMap:kn,modifier:Lt,modifierMap:Gi};for(let t in Ca)Object.prototype.hasOwnProperty.call(Ca,t)&&(kt[t]=Ca[t]);if(typeof window<"u"){let t=window.hotkeys;kt.noConflict=e=>(e&&window.hotkeys===kt&&(window.hotkeys=t),kt),window.hotkeys=kt}var ka=class extends me{};ka.debounces=[];var La=class extends me{};La.throttles=[];var wb={enterFromClass:"enter",enterActiveClass:"enterStart",enterToClass:"enterEnd",leaveFromClass:"leave",leaveActiveClass:"leaveStart",leaveToClass:"leaveEnd"},Eb={transitioned:!1,hiddenClass:"hidden",preserveOriginalClass:!0,removeToClasses:!0},id=(t,e={})=>{var r,n,i;let s=t,o=s.element.dataset.transitionTarget,l;o&&(l=s[`${o}Target`]);let u=e?.element||l||s.element;if(!(u instanceof HTMLElement||u instanceof SVGElement))return;let g=u.dataset,y=parseInt(g.leaveAfter||"")||e.leaveAfter||0,{transitioned:k,hiddenClass:_,preserveOriginalClass:B,removeToClasses:W}=Object.assign({},Eb,e),H=(r=s.enter)===null||r===void 0?void 0:r.bind(s),R=(n=s.leave)===null||n===void 0?void 0:n.bind(s),S=(i=s.toggleTransition)===null||i===void 0?void 0:i.bind(s);async function O(K){if(s.transitioned)return;s.transitioned=!0,H&&H(K);let Z=rr("enterFrom",e,g),ce=rr("enterActive",e,g),ie=rr("enterTo",e,g),I=rr("leaveTo",e,g);_&&u.classList.remove(_),W||re(u,I),await x(u,Z,ce,ie,_,B,W),y>0&&setTimeout(()=>{m(K)},y)}async function m(K){if(!s.transitioned)return;s.transitioned=!1,R&&R(K);let Z=rr("leaveFrom",e,g),ce=rr("leaveActive",e,g),ie=rr("leaveTo",e,g),I=rr("enterTo",e,g);W||re(u,I),await x(u,Z,ce,ie,_,B,W),_&&u.classList.add(_)}function d(K){S&&S(K),s.transitioned?m():O()}async function x(K,Z,ce,ie,I,E,C){let P=[];E&&(Z.forEach(M=>K.classList.contains(M)&&M!==I&&P.push(M)),ce.forEach(M=>K.classList.contains(M)&&M!==I&&P.push(M)),ie.forEach(M=>K.classList.contains(M)&&M!==I&&P.push(M))),G(K,Z),re(K,P),G(K,ce),await Ob(),re(K,Z),G(K,ie),await xb(K),re(K,ce),C&&re(K,ie),G(K,P)}function v(){s.transitioned=k,k?(_&&u.classList.remove(_),O()):(_&&u.classList.add(_),m())}function G(K,Z){Z.length>0&&K.classList.add(...Z)}function re(K,Z){Z.length>0&&K.classList.remove(...Z)}return v(),Object.assign(s,{enter:O,leave:m,toggleTransition:d}),[O,m,d]};function rr(t,e,r){let n=`transition${t[0].toUpperCase()}${t.substr(1)}`,i=wb[t],s=e[t]||r[n]||r[i]||" ";return Sb(s)?[]:s.split(" ")}async function xb(t){return new Promise(e=>{let r=Number(getComputedStyle(t).transitionDuration.split(",")[0].replace("s",""))*1e3;setTimeout(()=>{e(r)},r)})}async function Ob(){return new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(t)})})}function Sb(t){return t.length===0||!t.trim()}var Fn=class extends me{connect(){id(this,{element:this.menuTarget})}toggle(){this.toggleTransition()}hide(e){!this.element.contains(e.target)&&!this.menuTarget.classList.contains("hidden")&&this.leave()}};Fn.targets=["menu"];var Te="top",Re="bottom",Ie="right",Pe="left",Xi="auto",nr=[Te,Re,Ie,Pe],Wt="start",vr="end",sd="clippingParents",Qi="viewport",Wr="popper",od="reference",Pa=nr.reduce(function(t,e){return t.concat([e+"-"+Wt,e+"-"+vr])},[]),Ji=[].concat(nr,[Xi]).reduce(function(t,e){return t.concat([e,e+"-"+Wt,e+"-"+vr])},[]),Ab="beforeRead",_b="read",Cb="afterRead",Tb="beforeMain",kb="main",Lb="afterMain",Pb="beforeWrite",Fb="write",Mb="afterWrite",ad=[Ab,_b,Cb,Tb,kb,Lb,Pb,Fb,Mb];function je(t){return t?(t.nodeName||"").toLowerCase():null}function Oe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ut(t){var e=Oe(t).Element;return t instanceof e||t instanceof Element}function De(t){var e=Oe(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ur(t){if(typeof ShadowRoot>"u")return!1;var e=Oe(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Ib(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!De(s)||!je(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(o){var l=i[o];l===!1?s.removeAttribute(o):s.setAttribute(o,l===!0?"":l)}))})}function Rb(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),l=o.reduce(function(u,g){return u[g]="",u},{});!De(i)||!je(i)||(Object.assign(i.style,l),Object.keys(s).forEach(function(u){i.removeAttribute(u)}))})}}var Mn={name:"applyStyles",enabled:!0,phase:"write",fn:Ib,effect:Rb,requires:["computeStyles"]};function qe(t){return t.split("-")[0]}var wt=Math.max,yr=Math.min,Ut=Math.round;function zr(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function In(){return!/^((?!chrome|android).)*safari/i.test(zr())}function dt(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,s=1;e&&De(t)&&(i=t.offsetWidth>0&&Ut(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ut(n.height)/t.offsetHeight||1);var o=ut(t)?Oe(t):window,l=o.visualViewport,u=!In()&&r,g=(n.left+(u&&l?l.offsetLeft:0))/i,y=(n.top+(u&&l?l.offsetTop:0))/s,k=n.width/i,_=n.height/s;return{width:k,height:_,top:y,right:g+k,bottom:y+_,left:g,x:g,y}}function br(t){var e=dt(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function Rn(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Ur(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function rt(t){return Oe(t).getComputedStyle(t)}function Fa(t){return["table","td","th"].indexOf(je(t))>=0}function Ge(t){return((ut(t)?t.ownerDocument:t.document)||window.document).documentElement}function zt(t){return je(t)==="html"?t:t.assignedSlot||t.parentNode||(Ur(t)?t.host:null)||Ge(t)}function ld(t){return!De(t)||rt(t).position==="fixed"?null:t.offsetParent}function Db(t){var e=/firefox/i.test(zr()),r=/Trident/i.test(zr());if(r&&De(t)){var n=rt(t);if(n.position==="fixed")return null}var i=zt(t);for(Ur(i)&&(i=i.host);De(i)&&["html","body"].indexOf(je(i))<0;){var s=rt(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Et(t){for(var e=Oe(t),r=ld(t);r&&Fa(r)&&rt(r).position==="static";)r=ld(r);return r&&(je(r)==="html"||je(r)==="body"&&rt(r).position==="static")?e:r||Db(t)||e}function wr(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Er(t,e,r){return wt(t,yr(e,r))}function cd(t,e,r){var n=Er(t,e,r);return n>r?r:n}function Dn(){return{top:0,right:0,bottom:0,left:0}}function Nn(t){return Object.assign({},Dn(),t)}function Bn(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Nb=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,Nn(typeof e!="number"?e:Bn(e,nr))};function Bb(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,l=qe(r.placement),u=wr(l),g=[Pe,Ie].indexOf(l)>=0,y=g?"height":"width";if(!(!s||!o)){var k=Nb(i.padding,r),_=br(s),B=u==="y"?Te:Pe,W=u==="y"?Re:Ie,H=r.rects.reference[y]+r.rects.reference[u]-o[u]-r.rects.popper[y],R=o[u]-r.rects.reference[u],S=Et(s),O=S?u==="y"?S.clientHeight||0:S.clientWidth||0:0,m=H/2-R/2,d=k[B],x=O-_[y]-k[W],v=O/2-_[y]/2+m,G=Er(d,v,x),re=u;r.modifiersData[n]=(e={},e[re]=G,e.centerOffset=G-v,e)}}function $b(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Rn(e.elements.popper,i)&&(e.elements.arrow=i))}var ud={name:"arrow",enabled:!0,phase:"main",fn:Bb,effect:$b,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ht(t){return t.split("-")[1]}var jb={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qb(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:Ut(r*i)/i||0,y:Ut(n*i)/i||0}}function dd(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,l=t.position,u=t.gpuAcceleration,g=t.adaptive,y=t.roundOffsets,k=t.isFixed,_=o.x,B=_===void 0?0:_,W=o.y,H=W===void 0?0:W,R=typeof y=="function"?y({x:B,y:H}):{x:B,y:H};B=R.x,H=R.y;var S=o.hasOwnProperty("x"),O=o.hasOwnProperty("y"),m=Pe,d=Te,x=window;if(g){var v=Et(r),G="clientHeight",re="clientWidth";if(v===Oe(r)&&(v=Ge(r),rt(v).position!=="static"&&l==="absolute"&&(G="scrollHeight",re="scrollWidth")),v=v,i===Te||(i===Pe||i===Ie)&&s===vr){d=Re;var K=k&&v===x&&x.visualViewport?x.visualViewport.height:v[G];H-=K-n.height,H*=u?1:-1}if(i===Pe||(i===Te||i===Re)&&s===vr){m=Ie;var Z=k&&v===x&&x.visualViewport?x.visualViewport.width:v[re];B-=Z-n.width,B*=u?1:-1}}var ce=Object.assign({position:l},g&&jb),ie=y===!0?qb({x:B,y:H},Oe(r)):{x:B,y:H};if(B=ie.x,H=ie.y,u){var I;return Object.assign({},ce,(I={},I[d]=O?"0":"",I[m]=S?"0":"",I.transform=(x.devicePixelRatio||1)<=1?"translate("+B+"px, "+H+"px)":"translate3d("+B+"px, "+H+"px, 0)",I))}return Object.assign({},ce,(e={},e[d]=O?H+"px":"",e[m]=S?B+"px":"",e.transform="",e))}function Vb(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,l=r.roundOffsets,u=l===void 0?!0:l,g={placement:qe(e.placement),variation:ht(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,dd(Object.assign({},g,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,dd(Object.assign({},g,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var hd={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Vb,data:{}};var Yi={passive:!0};function Hb(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,o=n.resize,l=o===void 0?!0:o,u=Oe(e.elements.popper),g=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&g.forEach(function(y){y.addEventListener("scroll",r.update,Yi)}),l&&u.addEventListener("resize",r.update,Yi),function(){s&&g.forEach(function(y){y.removeEventListener("scroll",r.update,Yi)}),l&&u.removeEventListener("resize",r.update,Yi)}}var fd={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Hb,data:{}};var Wb={left:"right",right:"left",bottom:"top",top:"bottom"};function Kr(t){return t.replace(/left|right|bottom|top/g,function(e){return Wb[e]})}var Ub={start:"end",end:"start"};function Zi(t){return t.replace(/start|end/g,function(e){return Ub[e]})}function xr(t){var e=Oe(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Or(t){return dt(Ge(t)).left+xr(t).scrollLeft}function Ma(t,e){var r=Oe(t),n=Ge(t),i=r.visualViewport,s=n.clientWidth,o=n.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;var g=In();(g||!g&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l+Or(t),y:u}}function Ia(t){var e,r=Ge(t),n=xr(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=wt(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=wt(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-n.scrollLeft+Or(t),u=-n.scrollTop;return rt(i||r).direction==="rtl"&&(l+=wt(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:l,y:u}}function Sr(t){var e=rt(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function es(t){return["html","body","#document"].indexOf(je(t))>=0?t.ownerDocument.body:De(t)&&Sr(t)?t:es(zt(t))}function ir(t,e){var r;e===void 0&&(e=[]);var n=es(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=Oe(n),o=i?[s].concat(s.visualViewport||[],Sr(n)?n:[]):n,l=e.concat(o);return i?l:l.concat(ir(zt(o)))}function Gr(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function zb(t,e){var r=dt(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function pd(t,e,r){return e===Qi?Gr(Ma(t,r)):ut(e)?zb(e,r):Gr(Ia(Ge(t)))}function Kb(t){var e=ir(zt(t)),r=["absolute","fixed"].indexOf(rt(t).position)>=0,n=r&&De(t)?Et(t):t;return ut(n)?e.filter(function(i){return ut(i)&&Rn(i,n)&&je(i)!=="body"}):[]}function Ra(t,e,r,n){var i=e==="clippingParents"?Kb(t):[].concat(e),s=[].concat(i,[r]),o=s[0],l=s.reduce(function(u,g){var y=pd(t,g,n);return u.top=wt(y.top,u.top),u.right=yr(y.right,u.right),u.bottom=yr(y.bottom,u.bottom),u.left=wt(y.left,u.left),u},pd(t,o,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function $n(t){var e=t.reference,r=t.element,n=t.placement,i=n?qe(n):null,s=n?ht(n):null,o=e.x+e.width/2-r.width/2,l=e.y+e.height/2-r.height/2,u;switch(i){case Te:u={x:o,y:e.y-r.height};break;case Re:u={x:o,y:e.y+e.height};break;case Ie:u={x:e.x+e.width,y:l};break;case Pe:u={x:e.x-r.width,y:l};break;default:u={x:e.x,y:e.y}}var g=i?wr(i):null;if(g!=null){var y=g==="y"?"height":"width";switch(s){case Wt:u[g]=u[g]-(e[y]/2-r[y]/2);break;case vr:u[g]=u[g]+(e[y]/2-r[y]/2);break;default:}}return u}function xt(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.strategy,o=s===void 0?t.strategy:s,l=r.boundary,u=l===void 0?sd:l,g=r.rootBoundary,y=g===void 0?Qi:g,k=r.elementContext,_=k===void 0?Wr:k,B=r.altBoundary,W=B===void 0?!1:B,H=r.padding,R=H===void 0?0:H,S=Nn(typeof R!="number"?R:Bn(R,nr)),O=_===Wr?od:Wr,m=t.rects.popper,d=t.elements[W?O:_],x=Ra(ut(d)?d:d.contextElement||Ge(t.elements.popper),u,y,o),v=dt(t.elements.reference),G=$n({reference:v,element:m,strategy:"absolute",placement:i}),re=Gr(Object.assign({},m,G)),K=_===Wr?re:v,Z={top:x.top-K.top+S.top,bottom:K.bottom-x.bottom+S.bottom,left:x.left-K.left+S.left,right:K.right-x.right+S.right},ce=t.modifiersData.offset;if(_===Wr&&ce){var ie=ce[i];Object.keys(Z).forEach(function(I){var E=[Ie,Re].indexOf(I)>=0?1:-1,C=[Te,Re].indexOf(I)>=0?"y":"x";Z[I]+=ie[C]*E})}return Z}function Da(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,o=r.padding,l=r.flipVariations,u=r.allowedAutoPlacements,g=u===void 0?Ji:u,y=ht(n),k=y?l?Pa:Pa.filter(function(W){return ht(W)===y}):nr,_=k.filter(function(W){return g.indexOf(W)>=0});_.length===0&&(_=k);var B=_.reduce(function(W,H){return W[H]=xt(t,{placement:H,boundary:i,rootBoundary:s,padding:o})[qe(H)],W},{});return Object.keys(B).sort(function(W,H){return B[W]-B[H]})}function Gb(t){if(qe(t)===Xi)return[];var e=Kr(t);return[Zi(t),e,Zi(e)]}function Xb(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,l=o===void 0?!0:o,u=r.fallbackPlacements,g=r.padding,y=r.boundary,k=r.rootBoundary,_=r.altBoundary,B=r.flipVariations,W=B===void 0?!0:B,H=r.allowedAutoPlacements,R=e.options.placement,S=qe(R),O=S===R,m=u||(O||!W?[Kr(R)]:Gb(R)),d=[R].concat(m).reduce(function(ee,se){return ee.concat(qe(se)===Xi?Da(e,{placement:se,boundary:y,rootBoundary:k,padding:g,flipVariations:W,allowedAutoPlacements:H}):se)},[]),x=e.rects.reference,v=e.rects.popper,G=new Map,re=!0,K=d[0],Z=0;Z<d.length;Z++){var ce=d[Z],ie=qe(ce),I=ht(ce)===Wt,E=[Te,Re].indexOf(ie)>=0,C=E?"width":"height",P=xt(e,{placement:ce,boundary:y,rootBoundary:k,altBoundary:_,padding:g}),M=E?I?Ie:Pe:I?Re:Te;x[C]>v[C]&&(M=Kr(M));var L=Kr(M),D=[];if(s&&D.push(P[ie]<=0),l&&D.push(P[M]<=0,P[L]<=0),D.every(function(ee){return ee})){K=ce,re=!1;break}G.set(ce,D)}if(re)for(var q=W?3:1,N=function(se){var ae=d.find(function(le){var ne=G.get(le);if(ne)return ne.slice(0,se).every(function(We){return We})});if(ae)return K=ae,"break"},U=q;U>0;U--){var X=N(U);if(X==="break")break}e.placement!==K&&(e.modifiersData[n]._skip=!0,e.placement=K,e.reset=!0)}}var md={name:"flip",enabled:!0,phase:"main",fn:Xb,requiresIfExists:["offset"],data:{_skip:!1}};function gd(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function vd(t){return[Te,Ie,Re,Pe].some(function(e){return t[e]>=0})}function Qb(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=xt(e,{elementContext:"reference"}),l=xt(e,{altBoundary:!0}),u=gd(o,n),g=gd(l,i,s),y=vd(u),k=vd(g);e.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:g,isReferenceHidden:y,hasPopperEscaped:k},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":k})}var yd={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qb};function Jb(t,e,r){var n=qe(t),i=[Pe,Te].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],l=s[1];return o=o||0,l=(l||0)*i,[Pe,Ie].indexOf(n)>=0?{x:l,y:o}:{x:o,y:l}}function Yb(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,o=Ji.reduce(function(y,k){return y[k]=Jb(k,e.rects,s),y},{}),l=o[e.placement],u=l.x,g=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=g),e.modifiersData[n]=o}var bd={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Yb};function Zb(t){var e=t.state,r=t.name;e.modifiersData[r]=$n({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var wd={name:"popperOffsets",enabled:!0,phase:"read",fn:Zb,data:{}};function Na(t){return t==="x"?"y":"x"}function e0(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,l=o===void 0?!1:o,u=r.boundary,g=r.rootBoundary,y=r.altBoundary,k=r.padding,_=r.tether,B=_===void 0?!0:_,W=r.tetherOffset,H=W===void 0?0:W,R=xt(e,{boundary:u,rootBoundary:g,padding:k,altBoundary:y}),S=qe(e.placement),O=ht(e.placement),m=!O,d=wr(S),x=Na(d),v=e.modifiersData.popperOffsets,G=e.rects.reference,re=e.rects.popper,K=typeof H=="function"?H(Object.assign({},e.rects,{placement:e.placement})):H,Z=typeof K=="number"?{mainAxis:K,altAxis:K}:Object.assign({mainAxis:0,altAxis:0},K),ce=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ie={x:0,y:0};if(v){if(s){var I,E=d==="y"?Te:Pe,C=d==="y"?Re:Ie,P=d==="y"?"height":"width",M=v[d],L=M+R[E],D=M-R[C],q=B?-re[P]/2:0,N=O===Wt?G[P]:re[P],U=O===Wt?-re[P]:-G[P],X=e.elements.arrow,ee=B&&X?br(X):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Dn(),ae=se[E],le=se[C],ne=Er(0,G[P],ee[P]),We=m?G[P]/2-q-ne-ae-Z.mainAxis:N-ne-ae-Z.mainAxis,nt=m?-G[P]/2+q+ne+le+Z.mainAxis:U+ne+le+Z.mainAxis,Je=e.elements.arrow&&Et(e.elements.arrow),Se=Je?d==="y"?Je.clientTop||0:Je.clientLeft||0:0,ge=(I=ce?.[d])!=null?I:0,ft=M+We-ge-Se,pt=M+nt-ge,Rt=Er(B?yr(L,ft):L,M,B?wt(D,pt):D);v[d]=Rt,ie[d]=Rt-M}if(l){var At,fe=d==="x"?Te:Pe,ve=d==="x"?Re:Ie,Fe=v[x],Ye=x==="y"?"height":"width",mt=Fe+R[fe],$e=Fe-R[ve],it=[Te,Pe].indexOf(S)!==-1,st=(At=ce?.[x])!=null?At:0,ye=it?mt:Fe-G[Ye]-re[Ye]-st+Z.altAxis,f=it?Fe+G[Ye]+re[Ye]-st-Z.altAxis:$e,a=B&&it?cd(ye,Fe,f):Er(B?ye:mt,Fe,B?f:$e);v[x]=a,ie[x]=a-Fe}e.modifiersData[n]=ie}}var Ed={name:"preventOverflow",enabled:!0,phase:"main",fn:e0,requiresIfExists:["offset"]};function Ba(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function $a(t){return t===Oe(t)||!De(t)?xr(t):Ba(t)}function t0(t){var e=t.getBoundingClientRect(),r=Ut(e.width)/t.offsetWidth||1,n=Ut(e.height)/t.offsetHeight||1;return r!==1||n!==1}function ja(t,e,r){r===void 0&&(r=!1);var n=De(e),i=De(e)&&t0(e),s=Ge(e),o=dt(t,i,r),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((je(e)!=="body"||Sr(s))&&(l=$a(e)),De(e)?(u=dt(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=Or(s))),{x:o.left+l.scrollLeft-u.x,y:o.top+l.scrollTop-u.y,width:o.width,height:o.height}}function r0(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!r.has(l)){var u=e.get(l);u&&i(u)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function qa(t){var e=r0(t);return ad.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function Va(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Ha(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var xd={placement:"bottom",modifiers:[],strategy:"absolute"};function Od(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Sd(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?xd:i;return function(l,u,g){g===void 0&&(g=s);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},xd,s),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},k=[],_=!1,B={state:y,setOptions:function(S){var O=typeof S=="function"?S(y.options):S;H(),y.options=Object.assign({},s,y.options,O),y.scrollParents={reference:ut(l)?ir(l):l.contextElement?ir(l.contextElement):[],popper:ir(u)};var m=qa(Ha([].concat(n,y.options.modifiers)));return y.orderedModifiers=m.filter(function(d){return d.enabled}),W(),B.update()},forceUpdate:function(){if(!_){var S=y.elements,O=S.reference,m=S.popper;if(Od(O,m)){y.rects={reference:ja(O,Et(m),y.options.strategy==="fixed"),popper:br(m)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(Z){return y.modifiersData[Z.name]=Object.assign({},Z.data)});for(var d=0;d<y.orderedModifiers.length;d++){if(y.reset===!0){y.reset=!1,d=-1;continue}var x=y.orderedModifiers[d],v=x.fn,G=x.options,re=G===void 0?{}:G,K=x.name;typeof v=="function"&&(y=v({state:y,options:re,name:K,instance:B})||y)}}}},update:Va(function(){return new Promise(function(R){B.forceUpdate(),R(y)})}),destroy:function(){H(),_=!0}};if(!Od(l,u))return B;B.setOptions(g).then(function(R){!_&&g.onFirstUpdate&&g.onFirstUpdate(R)});function W(){y.orderedModifiers.forEach(function(R){var S=R.name,O=R.options,m=O===void 0?{}:O,d=R.effect;if(typeof d=="function"){var x=d({state:y,name:S,instance:B,options:m}),v=function(){};k.push(x||v)}})}function H(){k.forEach(function(R){return R()}),k=[]}return B}}var n0=[fd,wd,hd,Mn,bd,md,Ed,ud,yd],jn=Sd({defaultModifiers:n0});var Ad=usePopper=(t={})=>({popperInstance:null,options:i0(t),isShowPopper:!1,init(){this.$nextTick(()=>this.popperInstance=jn(this.$refs.popperRef,this.$refs.popperRoot,this.options)),this.$watch("isShowPopper",e=>e&&this.popperInstance.update()),Alpine.effect(()=>Alpine.store("breakpoints").name&&(this.isShowPopper=!1))},isClickOutside(e){return!this.$refs.popperRef.contains(e.target)&&!this.$refs.popperRoot.contains(e.target)},hidePopperWhenOutside(e){this.isClickOutside(e)&&this.hidePopper()},togglePopper(){this.isShowPopper=!this.isShowPopper},hidePopper(){this.isShowPopper&&(this.isShowPopper=!1)}}),i0=t=>{let e={placement:t.placement??"auto",strategy:t.strategy??"fixed",onFirstUpdate:t.onFirstUpdate??function(){},modifiers:[{name:"offset",options:{offset:[0,t.offset??0]}}]};return t.modifiers&&e.modifiers.push(...t.modifiers),e};function _d(t,e,r={}){let n=document.getElementById(t);n?n.dispatchEvent(new CustomEvent(e,{detail:r,bubbles:!0,composed:!0,cancelable:!0})):console.warn(`Could not dispatch ${e} event on #${t}. Element not found.`)}var Cd={init(){this.update(),window.addEventListener("resize",this.onResize.bind(this),{passive:!0})},height:0,width:0,name:"",isBreakpointChanged:!1,isXs:!1,isSm:!1,isMd:!1,isLg:!1,isXl:!1,is2xl:!1,smAndDown:!1,smAndUp:!1,mdAndDown:!1,mdAndUp:!1,lgAndDown:!1,lgAndUp:!1,xlAndDown:!1,xlAndUp:!1,sm:640,md:768,lg:1024,xl:1280,the2xl:1536,update(){let t=window.innerHeight,e=window.innerWidth,r=e<this.sm,n=e<this.md&&!r,i=e<this.lg&&!(n||r),s=e<this.xl&&!(i||n||r),o=e<this.the2xl&&!(s||i||n||r),l=e>=this.the2xl;this.height=t,this.width=e,this.isXs=r,this.isSm=n,this.isMd=i,this.isLg=s,this.isXl=o,this.is2xl=l,this.smAndDown=(r||n)&&!(i||s||o||l),this.smAndUp=!r&&(n||i||s||o||l),this.mdAndDown=(r||n||i)&&!(s||o||l),this.mdAndUp=!(r||n)&&(i||s||o||l),this.lgAndDown=(r||n||i||s)&&!(o||l),this.lgAndUp=!(r||n||i)&&(s||o||l),this.xlAndDown=(r||n||i||s||o)&&!l,this.xlAndUp=!(r||n||i||s)&&(o||l),r&&(this.name="xs"),n&&(this.name="sm"),i&&(this.name="md"),s&&(this.name="lg"),o&&(this.name="xl"),l&&(this.name="2xl"),document.documentElement.style.setProperty("--vh",`${t*.01}px`)},onResize(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.update.bind(this),175)}};var Nd='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',s0="tippy-box",Bd="tippy-content",o0="tippy-backdrop",$d="tippy-arrow",jd="tippy-svg-arrow",Ar={passive:!0,capture:!0},qd=function(){return document.body};function Wa(t,e,r){if(Array.isArray(t)){var n=t[e];return n??(Array.isArray(r)?r[e]:r)}return t}function Ja(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function Vd(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Td(t,e){if(e===0)return t;var r;return function(n){clearTimeout(r),r=setTimeout(function(){t(n)},e)}}function a0(t){return t.split(/\s+/).filter(Boolean)}function Xr(t){return[].concat(t)}function kd(t,e){t.indexOf(e)===-1&&t.push(e)}function l0(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function c0(t){return t.split("-")[0]}function ns(t){return[].slice.call(t)}function Ld(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function qn(){return document.createElement("div")}function is(t){return["Element","Fragment"].some(function(e){return Ja(t,e)})}function u0(t){return Ja(t,"NodeList")}function Hd(t){return Ja(t,"MouseEvent")}function d0(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function h0(t){return is(t)?[t]:u0(t)?ns(t):Array.isArray(t)?t:ns(document.querySelectorAll(t))}function Ua(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function Pd(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function Wd(t){var e,r=Xr(t),n=r[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function f0(t,e){var r=e.clientX,n=e.clientY;return t.every(function(i){var s=i.popperRect,o=i.popperState,l=i.props,u=l.interactiveBorder,g=c0(o.placement),y=o.modifiersData.offset;if(!y)return!0;var k=g==="bottom"?y.top.y:0,_=g==="top"?y.bottom.y:0,B=g==="right"?y.left.x:0,W=g==="left"?y.right.x:0,H=s.top-n+k>u,R=n-s.bottom-_>u,S=s.left-r+B>u,O=r-s.right-W>u;return H||R||S||O})}function za(t,e,r){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[n](i,r)})}function Fd(t,e){for(var r=e;r;){var n;if(t.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var Pt={isTouch:!1},Md=0;function p0(){Pt.isTouch||(Pt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ud))}function Ud(){var t=performance.now();t-Md<20&&(Pt.isTouch=!1,document.removeEventListener("mousemove",Ud)),Md=t}function m0(){var t=document.activeElement;if(d0(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function g0(){document.addEventListener("touchstart",p0,Ar),window.addEventListener("blur",m0)}var v0=typeof window<"u"&&typeof document<"u",y0=v0?!!window.msCrypto:!1;var b0={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},w0={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ot=Object.assign({appendTo:qd,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},b0,w0),E0=Object.keys(Ot),x0=function(e){var r=Object.keys(e);r.forEach(function(n){Ot[n]=e[n]})};function zd(t){var e=t.plugins||[],r=e.reduce(function(n,i){var s=i.name,o=i.defaultValue;if(s){var l;n[s]=t[s]!==void 0?t[s]:(l=Ot[s])!=null?l:o}return n},{});return Object.assign({},t,r)}function O0(t,e){var r=e?Object.keys(zd(Object.assign({},Ot,{plugins:e}))):E0,n=r.reduce(function(i,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return n}function Id(t,e){var r=Object.assign({},e,{content:Vd(e.content,[t])},e.ignoreAttributes?{}:O0(t,e.plugins));return r.aria=Object.assign({},Ot.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var S0=function(){return"innerHTML"};function Ga(t,e){t[S0()]=e}function Rd(t){var e=qn();return t===!0?e.className=$d:(e.className=jd,is(t)?e.appendChild(t):Ga(e,t)),e}function Dd(t,e){is(e.content)?(Ga(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Ga(t,e.content):t.textContent=e.content)}function Xa(t){var e=t.firstElementChild,r=ns(e.children);return{box:e,content:r.find(function(n){return n.classList.contains(Bd)}),arrow:r.find(function(n){return n.classList.contains($d)||n.classList.contains(jd)}),backdrop:r.find(function(n){return n.classList.contains(o0)})}}function Kd(t){var e=qn(),r=qn();r.className=s0,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=qn();n.className=Bd,n.setAttribute("data-state","hidden"),Dd(n,t.props),e.appendChild(r),r.appendChild(n),i(t.props,t.props);function i(s,o){var l=Xa(e),u=l.box,g=l.content,y=l.arrow;o.theme?u.setAttribute("data-theme",o.theme):u.removeAttribute("data-theme"),typeof o.animation=="string"?u.setAttribute("data-animation",o.animation):u.removeAttribute("data-animation"),o.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?u.setAttribute("role",o.role):u.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&Dd(g,t.props),o.arrow?y?s.arrow!==o.arrow&&(u.removeChild(y),u.appendChild(Rd(o.arrow))):u.appendChild(Rd(o.arrow)):y&&u.removeChild(y)}return{popper:e,onUpdate:i}}Kd.$$tippy=!0;var A0=1,ts=[],Ka=[];function _0(t,e){var r=Id(t,Object.assign({},Ot,zd(Ld(e)))),n,i,s,o=!1,l=!1,u=!1,g=!1,y,k,_,B=[],W=Td(ft,r.interactiveDebounce),H,R=A0++,S=null,O=l0(r.plugins),m={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},d={id:R,reference:t,popper:qn(),popperInstance:S,props:r,state:m,plugins:O,clearDelayTimeouts:ye,setProps:f,setContent:a,show:c,hide:h,hideWithInteractivity:p,enable:it,disable:st,unmount:b,destroy:A};if(!r.render)return d;var x=r.render(d),v=x.popper,G=x.onUpdate;v.setAttribute("data-tippy-root",""),v.id="tippy-"+d.id,d.popper=v,t._tippy=d,v._tippy=d;var re=O.map(function(w){return w.fn(d)}),K=t.hasAttribute("aria-expanded");return Je(),q(),M(),L("onCreate",[d]),r.showOnCreate&&mt(),v.addEventListener("mouseenter",function(){d.props.interactive&&d.state.isVisible&&d.clearDelayTimeouts()}),v.addEventListener("mouseleave",function(){d.props.interactive&&d.props.trigger.indexOf("mouseenter")>=0&&E().addEventListener("mousemove",W)}),d;function Z(){var w=d.props.touch;return Array.isArray(w)?w:[w,0]}function ce(){return Z()[0]==="hold"}function ie(){var w;return!!((w=d.props.render)!=null&&w.$$tippy)}function I(){return H||t}function E(){var w=I().parentNode;return w?Wd(w):document}function C(){return Xa(v)}function P(w){return d.state.isMounted&&!d.state.isVisible||Pt.isTouch||y&&y.type==="focus"?0:Wa(d.props.delay,w?0:1,Ot.delay)}function M(w){w===void 0&&(w=!1),v.style.pointerEvents=d.props.interactive&&!w?"":"none",v.style.zIndex=""+d.props.zIndex}function L(w,F,T){if(T===void 0&&(T=!0),re.forEach(function(j){j[w]&&j[w].apply(j,F)}),T){var V;(V=d.props)[w].apply(V,F)}}function D(){var w=d.props.aria;if(w.content){var F="aria-"+w.content,T=v.id,V=Xr(d.props.triggerTarget||t);V.forEach(function(j){var Q=j.getAttribute(F);if(d.state.isVisible)j.setAttribute(F,Q?Q+" "+T:T);else{var ue=Q&&Q.replace(T,"").trim();ue?j.setAttribute(F,ue):j.removeAttribute(F)}})}}function q(){if(!(K||!d.props.aria.expanded)){var w=Xr(d.props.triggerTarget||t);w.forEach(function(F){d.props.interactive?F.setAttribute("aria-expanded",d.state.isVisible&&F===I()?"true":"false"):F.removeAttribute("aria-expanded")})}}function N(){E().removeEventListener("mousemove",W),ts=ts.filter(function(w){return w!==W})}function U(w){if(!(Pt.isTouch&&(u||w.type==="mousedown"))){var F=w.composedPath&&w.composedPath()[0]||w.target;if(!(d.props.interactive&&Fd(v,F))){if(Xr(d.props.triggerTarget||t).some(function(T){return Fd(T,F)})){if(Pt.isTouch||d.state.isVisible&&d.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[d,w]);d.props.hideOnClick===!0&&(d.clearDelayTimeouts(),d.hide(),l=!0,setTimeout(function(){l=!1}),d.state.isMounted||ae())}}}function X(){u=!0}function ee(){u=!1}function se(){var w=E();w.addEventListener("mousedown",U,!0),w.addEventListener("touchend",U,Ar),w.addEventListener("touchstart",ee,Ar),w.addEventListener("touchmove",X,Ar)}function ae(){var w=E();w.removeEventListener("mousedown",U,!0),w.removeEventListener("touchend",U,Ar),w.removeEventListener("touchstart",ee,Ar),w.removeEventListener("touchmove",X,Ar)}function le(w,F){We(w,function(){!d.state.isVisible&&v.parentNode&&v.parentNode.contains(v)&&F()})}function ne(w,F){We(w,F)}function We(w,F){var T=C().box;function V(j){j.target===T&&(za(T,"remove",V),F())}if(w===0)return F();za(T,"remove",k),za(T,"add",V),k=V}function nt(w,F,T){T===void 0&&(T=!1);var V=Xr(d.props.triggerTarget||t);V.forEach(function(j){j.addEventListener(w,F,T),B.push({node:j,eventType:w,handler:F,options:T})})}function Je(){ce()&&(nt("touchstart",ge,{passive:!0}),nt("touchend",pt,{passive:!0})),a0(d.props.trigger).forEach(function(w){if(w!=="manual")switch(nt(w,ge),w){case"mouseenter":nt("mouseleave",pt);break;case"focus":nt(y0?"focusout":"blur",Rt);break;case"focusin":nt("focusout",Rt);break}})}function Se(){B.forEach(function(w){var F=w.node,T=w.eventType,V=w.handler,j=w.options;F.removeEventListener(T,V,j)}),B=[]}function ge(w){var F,T=!1;if(!(!d.state.isEnabled||At(w)||l)){var V=((F=y)==null?void 0:F.type)==="focus";y=w,H=w.currentTarget,q(),!d.state.isVisible&&Hd(w)&&ts.forEach(function(j){return j(w)}),w.type==="click"&&(d.props.trigger.indexOf("mouseenter")<0||o)&&d.props.hideOnClick!==!1&&d.state.isVisible?T=!0:mt(w),w.type==="click"&&(o=!T),T&&!V&&$e(w)}}function ft(w){var F=w.target,T=I().contains(F)||v.contains(F);if(!(w.type==="mousemove"&&T)){var V=Ye().concat(v).map(function(j){var Q,ue=j._tippy,z=(Q=ue.popperInstance)==null?void 0:Q.state;return z?{popperRect:j.getBoundingClientRect(),popperState:z,props:r}:null}).filter(Boolean);f0(V,w)&&(N(),$e(w))}}function pt(w){var F=At(w)||d.props.trigger.indexOf("click")>=0&&o;if(!F){if(d.props.interactive){d.hideWithInteractivity(w);return}$e(w)}}function Rt(w){d.props.trigger.indexOf("focusin")<0&&w.target!==I()||d.props.interactive&&w.relatedTarget&&v.contains(w.relatedTarget)||$e(w)}function At(w){return Pt.isTouch?ce()!==w.type.indexOf("touch")>=0:!1}function fe(){ve();var w=d.props,F=w.popperOptions,T=w.placement,V=w.offset,j=w.getReferenceClientRect,Q=w.moveTransition,ue=ie()?Xa(v).arrow:null,z=j?{getBoundingClientRect:j,contextElement:j.contextElement||I()}:t,Ze={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Y){var oe=Y.state;if(ie()){var Ee=C(),pe=Ee.box;["placement","reference-hidden","escaped"].forEach(function(be){be==="placement"?pe.setAttribute("data-placement",oe.placement):oe.attributes.popper["data-popper-"+be]?pe.setAttribute("data-"+be,""):pe.removeAttribute("data-"+be)}),oe.attributes.popper={}}}},Xe=[{name:"offset",options:{offset:V}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Q}},Ze];ie()&&ue&&Xe.push({name:"arrow",options:{element:ue,padding:3}}),Xe.push.apply(Xe,F?.modifiers||[]),d.popperInstance=jn(z,v,Object.assign({},F,{placement:T,onFirstUpdate:_,modifiers:Xe}))}function ve(){d.popperInstance&&(d.popperInstance.destroy(),d.popperInstance=null)}function Fe(){var w=d.props.appendTo,F,T=I();d.props.interactive&&w===qd||w==="parent"?F=T.parentNode:F=Vd(w,[T]),F.contains(v)||F.appendChild(v),d.state.isMounted=!0,fe()}function Ye(){return ns(v.querySelectorAll("[data-tippy-root]"))}function mt(w){d.clearDelayTimeouts(),w&&L("onTrigger",[d,w]),se();var F=P(!0),T=Z(),V=T[0],j=T[1];Pt.isTouch&&V==="hold"&&j&&(F=j),F?n=setTimeout(function(){d.show()},F):d.show()}function $e(w){if(d.clearDelayTimeouts(),L("onUntrigger",[d,w]),!d.state.isVisible){ae();return}if(!(d.props.trigger.indexOf("mouseenter")>=0&&d.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(w.type)>=0&&o)){var F=P(!1);F?i=setTimeout(function(){d.state.isVisible&&d.hide()},F):s=requestAnimationFrame(function(){d.hide()})}}function it(){d.state.isEnabled=!0}function st(){d.hide(),d.state.isEnabled=!1}function ye(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(s)}function f(w){if(!d.state.isDestroyed){L("onBeforeUpdate",[d,w]),Se();var F=d.props,T=Id(t,Object.assign({},F,Ld(w),{ignoreAttributes:!0}));d.props=T,Je(),F.interactiveDebounce!==T.interactiveDebounce&&(N(),W=Td(ft,T.interactiveDebounce)),F.triggerTarget&&!T.triggerTarget?Xr(F.triggerTarget).forEach(function(V){V.removeAttribute("aria-expanded")}):T.triggerTarget&&t.removeAttribute("aria-expanded"),q(),M(),G&&G(F,T),d.popperInstance&&(fe(),Ye().forEach(function(V){requestAnimationFrame(V._tippy.popperInstance.forceUpdate)})),L("onAfterUpdate",[d,w])}}function a(w){d.setProps({content:w})}function c(){var w=d.state.isVisible,F=d.state.isDestroyed,T=!d.state.isEnabled,V=Pt.isTouch&&!d.props.touch,j=Wa(d.props.duration,0,Ot.duration);if(!(w||F||T||V)&&!I().hasAttribute("disabled")&&(L("onShow",[d],!1),d.props.onShow(d)!==!1)){if(d.state.isVisible=!0,ie()&&(v.style.visibility="visible"),M(),se(),d.state.isMounted||(v.style.transition="none"),ie()){var Q=C(),ue=Q.box,z=Q.content;Ua([ue,z],0)}_=function(){var Xe;if(!(!d.state.isVisible||g)){if(g=!0,v.offsetHeight,v.style.transition=d.props.moveTransition,ie()&&d.props.animation){var et=C(),Y=et.box,oe=et.content;Ua([Y,oe],j),Pd([Y,oe],"visible")}D(),q(),kd(Ka,d),(Xe=d.popperInstance)==null||Xe.forceUpdate(),L("onMount",[d]),d.props.animation&&ie()&&ne(j,function(){d.state.isShown=!0,L("onShown",[d])})}},Fe()}}function h(){var w=!d.state.isVisible,F=d.state.isDestroyed,T=!d.state.isEnabled,V=Wa(d.props.duration,1,Ot.duration);if(!(w||F||T)&&(L("onHide",[d],!1),d.props.onHide(d)!==!1)){if(d.state.isVisible=!1,d.state.isShown=!1,g=!1,o=!1,ie()&&(v.style.visibility="hidden"),N(),ae(),M(!0),ie()){var j=C(),Q=j.box,ue=j.content;d.props.animation&&(Ua([Q,ue],V),Pd([Q,ue],"hidden"))}D(),q(),d.props.animation?ie()&&le(V,d.unmount):d.unmount()}}function p(w){E().addEventListener("mousemove",W),kd(ts,W),W(w)}function b(){d.state.isVisible&&d.hide(),d.state.isMounted&&(ve(),Ye().forEach(function(w){w._tippy.unmount()}),v.parentNode&&v.parentNode.removeChild(v),Ka=Ka.filter(function(w){return w!==d}),d.state.isMounted=!1,L("onHidden",[d]))}function A(){d.state.isDestroyed||(d.clearDelayTimeouts(),d.unmount(),Se(),delete t._tippy,d.state.isDestroyed=!0,L("onDestroy",[d]))}}function Vn(t,e){e===void 0&&(e={});var r=Ot.plugins.concat(e.plugins||[]);g0();var n=Object.assign({},e,{plugins:r}),i=h0(t);if(0)var s,o;var l=i.reduce(function(u,g){var y=g&&_0(g,n);return y&&u.push(y),u},[]);return is(t)?l[0]:l}Vn.defaultProps=Ot;Vn.setDefaultProps=x0;Vn.currentInput=Pt;var i_=Object.assign({},Mn,{effect:function(e){var r=e.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});var Qa={clientX:0,clientY:0},rs=[];function Gd(t){var e=t.clientX,r=t.clientY;Qa={clientX:e,clientY:r}}function C0(t){t.addEventListener("mousemove",Gd)}function T0(t){t.removeEventListener("mousemove",Gd)}var Xd={name:"followCursor",defaultValue:!1,fn:function(e){var r=e.reference,n=Wd(e.props.triggerTarget||r),i=!1,s=!1,o=!0,l=e.props;function u(){return e.props.followCursor==="initial"&&e.state.isVisible}function g(){n.addEventListener("mousemove",_)}function y(){n.removeEventListener("mousemove",_)}function k(){i=!0,e.setProps({getReferenceClientRect:null}),i=!1}function _(H){var R=H.target?r.contains(H.target):!0,S=e.props.followCursor,O=H.clientX,m=H.clientY,d=r.getBoundingClientRect(),x=O-d.left,v=m-d.top;(R||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var re=r.getBoundingClientRect(),K=O,Z=m;S==="initial"&&(K=re.left+x,Z=re.top+v);var ce=S==="horizontal"?re.top:Z,ie=S==="vertical"?re.right:K,I=S==="horizontal"?re.bottom:Z,E=S==="vertical"?re.left:K;return{width:ie-E,height:I-ce,top:ce,right:ie,bottom:I,left:E}}})}function B(){e.props.followCursor&&(rs.push({instance:e,doc:n}),C0(n))}function W(){rs=rs.filter(function(H){return H.instance!==e}),rs.filter(function(H){return H.doc===n}).length===0&&T0(n)}return{onCreate:B,onDestroy:W,onBeforeUpdate:function(){l=e.props},onAfterUpdate:function(R,S){var O=S.followCursor;i||O!==void 0&&l.followCursor!==O&&(W(),O?(B(),e.state.isMounted&&!s&&!u()&&g()):(y(),k()))},onMount:function(){e.props.followCursor&&!s&&(o&&(_(Qa),o=!1),u()||g())},onTrigger:function(R,S){Hd(S)&&(Qa={clientX:S.clientX,clientY:S.clientY}),s=S.type==="focus"},onHidden:function(){e.props.followCursor&&(k(),y(),o=!0)}}}};Vn.setDefaultProps({render:Kd});var Ya=Vn;function Qd(){return parseInt(document.getElementsByTagName("html")[0].style.getPropertyValue("--max-z-index"))||1e3}function Jd(t){return document.getElementsByTagName("html")[0].style.setProperty("--max-z-index",t),t}var ss=function(){return Jd(Qd()+1)},os=function(){return Jd(Qd()-1)};var Yd=(t,{modifiers:e,expression:r},{evaluateLater:n,effect:i})=>{let s=n(r),o=k0(e);i(()=>{s(l=>{o.content===!0?(o.content=document.querySelector(l).content.cloneNode(!0),o.allowHTML=!0,t.__x_tippy=Ya(t,o)):(t.__x_tippy||(t.__x_tippy=Ya(t,o)),t.__x_tippy.setContent(l))})})},k0=t=>{let e={plugins:[],arrow:Nd,animation:"shift-away",zIndex:10003};if(t.includes("duration")&&(e.duration=parseInt(t[t.indexOf("duration")+1])),t.includes("delay")&&(e.delay=parseInt(t[t.indexOf("delay")+1])),t.includes("cursor")){e.plugins.push(Xd);let r=t[t.indexOf("cursor")+1]??null;["x","y","initial"].includes(r)?(r==="x"&&(e.followCursor="horizontal"),r==="y"&&(e.followCursor="vertical"),r==="initial"&&(e.followCursor="initial")):e.followCursor=!0}return t.includes("on")&&(e.trigger=t[t.indexOf("on")+1]),t.includes("arrowless")&&(e.arrow=!1),t.includes("interactive")&&(e.interactive=!0),t.includes("border")&&e.interactive&&(e.interactiveBorder=parseInt(t[t.indexOf("border")+1])),t.includes("debounce")&&e.interactive&&(e.interactiveDebounce=parseInt(t[t.indexOf("debounce")+1])),t.includes("max-width")&&(e.maxWidth=parseInt(t[t.indexOf("max-width")+1])),t.includes("placement")&&(e.placement=t[t.indexOf("placement")+1]),t.includes("light")&&(e.theme="light"),t.includes("primary")&&(e.theme="primary"),t.includes("secondary")&&(e.theme="secondary"),t.includes("info")&&(e.theme="info"),t.includes("success")&&(e.theme="success"),t.includes("warning")&&(e.theme="warning"),t.includes("error")&&(e.theme="error"),t.includes("sm")&&(e.theme=`${e.theme} is-sm`),t.includes("content")&&(e.theme="content",e.content=!0),t.includes("appendto")&&e.interactive&&(e.appendTo=document.querySelector(t[t.indexOf("appendto")+1])),e.onShow=r=>{r.setProps({zIndex:ss()})},e.onHidden=r=>{os()},e};var as=class extends me{static targets=["container","button"];connect(){this.opened=!1,this.styleBackup={},this.#t()}toggle(t){this.opened?this.close(t):this.open(t)}open(t){let{currentTarget:e}=t;this.#r(e),document.body.classList.add("is-fullscreen"),this.styleBackup={position:this.#e.style.position,top:this.#e.style.top,left:this.#e.style.left,right:this.#e.style.right,bottom:this.#e.style.bottom,zIndex:this.#e.style.zIndex},Object.assign(this.#e.style,{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:ss()}),this.#e.classList.add(...this.#i),this.opened=!0,this.#t()}close(t){Object.assign(this.#e.style,this.styleBackup),this.#e.classList.remove(...this.#i),os(),document.body.classList.remove("is-fullscreen"),this.opened=!1,this.#t(),this.#n()}#t(){this.hasButtonTarget&&(this.buttonTarget.textContent=this.opened?this.#o:this.#s)}#r(t){let e=t.parentElement;for(;e;){let r=window.getComputedStyle(e);if(r.overflow==="auto"||r.overflow==="scroll")break;e=e.parentElement}if(e){let r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=r.top-n.top+e.scrollTop,s=r.left-n.left+e.scrollLeft;this.scrollPosition={element:e,y:e.scrollTop,x:e.scrollLeft}}}#n(){this.scrollPosition?.element&&(this.scrollPosition.element.scrollTop=this.scrollPosition.y,this.scrollPosition.element.scrollLeft=this.scrollPosition.x)}get#e(){return this.hasContainerTarget?this.containerTarget:this.element}get#i(){return(this.data.get("class")||"").split(" ")}get#s(){return this.data.get("open-text")}get#o(){return this.data.get("close-text")}};var L0=(t,e)=>{let r=t[e];return typeof r=="function"?r:(...n)=>{}},P0=(t,e,r)=>{let n=t;return r===!0?n=`${e.identifier}:${t}`:typeof r=="string"&&(n=`${r}:${t}`),n},F0=(t,e,r)=>{let{bubbles:n,cancelable:i,composed:s}=e||{bubbles:!0,cancelable:!0,composed:!0};return e&&Object.assign(r,{originalEvent:e}),new CustomEvent(t,{bubbles:n,cancelable:i,composed:s,detail:r})};var M0={dispatchEvent:!0,eventPrefix:!0},Zd=(t,e={})=>{let{dispatchEvent:r,eventPrefix:n}=Object.assign({},M0,e),i=e?.element||t.element,s=y=>{let[k]=y;if(L0(t,"resize").call(t,k.contentRect),r){let _=P0("resize",t,n),B=F0(_,null,{controller:t,entry:k});i.dispatchEvent(B)}},o=t.disconnect.bind(t),l=new ResizeObserver(s),u=()=>{l.observe(i)},g=()=>{l.unobserve(i)};return Object.assign(t,{disconnect(){g(),o()}}),u(),[u,g]};var Za=class extends me{};Za.debounces=[];var el=class extends me{};el.throttles=[];function tl(t){let e=t.getBoundingClientRect();return t.offsetLeft+e.width}function eh(t){return t.offsetLeft}function th(t){return t.getBoundingClientRect().width}var ls=class extends me{static targets=["container","button","dropdown"];static classes=["hidden"];initialize(){this.foldedNodes=[]}connect(){this.nodes=Array.from(this.container.children),Zd(this,{element:this.containerTarget,dispatchEvent:!1})}resize({width:t}){if(this.resizing){this.queuedResize=t;return}this.containerWidth!=t&&(this.resizing=!0,this.containerWidth==null||this.containerWidth>t?this.#t():this.#r(),this.containerWidth=t,this.resizing=!1,this.queuedResize!=null&&(console.log("process queued resize..."),this.queuedResize<t?this.#t():this.#r(),this.queuedResize=void 0))}#t(){if(this.folding||this.container.children.length<2)return;this.folding=!0;let t=!1;for(let e=this.container.children.length-1;e>=1;e--){let r=this.container.children[e],n=this.container.children[e-1];if(th(r)!=0&&eh(r)<tl(n))if(console.log("node",e,"offsetLeft",eh(r),"leftNodeOffsetRight",tl(n),r),t=!0,this.#i(r))this.#n(n);else for(let i=this.container.children.length-2;i>=e;i--)this.#n(this.container.children[i])}this.folding=!1,t&&(console.log("moved, fold again..."),this.#t())}#r(){if(this.expanding||this.dropdownTarget.children.length==0)return;this.expanding=!0,console.log("expand...");let t=!1,e=this.container.children[this.container.children.length-1],r=this.dropdownTarget.children[0];tl(e)+th(r)<this.container.offsetWidth&&(t=!0,this.#e(r)),this.expanding=!1,t&&(console.log("moved, expand again..."),this.#r())}#n(t){console.log("move node to more",t),this.dropdownTarget.prepend(t),this.buttonTarget.classList.remove(...this.hiddenClasses)}#e(t){console.log("move back to container",t),this.containerTarget.insertBefore(t,this.buttonTarget),this.dropdownTarget.children.length==0&&this.buttonTarget.classList.add(...this.hiddenClasses)}#i(t){return t==this.buttonTarget}get container(){return this.containerTarget||this.element}};var cs=class extends me{static values={above:String,under:String,top:Number,stickedOffset:{type:Number,default:0}};initialize(){this._refreshTopValue=this._refreshTopValue.bind(this)}connect(){this.styleBackup={position:this.element.style.position,top:this.element.style.top},this.hasTopValue?this.element.style.top=`${this.topValue}px`:(document.addEventListener("resize",this._refreshTopValue,{passive:!0}),document.addEventListener("scroll",this._refreshTopValue,{passive:!0})),this.element.style.position="sticky",this.started=!0}disconnect(){this.started=!1,this.hasTopValue||(document.removeEventListener("resize",this._refreshTopValue),document.removeEventListener("scroll",this._refreshTopValue)),Object.assign(this.element.style,this.styleBackup)}pause(){this.disconnect()}resume(){this.connect()}toggle(){this.started?this.pause():this.resume()}_refreshTopValue(){let t=0;this.aboveElement?t=this.aboveElement.getBoundingClientRect().top:this.underElement&&(t=this.underElement.getBoundingClientRect().bottom),this.element.style.top=`${t}px`,this.element.getBoundingClientRect().top<=t+this.stickedOffsetValue?this.data.set("sticked",!0):this.data.delete("sticked")}aboveValueChanged(){this.aboveElement=this.aboveValue&&document.querySelector(this.aboveValue)}underValueChanged(){this.underElement=this.underValue&&document.querySelector(this.underValue)}};var sh=sn(ih()),I0=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,us=class t{static create(e,r){new t(e).create(r)}constructor(e){this.file=e,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(e){this.callback=e,this.md5Buffer=new sh.default.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",r=>this.fileReaderDidLoad(r)),this.fileReader.addEventListener("error",r=>this.fileReaderDidError(r)),this.readNextChunk()}fileReaderDidLoad(e){if(this.md5Buffer.append(e.target.result),!this.readNextChunk()){let r=this.md5Buffer.end(!0),n=btoa(r);this.callback(null,n)}}fileReaderDidError(e){this.callback(`Error reading ${this.file.name}`)}readNextChunk(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){let e=this.chunkIndex*this.chunkSize,r=Math.min(e+this.chunkSize,this.file.size),n=I0.call(this.file,e,r);return this.fileReader.readAsArrayBuffer(n),this.chunkIndex++,!0}else return!1}};function oh(t){let e=rl(document.head,`meta[name="${t}"]`);if(e)return e.getAttribute("content")}function ah(t,e){typeof t=="string"&&(e=t,t=document);let r=t.querySelectorAll(e);return nl(r)}function rl(t,e){return typeof t=="string"&&(e=t,t=document),t.querySelector(e)}function ds(t,e,r={}){let{disabled:n}=t,{bubbles:i,cancelable:s,detail:o}=r,l=document.createEvent("Event");l.initEvent(e,i||!0,s||!0),l.detail=o||{};try{t.disabled=!1,t.dispatchEvent(l)}finally{t.disabled=n}return l}function nl(t){return Array.isArray(t)?t:Array.from?Array.from(t):[].slice.call(t)}var hs=class{constructor(e,r,n){this.file=e,this.attributes={filename:e.name,content_type:e.type||"application/octet-stream",byte_size:e.size,checksum:r},this.xhr=new XMLHttpRequest,this.xhr.open("POST",n,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");let i=oh("csrf-token");i!=null&&this.xhr.setRequestHeader("X-CSRF-Token",i),this.xhr.addEventListener("load",s=>this.requestDidLoad(s)),this.xhr.addEventListener("error",s=>this.requestDidError(s))}get status(){return this.xhr.status}get response(){let{responseType:e,response:r}=this.xhr;return e=="json"?r:JSON.parse(r)}create(e){this.callback=e,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(e){if(this.status>=200&&this.status<300){let{response:r}=this,{direct_upload:n}=r;delete r.direct_upload,this.attributes=r,this.directUploadData=n,this.callback(null,this.toJSON())}else this.requestDidError(e)}requestDidError(e){this.callback(e,this)}toJSON(){let e={};for(let r in this.attributes)e[r]=this.attributes[r];return e}};var fs=class{constructor(e){this.blob=e,this.file=e.file;let{url:r,headers:n,method:i,responseType:s}=e.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open(i||"PUT",r,!0),this.xhr.responseType=s||"text";for(let o in n)this.xhr.setRequestHeader(o,n[o]);this.xhr.addEventListener("load",o=>this.requestDidLoad(o)),this.xhr.addEventListener("error",o=>this.requestDidError(o))}create(e){this.callback=e;let{formData:r}=this.blob.directUploadData;if(r){var n,i;n=new FormData,r[":file"]&&(i=r[":file"],delete r[":file"]);for(let s in r)n.append(s,r[s]);n.append(i||"file",this.file),this.xhr.send(n)}else this.xhr.send(this.file.slice())}requestDidLoad(e){let{status:r,response:n}=this.xhr;r>=200&&r<300?this.callback(null,n):this.requestDidError(e)}requestDidError(e){this.callback(`Error storing "${this.file.name}". Status: ${this.xhr.status}`)}};var R0=0,_r=class{constructor(e,r,n){this.id=++R0,this.file=e,this.url=r,this.delegate=n}create(e){us.create(this.file,(r,n)=>{if(r){e(r);return}let i=new hs(this.file,n,this.url);lh(this.delegate,"directUploadWillCreateBlobWithXHR",i.xhr),i.create(s=>{if(s)e(s);else{let o=new fs(i);lh(this.delegate,"directUploadWillStoreFileWithXHR",o.xhr),o.create(l=>{l?e(l):e(null,i.toJSON())})}})})}};function lh(t,e,...r){if(t&&typeof t[e]=="function")return t[e](...r)}var ps=class{constructor(e,r){this.input=e,this.file=r,this.directUpload=new _r(this.file,this.url,this),this.dispatch("initialize")}start(e){let r=document.createElement("input");r.type="hidden",r.name=this.input.name,this.input.insertAdjacentElement("beforebegin",r),this.dispatch("start"),this.directUpload.create((n,i)=>{let s=!0;n?(s=!1,r.parentNode.removeChild(r),this.dispatchError(n)):r.value=i.signed_id,this.dispatch("end",{success:s}),e(n)})}uploadRequestDidProgress(e){let r=e.loaded/e.total*100;r&&this.dispatch("progress",{progress:r})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(e,r={}){return r.file=this.file,r.id=this.directUpload.id,ds(this.input,`direct-upload:${e}`,{detail:r})}dispatchError(e){this.dispatch("error",{error:e}).defaultPrevented||alert(e.target.response.errors)}directUploadWillCreateBlobWithXHR(e){this.dispatch("before-blob-request",{xhr:e})}directUploadWillStoreFileWithXHR(e){this.dispatch("before-storage-request",{xhr:e}),e.upload.addEventListener("progress",r=>this.uploadRequestDidProgress(r))}};var D0="input[type=file][data-direct-upload-url]:not([disabled])",ms=class{constructor(e){this.form=e,this.inputs=ah(e,D0).filter(r=>r.files.length)}start(e){let r=this.createDirectUploadControllers(),n=()=>{let i=r.shift();i?i.start(s=>{s?(e(s),this.dispatch("end")):n()}):(e(),this.dispatch("end"))};this.dispatch("start"),n()}createDirectUploadControllers(){let e=[];return this.inputs.forEach(r=>{nl(r.files).forEach(n=>{let i=new ps(r,n);e.push(i)})}),e}dispatch(e,r={}){return ds(this.form,`direct-uploads:${e}`,{detail:r})}};var il="data-direct-uploads-processing",sl=new WeakMap,ch=!1;function uh(){ch||(ch=!0,document.addEventListener("click",N0,!0),document.addEventListener("submit",B0,!0),document.addEventListener("ajax:before",$0))}function N0(t){let{target:e}=t;(e.tagName=="INPUT"||e.tagName=="BUTTON")&&e.type=="submit"&&e.form&&sl.set(e.form,e)}function B0(t){dh(t)}function $0(t){t.target.tagName=="FORM"&&dh(t)}function dh(t){let e=t.target;if(e.hasAttribute(il)){t.preventDefault();return}let r=new ms(e),{inputs:n}=r;n.length&&(t.preventDefault(),e.setAttribute(il,""),n.forEach(q0),r.start(i=>{e.removeAttribute(il),i?n.forEach(V0):j0(e)}))}function j0(t){let e=sl.get(t)||rl(t,"input[type=submit], button[type=submit]");if(e){let{disabled:r}=e;e.disabled=!1,e.focus(),e.click(),e.disabled=r}else e=document.createElement("input"),e.type="submit",e.style.display="none",t.appendChild(e),e.click(),t.removeChild(e);sl.delete(t)}function q0(t){t.disabled=!0}function V0(t){t.disabled=!1}function H0(){window.ActiveStorage&&uh()}setTimeout(H0,1);var Hn=class{constructor(e){this.response=e}get statusCode(){return this.response.status}get redirected(){return this.response.redirected}get ok(){return this.response.ok}get unauthenticated(){return this.statusCode===401}get unprocessableEntity(){return this.statusCode===422}get authenticationURL(){return this.response.headers.get("WWW-Authenticate")}get contentType(){return(this.response.headers.get("Content-Type")||"").replace(/;.*$/,"")}get headers(){return this.response.headers}get html(){return this.contentType.match(/^(application|text)\/(html|xhtml\+xml)$/)?this.text:Promise.reject(new Error(`Expected an HTML response but got "${this.contentType}" instead`))}get json(){return this.contentType.match(/^application\/.*json$/)?this.responseJson||(this.responseJson=this.response.json()):Promise.reject(new Error(`Expected a JSON response but got "${this.contentType}" instead`))}get text(){return this.responseText||(this.responseText=this.response.text())}get isTurboStream(){return this.contentType.match(/^text\/vnd\.turbo-stream\.html/)}async renderTurboStream(){if(this.isTurboStream)window.Turbo?await window.Turbo.renderStreamMessage(await this.text):console.warn("You must set `window.Turbo = Turbo` to automatically process Turbo Stream events with request.js");else return Promise.reject(new Error(`Expected a Turbo Stream response but got "${this.contentType}" instead`))}};var Wn=class{static register(e){this.interceptor=e}static get(){return this.interceptor}static reset(){this.interceptor=void 0}};function hh(t){let e=document.cookie?document.cookie.split("; "):[],r=`${encodeURIComponent(t)}=`,n=e.find(i=>i.startsWith(r));if(n){let i=n.split("=").slice(1).join("=");if(i)return decodeURIComponent(i)}}function fh(t){let e={};for(let r in t){let n=t[r];n!==void 0&&(e[r]=n)}return e}function ol(t){let e=document.head.querySelector(`meta[name="${t}"]`);return e&&e.content}function ph(t){return[...t].reduce((e,[r,n])=>e.concat(typeof n=="string"?[[r,n]]:[]),[])}function mh(t,e){for(let[r,n]of e)n instanceof window.File||(t.has(r)?(t.delete(r),t.set(r,n)):t.append(r,n))}var Un=class{constructor(e,r,n={}){this.method=e,this.options=n,this.originalUrl=r.toString()}async perform(){try{let r=Wn.get();r&&await r(this)}catch(r){console.error(r)}let e=new Hn(await window.fetch(this.url,this.fetchOptions));return e.unauthenticated&&e.authenticationURL?Promise.reject(window.location.href=e.authenticationURL):(e.ok&&e.isTurboStream&&await e.renderTurboStream(),e)}addHeader(e,r){let n=this.additionalHeaders;n[e]=r,this.options.headers=n}get fetchOptions(){return{method:this.method.toUpperCase(),headers:this.headers,body:this.formattedBody,signal:this.signal,credentials:"same-origin",redirect:this.redirect}}get headers(){return fh(Object.assign({"X-Requested-With":"XMLHttpRequest","X-CSRF-Token":this.csrfToken,"Content-Type":this.contentType,Accept:this.accept},this.additionalHeaders))}get csrfToken(){return hh(ol("csrf-param"))||ol("csrf-token")}get contentType(){return this.options.contentType?this.options.contentType:this.body==null||this.body instanceof window.FormData?void 0:this.body instanceof window.File?this.body.type:"application/json"}get accept(){switch(this.responseKind){case"html":return"text/html, application/xhtml+xml";case"turbo-stream":return"text/vnd.turbo-stream.html, text/html, application/xhtml+xml";case"json":return"application/json, application/vnd.api+json";default:return"*/*"}}get body(){return this.options.body}get query(){let e=(this.originalUrl.split("?")[1]||"").split("#")[0],r=new URLSearchParams(e),n=this.options.query;n instanceof window.FormData?n=ph(n):n instanceof window.URLSearchParams?n=n.entries():n=Object.entries(n||{}),mh(r,n);let i=r.toString();return i.length>0?`?${i}`:""}get url(){return this.originalUrl.split("?")[0].split("#")[0]+this.query}get responseKind(){return this.options.responseKind||"html"}get signal(){return this.options.signal}get redirect(){return this.options.redirect||"follow"}get additionalHeaders(){return this.options.headers||{}}get formattedBody(){let e=Object.prototype.toString.call(this.body)==="[object String]";return this.headers["Content-Type"]==="application/json"&&!e?JSON.stringify(this.body):this.body}};async function al(t,e){return new Un("post",t,e).perform()}var Nl=sn(Cp());function Tp(t,e){let r=Object.assign({},e),n=Object.keys(r),i=decodeURIComponent(t).replace(/:(\w+)/g,(l,u)=>{if(n.includes(u)){let g=r[u];return delete r[u],g}else return console.warn(`url template(${t}) key ${u} not found in params`,e),u});i=new URL(i,window.location.origin);let s=Nl.default.parse(i.search,{ignoreQueryPrefix:!0}),o=Object.assign(s,r);return i.search=Nl.default.stringify(o,{arrayFormat:"brackets"}),i.toString()}var Ls=class extends me{static targets=["fileInput","preview","hiddenField","removeButton"];static values={id:String,url:String,directUploadUrl:String};uploadFile(){let t=this.fileInputTarget.files[0];if(!t)return;new _r(t,this.directUploadUrlValue).create((r,n)=>{if(r)console.error("\u4E0A\u4F20\u5931\u8D25:",r.target.response.errors);else{let i=new FormData;i.append("uploads[file][]",n.signed_id),i.append("uploads[purpose]","dynamic_form"),al(this.urlValue,{body:i}).then(s=>{s.ok&&s.json.then(o=>{let l=o[0].signed_id;this.hiddenFieldTarget.value=l,this.idValueChanged()})})}})}idValueChanged(){let t=this.hiddenFieldTarget.value;switch(this.removeButtonTarget.style.display=t?"inline-block":"none",this.type){case"image":t?this.previewTarget.src=this.#t():this.previewTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='12' height='12' fill='rgba(173,184,194,0.63)'%3E%3Cpath d='M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM5 13.9289V19H8.1005L11.0858 16.0147L7 11.9289L5 13.9289ZM10.9289 19H19V16.9289L16 13.9289L10.9289 19ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z'%3E%3C/path%3E%3C/svg%3E";break;case"video":t?(this.previewTarget.src=this.#t(),this.previewTarget.setAttribute("controls","controls"),this.previewTarget.removeAttribute("poster")):(this.previewTarget.pause(),this.previewTarget.currentTime=0,this.previewTarget.setAttribute("poster","data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='rgba(173,184,194,0.63)'%3E%3Cpath d='M16 4C16.5523 4 17 4.44772 17 5V9.2L22.2133 5.55071C22.4395 5.39235 22.7513 5.44737 22.9096 5.6736C22.9684 5.75764 23 5.85774 23 5.96033V18.0397C23 18.3158 22.7761 18.5397 22.5 18.5397C22.3974 18.5397 22.2973 18.5081 22.2133 18.4493L17 14.8V19C17 19.5523 16.5523 20 16 20H2C1.44772 20 1 19.5523 1 19V5C1 4.44772 1.44772 4 2 4H16ZM15 6H3V18H15V6ZM8 8H10V11H13V13H9.999L10 16H8L7.999 13H5V11H8V8ZM21 8.84131L17 11.641V12.359L21 15.1587V8.84131Z'%3E%3C/path%3E%3C/svg%3E"),this.previewTarget.setAttribute("src",""),this.previewTarget.removeAttribute("controls"));break}}removeFile(){this.hiddenFieldTarget.value="",this.idValueChanged()}get type(){return this.data.get("type")}get purpose(){return this.data.get("purpose")}get params(){try{return JSON.parse(this.data.get("params"))}catch{return{}}}get urlTemplate(){return document.querySelector('meta[name="dam-url-template"]').getAttribute("content")}#t(){return Tp(this.urlTemplate,Object.assign({},this.params,{id:this.hiddenFieldTarget.value,purpose:this.purpose}))}};var Lp=sn(kp()),Pp=(t,{expression:e},{evaluateLater:r,effect:n})=>{let i=r(e||"{}");n(()=>{i(s=>{typeof s=="object"?t.__x_tom=new Lp.default(t,s):console.warn("Input mask config should be object")})})};var Jp=sn(Qp());var LE=function(){let t=document.createElement("div");document.head.appendChild(t);let e=window.getComputedStyle(t).backgroundColor;return document.head.removeChild(t),e},Ul=function(t,e){e||=LE();let r=window.getComputedStyle(t).backgroundColor;return r!=e?r:t.parentElement?Ul(t.parentElement):e};var Rs=class extends me{connect(){this.element.style.color=this.isLightBackground?this.darkColor:this.lightColor}get backgroundColor(){return(0,Jp.default)(Ul(this.element))}get isLightBackground(){return this.backgroundColor.isLight()}get isDarkBackground(){return this.backgroundColor.isDark()}get darkColor(){return this.data.get("dark")||"#000000"}get lightColor(){return this.data.get("light")||"#ffffff"}};var Zp=sn(Yp());function PE(t,e,r){r?t.style.color=e.toHEXA():e.s*e.a>45||(100-e.v)*e.a>45?t.style.color="#FFFFFF":t.style.color="#000000",t.style.backgroundColor=e.toHEXA()}function FE(t,e){old_value=t.value,new_value=e.toHEXA(),t.value=new_value,old_value!=new_value&&t.dispatchEvent(new Event("change"))}var Ns=class extends me{static targets=["trigger","input"];initialize(){this.element[this.identifier]=this}connect(){this.defaultValue=this.inputElement?.value,this.pickr=Zp.default.create({el:this.dataWithDefault("el",this.triggerElement),container:this.dataWithDefault("container","body"),theme:this.dataWithDefault("theme","monolith"),closeOnScroll:this.dataWithDefault("closeOnScroll",!0),appClass:this.dataWithDefault("appClass"),useAsButton:this.dataWithDefault("useAsButton",!0),padding:this.dataWithDefault("padding",8),inline:this.dataWithDefault("inline",!1),autoReposition:this.dataWithDefault("autoReposition",!0),sliders:this.dataWithDefault("sliders"),disabled:this.dataWithDefault("disabled",!1),lockOpacity:this.dataWithDefault("lockOpacity",!1),outputPrecision:this.dataWithDefault("outputPrecision",0),comparison:this.dataWithDefault("comparison",!0),default:this.dataWithDefault("default",this.inputElement?.value),swatches:this.data.has("swatches")?this.data.get("swatches").split("|"):["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 1)","rgba(156, 39, 176, 1)","rgba(103, 58, 183, 1)","rgba(63, 81, 181, 1)","rgba(33, 150, 243, 1)","rgba(3, 169, 244, 1)","rgba(0, 188, 212, 1)","rgba(0, 150, 136, 1)","rgba(76, 175, 80, 1)","rgba(139, 195, 74, 1)","rgba(205, 220, 57, 1)","rgba(255, 235, 59, 1)","rgba(255, 193, 7, 1)"],defaultRepresentation:this.dataWithDefault("defaultRepresentation","HEX"),showAlways:this.dataWithDefault("showAlways",!1),closeWithKey:this.dataWithDefault("closeWithKey","Escape"),position:this.dataWithDefault("position","bottom-start"),adjustableNumbers:this.dataWithDefault("adjustableNumbers",!0),components:{palette:this.dataWithDefault("componentsPalette",!0),preview:this.dataWithDefault("componentsPreview",!0),opacity:this.dataWithDefault("componentsOpacity",!0),hue:this.dataWithDefault("componentsHue",!0),interaction:{hex:this.dataWithDefault("componentsInteractionHex",!1),rgba:this.dataWithDefault("componentsInteractionRgba",!1),hsla:this.dataWithDefault("componentsInteractionHsla",!1),hsva:this.dataWithDefault("componentsInteractionHsva",!1),cmyk:this.dataWithDefault("componentsInteractionCmyk",!1),input:this.dataWithDefault("componentsInteractionInput",!0),cancel:this.dataWithDefault("componentsInteractionCancel",!0),clear:this.dataWithDefault("componentsInteractionClear",!1),save:this.dataWithDefault("componentsInteractionSave",!0)}},i18n:{"ui:dialog":this.dataWithDefault("i18nUiDialog","color picker dialog"),"btn:toggle":this.dataWithDefault("i18nUiToggle","toggle color picker dialog"),"btn:swatch":this.dataWithDefault("i18nBtnSwatch","color swatch"),"btn:last-color":this.dataWithDefault("i18nBtnLastColor","use previous color"),"btn:save":this.dataWithDefault("i18nBtnSave","Save"),"btn:cancel":this.dataWithDefault("i18nBtnCancel","Cancel"),"btn:clear":this.dataWithDefault("i18nBtnClear","Clear"),"aria:btn:save":this.dataWithDefault("i18nAriaBtnSave","save and close"),"aria:btn:cancel":this.dataWithDefault("i18nAriaBtnCancel","cancel and close"),"aria:btn:clear":this.dataWithDefault("i18nAriaBtnClear","clear and close"),"aria:input":this.dataWithDefault("i18nAriaInput","color input field"),"aria:palette":this.dataWithDefault("i18nAriaPalette","color selection area"),"aria:hue":this.dataWithDefault("i18nAriaHue","hue selection slider"),"aria:opacity":this.dataWithDefault("i18nAriaOpacity","selection slider")}}),this.pickr.on("change",this.onChange.bind(this)),this.pickr.on("save",this.onSave.bind(this)),this.pickr.on("init",this.onInit.bind(this)),this.pickr.on("show",this.onShow.bind(this)),this.pickr.on("cancel",this.onCancel.bind(this))}disconnect(){this.pickr&&(this.pickr.destroyAndRemove(),this.pickr=null)}get triggerElement(){return this.hasTriggerTarget?this.triggerTarget:this.inputElement||this.element}get inputElement(){return this.hasInputTarget?this.inputTarget:void 0}dataWithDefault(t,e){return this.data.has(t)?e===!0||e===!1?this.data.get(t)==="true":this.data.get(t):e}onInit(t){let{result:e}=t.getRoot().interaction;e.addEventListener("keydown",r=>{r.key==="Enter"&&(t.applyColor(),t.hide())},{capture:!0}),this.dispatch("init",{detail:t._color})}onShow(t){this.pickr.setColor(this.inputElement?.value,!0),this.dispatch("show",{detail:t._color})}onCancel(t){this.pickr.options.inline||this.pickr.hide(),this.dispatch("change",{detail:t._color})}onChange(t){this.dispatch("change",{detail:t})}onSave(t){this.pickr.options.inline||this.pickr.hide(),this.dispatch("save",{detail:t})}applyColor(t){this.inputElement&&this.pickr.getColor().toHEXA()!=this.inputElement.value&&this.pickr.setColor(this.inputElement.value)}updateValue(t){FE(this.inputElement,t.detail)}updateBackground(t){PE(this.inputElement,t.detail,this.data.has("hideText"))}update(t){this.updateValue(t),this.updateBackground(t)}};var Bs=class extends me{static targets=["button"];static values={url:String};openDialog(){let t=this.urlValue;t&&fetch(t).then(e=>e.text()).then(e=>{debugger;let n=new DOMParser().parseFromString(e,"text/html"),i=n.querySelector('div[x-ref="toolbar"]');if(i){let l=n.querySelector("div.editor.editing");l&&l.appendChild(i)}let s=document.querySelector("#headlessui-dialog"),o=n.querySelector("#dialog_content");s.hasAttribute("class")||s.setAttribute("class","fixed inset-0 z-[100] custom-scrollbar-stronger overflow-y-auto overflow-x-hidden"),o?s.innerHTML=ME(o.innerHTML):s.innerHTML=n.body.innerHTML,s.querySelector('[data-action="click->dialog-fetch#closeDialog"]').onclick=()=>{s.removeAttribute("class"),s.innerHTML=""}}).catch(e=>console.error("Error loading dialog content:",e))}closeDialog(t){t.target.closest(".fixed").remove()}};function ME(t){return`
  <div class="overflow-hidden relative min-h-screen">
    <div class="w-full sm:flex sm:justify-center sm:pt-12">
      <div class="absolute inset-0 bg-opacity-40 backdrop-filter backdrop-blur-sm main-transition dark:bg-opacity-40 bg-gray-900/20 dark:bg-gray-900"
      id="headlessui-dialog-overlay-:rgt:"
      >
      </div>
      <div class="hidden sm:block">
        <div class="absolute top-1 right-1 p-1.5 rounded-lg border shadow-none cursor-pointer md:right-4 md:top-4 dropdown-background bg-white/40 hover:bg-white dark:bg-border/30 dark:hover:bg-border/70 main-transition"
          data-action="click->dialog-fetch#closeDialog"
          tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round" class="w-6 h-6 secondary-svg">
            <path d="M18 6 6 18"></path>
            <path d="m6 6 12 12"></path>
            </svg>
          </div>
      </div>
      <div
        class="relative z-50 mx-0 w-full max-w-5xl bg-white opacity-100 transition-transform ease-in-out transform scale-100 dark:shadow darker-dropdown-background 2xl:mx-0 sm:mx-8 sm:my-10 sm:rounded-lg">
        <div class="mb-10 sm:hidden">
          <button
            class="p-1.5 fixed left-4 top-4 text-[11px] uppercase tracking-wide  dark:hover:bg-dark-accent bg-gray-50 dashboard-secondary dark:bg-border border-gray-50"><svg
              xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4">
              <path d="M18 6 6 18"></path>
              <path d="m6 6 12 12"></path>
            </svg>
          </button>
        </div>
        <div class="mx-auto min-w-0 max-w-7xl">
          <div class="relative">
            <div class="max-w-5xl h-full">
              ${t}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>`}qt.directive("tom-select",Pp);qt.directive("tooltip",Yd);qt.store("breakpoints",Cd);window.Alpine=qt;qt.plugin(Nu);document.addEventListener("alpine:init",()=>{qt.data("usePopper",Ad)});qt.magic("dispatchTo",()=>_d);qt.start();var St=Hi.start();window.Stimulus=St;St.register("theme",Ui);St.register("dropdown",Fn);St.register("load_more",zi);St.register("fullscreen",as);St.register("more",ls);St.register("sticky",cs);St.register("upload",Ls);St.register("smart-foreground-color",Rs);St.register("color-picker",Ns);St.register("dialog-fetch",Bs);})();
/*! Bundled license information:

@simonwep/pickr/dist/pickr.min.js:
  (*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr *)

stimulus-use/dist/index.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

stimulus-use/dist/index.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
